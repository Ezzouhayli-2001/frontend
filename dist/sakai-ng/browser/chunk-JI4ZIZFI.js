import{a as ft,b as Ge,c as he}from"./chunk-SDISPDLH.js";import{a as Nt,c as Ft,d as Ot,f as Je,g as xe,h as Ut,i as kt,j as zt,k as de,l as yt}from"./chunk-246Z63DX.js";import{a as Vt,c as ee,e as _t,g as mt,h as vt,i as ce,j as ye,k as $e,p as se,s as at,u as Xe,v as Si,w as Ye,x as qe}from"./chunk-USCSO23R.js";import{A as fi,B as yi,C as xi,D as bi,E as Ci,a as re,c as Fe,e as X,f as Y,j as Ue,l as Q,n as ze,q as we,u as R,w as Ie,x as y,y as K}from"./chunk-EQ3LOFO2.js";import{Ab as ke,Db as fe,Eb as je,Fb as Re,Ga as Be,Hb as Ne,Ib as Oe,Jb as nt,Lb as Bt,Nb as Wt,Ob as ti,Qb as N,Vb as He,Wb as Le,Ya as We,Za as O,b as Dt,db as Ce,k as L,kb as Se,la as F,lb as ht,m as V,na as k,o as B,r as W,ra as z,rb as j,ub as ei,vb as ue,yb as q}from"./chunk-B3PDZLFS.js";import{$ as _,$b as $,Cb as T,Eb as I,Fb as m,Ib as g,Jb as Z,Jc as ge,La as r,Lc as J,Ma as w,N as Pt,O as gi,Qb as De,Qc as P,Rb as d,S as Et,Sb as u,Sc as vi,Tb as H,Ub as _i,Vb as Ve,Wa as D,Wb as x,Xa as hi,Xb as b,Yb as C,_b as E,aa as v,bb as M,ic as s,jc as p,kc as Qe,mc as $t,nb as c,qa as G,qb as U,wb as a,xb as n,yb as f}from"./chunk-6BHMU625.js";import{a as le,h as Zt,j as A}from"./chunk-K4ALXBGI.js";var un=()=>({width:"70vw"}),ii=o=>({"ng-invalid ng-dirty":o});function gn(o,S){o&1&&(a(0,"small",9),d(1,"Code is obligatory."),n())}function hn(o,S){o&1&&(a(0,"small",9),d(1,"Label is obligatory."),n())}function _n(o,S){o&1&&(a(0,"small",9),d(1,"Style is obligatory."),n())}function vn(o,S){if(o&1){let e=T();a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),a(8,"p-inputNumber",7),s(9,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.indexation,t)||(l.item.indexation=t),v(t)}),n()(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),a(14,"span",9),d(15,"*"),n()(),a(16,"input",10),s(17,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.code,t)||(l.item.code=t),v(t)}),n(),M(18,gn,2,0,"small",11),n(),a(19,"div",5)(20,"label",12),d(21),s(22,"translate"),a(23,"span",9),d(24,"*"),n()(),a(25,"input",13),s(26,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.label,t)||(l.item.label=t),v(t)}),n(),M(27,hn,2,0,"small",11),n(),a(28,"div",5)(29,"label",14),d(30),s(31,"translate"),a(32,"span",9),d(33,"*"),n()(),a(34,"input",15),s(35,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.style,t)||(l.item.style=t),v(t)}),n(),M(36,_n,2,0,"small",11),n(),a(37,"div",5)(38,"label",16),d(39),s(40,"translate"),n(),a(41,"input",17),s(42,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.color,t)||(l.item.color=t),v(t)}),n()()()()()}if(o&2){let e=m();r(),g("header",p(2,22,"statutLocal.tabPan")),r(5),u(p(7,24,"statutLocal.indexation")),r(2),g("placeholder",p(9,26,"statutLocal.indexation")),x("ngModel",e.item.indexation),r(4),u(p(13,28,"statutLocal.code")),r(4),g("placeholder",p(17,30,"statutLocal.code")),x("ngModel",e.item.code),c("ngClass",$(44,ii,!e.validStatutLocalCode)),r(2),c("ngIf",!e.validStatutLocalCode),r(3),u(p(22,32,"statutLocal.label")),r(4),g("placeholder",p(26,34,"statutLocal.label")),x("ngModel",e.item.label),c("ngClass",$(46,ii,!e.validStatutLocalLabel)),r(2),c("ngIf",!e.validStatutLocalLabel),r(3),u(p(31,36,"statutLocal.style")),r(4),g("placeholder",p(35,38,"statutLocal.style")),x("ngModel",e.item.style),c("ngClass",$(48,ii,!e.validStatutLocalStyle)),r(2),c("ngIf",!e.validStatutLocalStyle),r(3),u(p(40,40,"statutLocal.color")),r(2),g("placeholder",p(42,42,"statutLocal.color")),x("ngModel",e.item.color)}}function fn(o,S){if(o&1){let e=T();a(0,"div",18)(1,"button",19),s(2,"translate"),I("click",function(){_(e);let t=m();return v(t.save())}),f(3,"i",20),d(4),s(5,"translate"),n(),a(6,"button",21),I("click",function(){_(e);let t=m();return v(t.hideCreateDialog())}),f(7,"i",22),d(8),s(9,"translate"),n()()}o&2&&(r(),g("label",p(2,3,"validate")),r(3),H(" ",p(5,5,"validate")," "),r(4),H(" ",p(9,7,"cancel")," "))}var wi=(()=>{class o{constructor(e,i){this.service=e,this.platformId=i,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validStatutLocalCode=!0,this._validStatutLocalLabel=!0,this._validStatutLocalStyle=!0,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){}save(){this.submitted=!0,this.validateForm(),this.errorMessages.length===0?this.saveWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}saveWithShowOption(e){this.service.save().subscribe(i=>{i!=null?(this.items.push(le({},i)),this.createDialog=!1,this.submitted=!1,this.item=new _t):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},i=>{console.log(i)})}hideCreateDialog(){this.createDialog=!1,this.setValidation(!0)}setValidation(e){this.validStatutLocalCode=e,this.validStatutLocalLabel=e,this.validStatutLocalStyle=e}validateForm(){this.errorMessages=new Array,this.validateStatutLocalCode(),this.validateStatutLocalLabel(),this.validateStatutLocalStyle()}validateStatutLocalCode(){this.stringUtilService.isEmpty(this.item.code)?(this.errorMessages.push("Code non valide"),this.validStatutLocalCode=!1):this.validStatutLocalCode=!0}validateStatutLocalLabel(){this.stringUtilService.isEmpty(this.item.label)?(this.errorMessages.push("Label non valide"),this.validStatutLocalLabel=!1):this.validStatutLocalLabel=!0}validateStatutLocalStyle(){this.stringUtilService.isEmpty(this.item.style)?(this.errorMessages.push("Style non valide"),this.validStatutLocalStyle=!1):this.validStatutLocalStyle=!0}get validStatutLocalCode(){return this._validStatutLocalCode}set validStatutLocalCode(e){this._validStatutLocalCode=e}get validStatutLocalLabel(){return this._validStatutLocalLabel}set validStatutLocalLabel(e){this._validStatutLocalLabel=e}get validStatutLocalStyle(){return this._validStatutLocalStyle}set validStatutLocalStyle(e){this._validStatutLocalStyle=e}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}static{this.\u0275fac=function(i){return new(i||o)(w(ft),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-statut-local-create-admin"]],standalone:!1,decls:4,vars:11,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal","maximizable","draggable","resizable"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["id","1",3,"ngModelChange","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],[1,"text-red-500"],["type","text","pInputText","","id","2",3,"ngModelChange","placeholder","ngModel","ngClass"],["class","text-red-500",4,"ngIf"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","id","3",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","id","4",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","5",1,"text-sm","font-semibold"],["type","text","pInputText","","id","5",3,"ngModelChange","placeholder","ngModel"],[1,"flex","justify-end","space-x-3","p-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-primary",3,"click","label"],[1,"pi","pi-check"],[1,"border","border-gray-400","text-gray-600","hover:bg-gray-200","px-4","py-2","rounded-md",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.createDialog,h)||(t.createDialog=h),h}),M(2,vn,43,50,"ng-template",1)(3,fn,10,9,"ng-template",2),n()),i&2&&(U(E(10,un)),g("header",p(1,8,"statutLocal.tabPan")),x("visible",t.createDialog),c("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1))},dependencies:[ge,J,z,Q,O,V,B,W,Y,X,q,R],encapsulation:2})}}return o})();var xn=()=>({width:"70vw"});function bn(o,S){if(o&1&&(a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),f(8,"p-inputNumber",7),s(9,"translate"),n(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),n(),f(14,"input",9),s(15,"translate"),n(),a(16,"div",5)(17,"label",10),d(18),s(19,"translate"),n(),f(20,"input",11),s(21,"translate"),n(),a(22,"div",5)(23,"label",12),d(24),s(25,"translate"),n(),f(26,"input",13),s(27,"translate"),n(),a(28,"div",5)(29,"label",14),d(30),s(31,"translate"),n(),f(32,"input",15),s(33,"translate"),n()()()()),o&2){let e=m();r(),g("header",p(2,21,"statutLocal.tabPan")),r(5),u(p(7,23,"statutLocal.indexation")),r(2),g("placeholder",p(9,25,"statutLocal.indexation")),c("disabled",!0)("ngModel",e.item.indexation),r(4),u(p(13,27,"statutLocal.code")),r(2),g("placeholder",p(15,29,"statutLocal.code")),c("disabled",!0)("ngModel",e.item.code),r(4),u(p(19,31,"statutLocal.label")),r(2),g("placeholder",p(21,33,"statutLocal.label")),c("disabled",!0)("ngModel",e.item.label),r(4),u(p(25,35,"statutLocal.style")),r(2),g("placeholder",p(27,37,"statutLocal.style")),c("disabled",!0)("ngModel",e.item.style),r(4),u(p(31,39,"statutLocal.color")),r(2),g("placeholder",p(33,41,"statutLocal.color")),c("disabled",!0)("ngModel",e.item.color)}}function Cn(o,S){if(o&1){let e=T();a(0,"div",16)(1,"div")(2,"button",17),I("click",function(){_(e);let t=m();return v(t.hideViewDialog())}),f(3,"i",18),d(4," Annuler "),n()()()}}var Li=(()=>{class o{constructor(e){this.service=e,this._submitted=!1,this._errorMessages=new Array,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){}hideViewDialog(){this.viewDialog=!1}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatView}get dateFormatColumn(){return L.dateFormatList}static{this.\u0275fac=function(i){return new(i||o)(w(ft))}}static{this.\u0275cmp=D({type:o,selectors:[["app-statut-local-view-admin"]],standalone:!1,decls:4,vars:8,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["id","1",3,"disabled","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","2",3,"disabled","placeholder","ngModel"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","3",3,"disabled","placeholder","ngModel"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","4",3,"disabled","placeholder","ngModel"],["for","5",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","5",3,"disabled","placeholder","ngModel"],[1,"flex","justify-end","p-4"],[1,"border","border-gray-400","font-semibold","py-2","px-4","rounded","shadow",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.viewDialog,h)||(t.viewDialog=h),h}),M(2,bn,34,43,"ng-template",1)(3,Cn,5,0,"ng-template",2),n()),i&2&&(U(E(7,xn)),g("header",p(1,5,"statutLocal.tabPan")),x("visible",t.viewDialog),c("modal",!0))},dependencies:[z,Q,O,V,B,W,Y,X,q,R],encapsulation:2})}}return o})();var wn=()=>({width:"70vw"}),ai=o=>({"ng-invalid ng-dirty":o});function Ln(o,S){o&1&&(a(0,"small",9),d(1,"Code is obligatory."),n())}function In(o,S){o&1&&(a(0,"small",9),d(1,"Label is obligatory."),n())}function Mn(o,S){o&1&&(a(0,"small",9),d(1,"Style is obligatory."),n())}function Tn(o,S){if(o&1){let e=T();a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),a(8,"p-inputNumber",7),s(9,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.indexation,t)||(l.item.indexation=t),v(t)}),n()(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),a(14,"span",9),d(15,"*"),n()(),a(16,"input",10),s(17,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.code,t)||(l.item.code=t),v(t)}),n(),M(18,Ln,2,0,"small",11),n(),a(19,"div",5)(20,"label",12),d(21),s(22,"translate"),a(23,"span",9),d(24,"*"),n()(),a(25,"input",13),s(26,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.label,t)||(l.item.label=t),v(t)}),n(),M(27,In,2,0,"small",11),n(),a(28,"div",5)(29,"label",14),d(30),s(31,"translate"),a(32,"span",9),d(33,"*"),n()(),a(34,"input",15),s(35,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.style,t)||(l.item.style=t),v(t)}),n(),M(36,Mn,2,0,"small",11),n(),a(37,"div",5)(38,"label",16),d(39),s(40,"translate"),n(),a(41,"input",17),s(42,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.color,t)||(l.item.color=t),v(t)}),n()()()()()}if(o&2){let e=m();r(),g("header",p(2,22,"statutLocal.tabPan")),r(5),u(p(7,24,"statutLocal.indexation")),r(2),g("placeholder",p(9,26,"statutLocal.indexation")),x("ngModel",e.item.indexation),r(4),u(p(13,28,"statutLocal.code")),r(4),g("placeholder",p(17,30,"statutLocal.code")),x("ngModel",e.item.code),c("ngClass",$(44,ai,!e.validStatutLocalCode)),r(2),c("ngIf",!e.validStatutLocalCode),r(3),u(p(22,32,"statutLocal.label")),r(4),g("placeholder",p(26,34,"statutLocal.label")),x("ngModel",e.item.label),c("ngClass",$(46,ai,!e.validStatutLocalLabel)),r(2),c("ngIf",!e.validStatutLocalLabel),r(3),u(p(31,36,"statutLocal.style")),r(4),g("placeholder",p(35,38,"statutLocal.style")),x("ngModel",e.item.style),c("ngClass",$(48,ai,!e.validStatutLocalStyle)),r(2),c("ngIf",!e.validStatutLocalStyle),r(3),u(p(40,40,"statutLocal.color")),r(2),g("placeholder",p(42,42,"statutLocal.color")),x("ngModel",e.item.color)}}function An(o,S){if(o&1){let e=T();a(0,"div",18)(1,"button",19),s(2,"translate"),I("click",function(){_(e);let t=m();return v(t.edit())}),f(3,"i",20),d(4),s(5,"translate"),n(),a(6,"button",21),I("click",function(){_(e);let t=m();return v(t.hideEditDialog())}),f(7,"i",22),d(8),s(9,"translate"),n()()}o&2&&(r(),g("label",p(2,3,"validate")),r(3),H(" ",p(5,5,"validate")," "),r(4),H(" ",p(9,7,"cancel")," "))}var Ii=(()=>{class o{constructor(e,i){this.service=e,this.platformId=i,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validStatutLocalCode=!0,this._validStatutLocalLabel=!0,this._validStatutLocalStyle=!0,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){}prepareEdit(){}edit(){this.submitted=!0,this.prepareEdit(),this.validateForm(),this.errorMessages.length===0?this.editWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}editWithShowOption(e){this.service.edit().subscribe(i=>{let t=this.items.findIndex(l=>l.id===this.item.id);this.items[t]=i,this.editDialog=!1,this.submitted=!1,this.item=new _t},i=>{console.log(i)})}hideEditDialog(){this.editDialog=!1,this.setValidation(!0)}setValidation(e){this.validStatutLocalCode=e,this.validStatutLocalLabel=e,this.validStatutLocalStyle=e}validateForm(){this.errorMessages=new Array,this.validateStatutLocalCode(),this.validateStatutLocalLabel(),this.validateStatutLocalStyle()}validateStatutLocalCode(){this.stringUtilService.isEmpty(this.item.code)?(this.errorMessages.push("Code non valide"),this.validStatutLocalCode=!1):this.validStatutLocalCode=!0}validateStatutLocalLabel(){this.stringUtilService.isEmpty(this.item.label)?(this.errorMessages.push("Label non valide"),this.validStatutLocalLabel=!1):this.validStatutLocalLabel=!0}validateStatutLocalStyle(){this.stringUtilService.isEmpty(this.item.style)?(this.errorMessages.push("Style non valide"),this.validStatutLocalStyle=!1):this.validStatutLocalStyle=!0}get validStatutLocalCode(){return this._validStatutLocalCode}set validStatutLocalCode(e){this._validStatutLocalCode=e}get validStatutLocalLabel(){return this._validStatutLocalLabel}set validStatutLocalLabel(e){this._validStatutLocalLabel=e}get validStatutLocalStyle(){return this._validStatutLocalStyle}set validStatutLocalStyle(e){this._validStatutLocalStyle=e}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}static{this.\u0275fac=function(i){return new(i||o)(w(ft),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-statut-local-edit-admin"]],standalone:!1,decls:4,vars:11,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal","maximizable","draggable","resizable"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["id","1",3,"ngModelChange","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],[1,"text-red-500"],["type","text","pInputText","","id","2",3,"ngModelChange","placeholder","ngModel","ngClass"],["class","text-red-500",4,"ngIf"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","id","3",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","id","4",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","5",1,"text-sm","font-semibold"],["type","text","pInputText","","id","5",3,"ngModelChange","placeholder","ngModel"],[1,"flex","justify-end","space-x-3","p-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-primary",3,"click","label"],[1,"pi","pi-check"],[1,"border","border-gray-400","text-gray-600","hover:bg-gray-200","px-4","py-2","rounded-md",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.editDialog,h)||(t.editDialog=h),h}),M(2,Tn,43,50,"ng-template",1)(3,An,10,9,"ng-template",2),n()),i&2&&(U(E(10,wn)),g("header",p(1,8,"statutLocal.tabPan")),x("visible",t.editDialog),c("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1))},dependencies:[ge,J,z,Q,O,V,B,W,Y,X,q,R],encapsulation:2})}}return o})();var En=()=>["indexation","code","label","style","color"],Dn=()=>[10,25,50],Vn=()=>({width:"450px"});function Bn(o,S){if(o&1){let e=T();a(0,"button",18),s(1,"translate"),I("click",function(){_(e);let t=m(3);return v(t.openCreate())}),n()}o&2&&Z("label"," ",p(1,2,"new"),"")}function Wn(o,S){if(o&1){let e=T();M(0,Bn,2,4,"button",16),a(1,"button",17),s(2,"translate"),I("click",function(){_(e);let t=m(2);return v(t.showSearch())}),n()}if(o&2){let e=m(2);c("ngIf",e.createActionIsValid),r(),Z("label"," ",p(2,5,"search"),""),Z("icon","pi pi-",e.findByCriteriaShow?"angle-down":"angle-right","")}}function Fn(o,S){if(o&1&&(a(0,"div",19),f(1,"p-splitButton",20),s(2,"translate"),n()),o&2){let e=m(2);r(),Z("label"," ",p(2,3,"export"),""),c("model",e.excelPdfButons)}}function kn(o,S){if(o&1){let e=T();a(0,"div",21)(1,"div",22)(2,"label",23),d(3),s(4,"translate"),n(),a(5,"p-inputNumber",24),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.indexationMin,t)||(l.criteria.indexationMin=t),v(t)}),n()(),a(6,"div",22)(7,"label",25),d(8),s(9,"translate"),n(),a(10,"p-inputNumber",26),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.indexationMax,t)||(l.criteria.indexationMax=t),v(t)}),n()(),a(11,"div",22)(12,"label",27),d(13),s(14,"translate"),n(),a(15,"input",28),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.codeLike,t)||(l.criteria.codeLike=t),v(t)}),n()(),a(16,"div",22)(17,"label",29),d(18),s(19,"translate"),n(),a(20,"input",30),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.labelLike,t)||(l.criteria.labelLike=t),v(t)}),n()(),a(21,"div",22)(22,"label",31),d(23),s(24,"translate"),n(),a(25,"input",32),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.styleLike,t)||(l.criteria.styleLike=t),v(t)}),n()(),a(26,"div",22)(27,"label",33),d(28),s(29,"translate"),n(),a(30,"input",34),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.colorLike,t)||(l.criteria.colorLike=t),v(t)}),n()(),a(31,"div",35)(32,"button",36),s(33,"translate"),I("click",function(){_(e);let t=m(2);return v(t.findPaginatedByCriteria())}),f(34,"i",37),d(35),s(36,"translate"),n()()()}if(o&2){let e=m(2);r(3),u(p(4,14,"statutLocal.indexationMin")),r(2),x("ngModel",e.criteria.indexationMin),r(3),u(p(9,16,"statutLocal.indexationMax")),r(2),x("ngModel",e.criteria.indexationMax),r(3),u(p(14,18,"statutLocal.code")),r(2),x("ngModel",e.criteria.codeLike),r(3),u(p(19,20,"statutLocal.label")),r(2),x("ngModel",e.criteria.labelLike),r(3),u(p(24,22,"statutLocal.style")),r(2),x("ngModel",e.criteria.styleLike),r(3),u(p(29,24,"statutLocal.color")),r(2),x("ngModel",e.criteria.colorLike),r(2),g("label",p(33,26,"validate")),r(3),H(" ",p(36,28,"validate")," ")}}function jn(o,S){if(o&1){let e=T();a(0,"div",38)(1,"h5",39),d(2),s(3,"translate"),n(),a(4,"span",40)(5,"p-iconfield",41),f(6,"p-inputicon",42),a(7,"input",43),s(8,"translate"),I("input",function(t){_(e),m();let l=De(9);return v(l.filterGlobal(t.target.value,"contains"))}),n()()()()}o&2&&(r(2),u(p(3,2,"statutLocal.header")),r(5),g("placeholder",p(8,4,"searchInput")))}function Rn(o,S){o&1&&(a(0,"tr")(1,"th",44),f(2,"p-tableHeaderCheckbox"),n(),a(3,"th",45)(4,"div",46)(5,"span",47),d(6),s(7,"translate"),n(),f(8,"p-sortIcon",48),n()(),a(9,"th",49)(10,"div",46)(11,"span",47),d(12),s(13,"translate"),n(),f(14,"p-sortIcon",50)(15,"p-columnFilter",51),n()(),a(16,"th",52)(17,"div",46)(18,"span",47),d(19),s(20,"translate"),n(),f(21,"p-sortIcon",53)(22,"p-columnFilter",54),n()(),a(23,"th",55)(24,"div",46)(25,"span",47),d(26),s(27,"translate"),n(),f(28,"p-sortIcon",56)(29,"p-columnFilter",57),n()(),a(30,"th",58)(31,"div",46)(32,"span",47),d(33),s(34,"translate"),n(),f(35,"p-sortIcon",59)(36,"p-columnFilter",60),n()(),a(37,"th"),d(38,"Actions"),n()()),o&2&&(r(6),u(p(7,5,"statutLocal.indexation")),r(6),u(p(13,7,"statutLocal.code")),r(7),u(p(20,9,"statutLocal.label")),r(7),u(p(27,11,"statutLocal.style")),r(7),u(p(34,13,"statutLocal.color")))}function Nn(o,S){if(o&1){let e=T();a(0,"button",66),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.edit(t))}),n()}}function On(o,S){if(o&1){let e=T();a(0,"button",67),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.view(t))}),n()}}function Un(o,S){if(o&1){let e=T();a(0,"button",68),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.delete(t))}),n()}}function zn(o,S){if(o&1&&(a(0,"tr")(1,"td"),f(2,"p-tableCheckbox",61),n(),a(3,"td"),d(4),n(),a(5,"td"),d(6),n(),a(7,"td"),f(8,"p-tag",62),n(),a(9,"td"),d(10),n(),a(11,"td"),d(12),n(),a(13,"td"),M(14,Nn,1,0,"button",63)(15,On,1,0,"button",64)(16,Un,1,0,"button",65),n()()),o&2){let e=S.$implicit,i=m(2);r(2),c("value",e),r(2),u(e.indexation),r(2),u(e.code),r(2),g("severity",e.style),g("value",e.label),c("rounded",!0),r(2),u(e.style),r(2),u(e.color),r(2),c("ngIf",i.editActionIsValid),r(),c("ngIf",i.viewActionIsValid),r(),c("ngIf",i.deleteActionIsValid)}}function Hn(o,S){if(o&1){let e=T();a(0,"p-paginator",69),I("onPageChange",function(t){_(e);let l=m(2);return v(l.onPage(t))}),n(),a(1,"div",70),d(2),n()}if(o&2){let e=m(2);c("rows",10)("totalRecords",e.totalRecords),r(2),Ve(" En totale il ",(e.items&&e.totalRecords==1,"y a")," ",e.items?e.totalRecords:0," ",e.items?e.totalRecords==1?"statut local":"statut locals":0,". ")}}function qn(o,S){o&1&&f(0,"app-statut-local-create-admin")}function Gn(o,S){o&1&&f(0,"app-statut-local-edit-admin")}function Xn(o,S){o&1&&f(0,"app-statut-local-view-admin")}function Yn(o,S){if(o&1){let e=T();a(0,"div",3)(1,"div",4),f(2,"p-toast"),a(3,"div",5)(4,"p-toolbar",6),M(5,Wn,3,7,"ng-template",7)(6,Fn,3,5,"ng-template",8),n(),M(7,kn,37,30,"div",9),a(8,"p-table",10,0),s(10,"translate"),C("selectionChange",function(t){_(e);let l=m();return b(l.selections,t)||(l.selections=t),v(t)}),M(11,jn,9,6,"ng-template",11)(12,Rn,39,15,"ng-template",12)(13,zn,17,11,"ng-template",13)(14,Hn,3,5,"ng-template",14),n()(),M(15,qn,1,0,"app-statut-local-create-admin",15)(16,Gn,1,0,"app-statut-local-edit-admin",15)(17,Xn,1,0,"app-statut-local-view-admin",15),f(18,"p-confirmDialog"),n()()}if(o&2){let e=m();r(7),c("ngIf",e.findByCriteriaShow),r(),g("currentPageReportTemplate",p(10,16,"les \xE9l\xE9ments de {first} \xE0 {last} sur {totalRecords} ")),c("value",e.items)("columns",e.cols)("rows",8)("paginator",!1)("globalFilterFields",E(18,En)),x("selection",e.selections),c("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",E(19,Dn)),r(7),c("ngIf",e.createDialog&&e.createActionIsValid),r(),c("ngIf",e.editDialog&&e.editActionIsValid),r(),c("ngIf",e.viewDialog&&e.viewActionIsValid),r(),U(E(20,Vn))}}function Kn(o,S){o&1&&(a(0,"p-card",71)(1,"p",72),d(2," You don't have permission to access ! "),n()())}var Mi=(()=>{class o{constructor(e,i){this.service=e,this.platformId=i,this.fileName="StatutLocal",this.findByCriteriaShow=!1,this.cols=[],this.exportData=[],this.criteriaData=[],this._totalRecords=0,this.enableSecurity=!1,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.authService=y.injector.get(He),this.exportService=y.injector.get(Ie)}ngOnInit(){this.findPaginatedByCriteria(),this.initExport(),this.initCol()}onExcelFileSelected(e){let i=e.target;i.files&&i.files.length>0&&(this.excelFile=i.files[0])}importExcel(){this.excelFile&&this.service.importExcel(this.excelFile).subscribe(e=>{this.items=e,this.messageService.add({severity:"success",summary:"Success",detail:"File uploaded successfully!",life:3e3})},e=>{this.messageService.add({severity:"error",summary:"Error",detail:"File uploaded with Error!",life:3e3})})}findPaginatedByCriteria(){this.service.findPaginatedByCriteria(this.criteria).subscribe(e=>{this.items=e.list,this.totalRecords=e.dataSize,this.selections=new Array},e=>console.log(e))}onPage(e){this.criteria.page=e.page,this.criteria.maxResults=e.rows,this.findPaginatedByCriteria()}edit(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,console.log(i),this.editDialog=!0})})}view(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,this.viewDialog=!0})})}openCreate(){return A(this,null,function*(){this.item=new _t,this.createDialog=!0})}deleteMultiple(){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer ces \xE9l\xE9ments ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.deleteMultiple().subscribe(()=>{for(let e of this.selections){let i=this.items.findIndex(t=>t.id===e.id);this.items.splice(i,1)}this.selections=new Array,this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Les \xE9l\xE9ments s\xE9lectionn\xE9s ont \xE9t\xE9 supprim\xE9s",life:3e3})},e=>console.log(e))}})})}isSelectionDisabled(){return this.selections==null||this.selections.length==0}delete(e){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer cet \xE9l\xE9ment ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.delete(e).subscribe(i=>{if(i>0){let t=this.items.indexOf(e);t>-1&&this.items.splice(t,1),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Element Supprim\xE9",life:3e3})}},i=>console.log(i))}})})}duplicate(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.initDuplicate(i),this.item=i,this.item.id=null,this.createDialog=!0})})}initExport(){this.excelPdfButons=[{label:"CSV",icon:"pi pi-file",command:()=>{this.prepareColumnExport(),this.exportService.exporterCSV(this.criteriaData,this.exportData,this.fileName)}},{label:"XLS",icon:"pi pi-file-excel",command:()=>{this.prepareColumnExport(),this.exportService.exporterExcel(this.criteriaData,this.exportData,this.fileName)}},{label:"PDF",icon:"pi pi-file-pdf",command:()=>{this.prepareColumnExport(),this.exportService.exporterPdf(this.criteriaData,this.exportData,this.fileName)}}]}exportPdf(e){this.service.exportPdf(e).subscribe(i=>{let t=new Blob([i],{type:"application/pdf"}),l=window.URL.createObjectURL(t),h=document.createElement("a");h.href=l,h.download=this.pdfName,h.setAttribute("target","_blank"),h.click(),window.URL.revokeObjectURL(l)},i=>{console.error(i)})}showSearch(){this.findByCriteriaShow=!this.findByCriteriaShow}update(){this.service.edit().subscribe(e=>{let i=this.items.findIndex(t=>t.id===this.item.id);this.items[i]=e,this.editDialog=!1,this.item=new _t},e=>{console.log(e)})}save(){this.service.save().subscribe(e=>{e!=null?(this.items.push(le({},e)),this.createDialog=!1,this.item=new _t):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},e=>{console.log(e)})}initCol(){this.cols=[{field:"indexation",header:"Indexation"},{field:"code",header:"Code"},{field:"label",header:"Label"},{field:"style",header:"Style"},{field:"color",header:"Color"}]}initDuplicate(e){}prepareColumnExport(){this.service.findByCriteria(this.criteria).subscribe(e=>{this.exportData=e.map(i=>({Indexation:i.indexation,Code:i.code,Label:i.label,Style:i.style,Color:i.color})),this.criteriaData=[{"Indexation Min":this.criteria.indexationMin?this.criteria.indexationMin:L.emptyForExport,"Indexation Max":this.criteria.indexationMax?this.criteria.indexationMax:L.emptyForExport,Code:this.criteria.code?this.criteria.code:L.emptyForExport,Label:this.criteria.label?this.criteria.label:L.emptyForExport,Style:this.criteria.style?this.criteria.style:L.emptyForExport,Color:this.criteria.color?this.criteria.color:L.emptyForExport}]})}get items(){return this.service.items}set items(e){this.service.items=e}get selections(){return this.service.selections}set selections(e){this.service.selections=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatList}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e}get pdfName(){return this._pdfName}set pdfName(e){this._pdfName=e}get createActionIsValid(){return this.service.createActionIsValid}set createActionIsValid(e){this.service.createActionIsValid=e}get editActionIsValid(){return this.service.editActionIsValid}set editActionIsValid(e){this.service.editActionIsValid=e}get listActionIsValid(){return this.service.listActionIsValid}set listActionIsValid(e){this.service.listActionIsValid=e}get deleteActionIsValid(){return this.service.deleteActionIsValid}set deleteActionIsValid(e){this.service.deleteActionIsValid=e}get viewActionIsValid(){return this.service.viewActionIsValid}set viewActionIsValid(e){this.service.viewActionIsValid=e}get duplicateActionIsValid(){return this.service.duplicateActionIsValid}set duplicateActionIsValid(e){this.service.duplicateActionIsValid=e}get createAction(){return this.service.createAction}set createAction(e){this.service.createAction=e}get listAction(){return this.service.listAction}set listAction(e){this.service.listAction=e}get editAction(){return this.service.editAction}set editAction(e){this.service.editAction=e}get deleteAction(){return this.service.deleteAction}set deleteAction(e){this.service.deleteAction=e}get viewAction(){return this.service.viewAction}set viewAction(e){this.service.viewAction=e}get duplicateAction(){return this.service.duplicateAction}set duplicateAction(e){this.service.duplicateAction=e}get entityName(){return this.service.entityName}set entityName(e){this.service.entityName=e}static{this.\u0275fac=function(i){return new(i||o)(w(ft),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-statut-local-list-admin"]],standalone:!1,decls:2,vars:2,consts:[["dt",""],["class","grid",4,"ngIf"],["header","Permission not allowed",4,"ngIf"],[1,"grid"],[1,"col-12"],[1,"card"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 border border-surface rounded-lg",4,"ngIf"],["dataKey","id","styleClass","p-datatable-customers","selectionMode","multiple",3,"selectionChange","value","columns","rows","paginator","globalFilterFields","selection","rowHover","currentPageReportTemplate","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[4,"ngIf"],["pButton","","pRipple","","icon","pi pi-plus","class","p-button-info mr-2 mb-2",3,"label","click",4,"ngIf"],["pButton","","pRipple","",1,"p-button-secondary","mr-2","mb-2",3,"click","label","icon"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mr-2","mb-2",3,"click","label"],[1,"flex"],["icon","pi pi-download","styleClass","p-button-secondary",3,"label","model"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","p-4","border","border-surface","rounded-lg"],[1,"flex","flex-col","gap-2"],["for","1-1",1,"text-sm","font-semibold"],["mode","decimal","id","1-1",3,"ngModelChange","ngModel"],["for","1-2",1,"text-sm","font-semibold"],["mode","decimal","id","1-2",3,"ngModelChange","ngModel"],["for","2",1,"text-sm","font-semibold"],["pInputText","","id","2","type","text",3,"ngModelChange","ngModel"],["for","3",1,"text-sm","font-semibold"],["pInputText","","id","3","type","text",3,"ngModelChange","ngModel"],["for","4",1,"text-sm","font-semibold"],["pInputText","","id","4","type","text",3,"ngModelChange","ngModel"],["for","5",1,"text-sm","font-semibold"],["pInputText","","id","5","type","text",3,"ngModelChange","ngModel"],[1,"col-span-full","flex","justify-end","mt-4"],["pButton","","pRipple","",1,"px-4","py-2","rounded-md",3,"click","label"],[1,"pi","pi-sort-amount-down"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","p-2","gap-4"],[1,"text-center","md:text-left"],[1,"relative","w-full","md:w-auto"],["iconPosition","left",1,"w-full","md:w-auto"],[1,"pi","pi-search"],["pInputText","","type","text",1,"w-full","md:w-72","border","border-gray-300","rounded-md","p-2","focus:ring","focus:ring-blue-300",3,"input","placeholder"],[2,"width","3rem"],["pSortableColumn","indexation"],[1,"p-d-flex","p-jc-between","p-ai-center"],[1,"mr-2"],["field","indexation"],["pSortableColumn","code"],["field","code"],["type","text","field","element.code","display","menu",1,"ml-auto"],["pSortableColumn","label"],["field","label"],["type","text","field","element.label","display","menu",1,"ml-auto"],["pSortableColumn","style"],["field","style"],["type","text","field","element.style","display","menu",1,"ml-auto"],["pSortableColumn","color"],["field","color"],["type","text","field","element.color","display","menu",1,"ml-auto"],[3,"value"],[3,"severity","value","rounded"],["pButton","","pRipple","","icon","pi pi-pencil","class","p-button-rounded p-button-info mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-list","class","p-button-rounded p-button-secondary mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-trash","class","p-button-rounded p-button-danger mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-list",1,"p-button-rounded","p-button-secondary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","mr-2",3,"click"],[3,"onPageChange","rows","totalRecords"],[1,"p-d-flex","p-ai-center","p-jc-between"],["header","Permission not allowed"],[1,"m-0"]],template:function(i,t){i&1&&M(0,Yn,19,21,"div",1)(1,Kn,3,0,"p-card",2),i&2&&(c("ngIf",t.listActionIsValid),r(),c("ngIf",!t.listActionIsValid))},dependencies:[J,ue,z,Fe,fe,je,Re,Ne,Oe,nt,ze,O,Se,V,B,W,we,q,ke,Ue,$e,Be,We,Ce,wi,Li,Ii,R],encapsulation:2})}}return o})();var Ti=o=>({"ng-invalid ng-dirty":o});function Qn(o,S){o&1&&(a(0,"small",11),d(1,"Nom is obligatory."),n())}function Jn(o,S){o&1&&(a(0,"small",11),d(1,"Prenom is obligatory."),n())}function Zn(o,S){if(o&1&&(a(0,"small",35),d(1),n()),o&2){let e=m();r(),u(e.dateConflictWarning)}}var Ht=(()=>{class o{constructor(e,i,t,l,h){this.service=e,this.locationService=i,this.localService=t,this.typeLocataireService=l,this.platformId=h,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validLocataireCode=!0,this._validLocataireLibelle=!0,this._validLocataireNom=!0,this._validLocatairePrenom=!0,this._validTypeLocataireCode=!0,this._validTypeLocataireLabel=!0,this._validTypeLocataireStyle=!0,this.disabledDates=[],this.dateConflictWarning=null,this.dateConflictError=!1,this.existingLocations=[],this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){this.service.findAll().subscribe(e=>this.items=e),this.localService.findAll().subscribe(e=>{this.locals=e.filter(i=>i.statutLocal?.code==="disponible")}),this.typeLocataireService.findAll().subscribe(e=>this.typeLocataires=e),this.getExistingLocations(),this.initCode()}initCode(){}getExistingLocations(){this.locationService.findPaginatedByCriteria(this.locationService.criteria).subscribe(e=>{this.existingLocations=e.list})}updateDisabledDates(){if(this.disabledDates=[],!this.location.local?.id)return;this.local.locations.filter(i=>i.local?.id===this.location.local?.id).forEach(i=>{if(i.dateDebut&&i.dateFin){let t=new Date(i.dateDebut),l=new Date(i.dateFin),h=new Date(t);for(;h<=l;)this.disabledDates.push(new Date(h)),h.setDate(h.getDate()+1)}})}save(){this.submitted=!0,this.validateForm(),this.item.fullName=this.item.nom+" "+this.item.prenom,this.location.loyer=this.location.local.prix,this.location.dateCreation=new Date,this.location.code=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,6),this.item.code=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,6),this.item.locations.push(this.location),this.errorMessages.length===0&&!this.dateConflictError?this.saveWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}saveWithShowOption(e){this.service.save().subscribe(i=>{this.item=new ce,this.findPaginatedByCriteria(),this.createDialog=!1,this.submitted=!1,this.location=new se,this.item=new ce,this.messageService.add({severity:"success",summary:"",detail:"Locataire a \xE9t\xE9 cr\xE9\xE9 avec succ\xE8s"})},i=>{console.log(i)})}hideCreateDialog(){this.createDialog=!1,this.setValidation(!0)}onLocalChange(e){this.location.local=e,this.location.dateDebut=null,this.location.dateFin=null,this.dateConflictWarning=null,this.dateConflictError=!1,this.local=e,this.updateDisabledDates()}checkDateConflict(){if(!this.location.dateDebut||!this.location.dateFin||!this.location.local?.id){this.dateConflictWarning=null,this.dateConflictError=!1;return}let e=new Date(this.location.dateDebut),i=new Date(this.location.dateFin);if(i<e){this.dateConflictWarning="La date de fin doit \xEAtre post\xE9rieure \xE0 la date de d\xE9but.",this.dateConflictError=!0;return}let t=this.existingLocations.filter(h=>h.local?.id===this.location.local?.id),l=!1;t.forEach(h=>{if(h.dateDebut&&h.dateFin){let Pe=new Date(h.dateDebut),Ee=new Date(h.dateFin);if(e<=Ee&&e>=Pe||i<=Ee&&i>=Pe||e<=Pe&&i>=Ee){l=!0;let et=this.formatDate(Pe),Tt=this.formatDate(Ee);this.dateConflictWarning=`Ce local est d\xE9j\xE0 r\xE9serv\xE9 du ${et} au ${Tt}.`,this.dateConflictError=!0}}}),l||(this.dateConflictWarning=null,this.dateConflictError=!1)}formatDate(e){let i=e.getDate().toString().padStart(2,"0"),t=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getFullYear();return`${i}/${t}/${l}`}setValidation(e){this.validLocataireCode=e,this.validLocataireLibelle=e,this.validLocataireNom=e,this.validLocatairePrenom=e}validateForm(){this.errorMessages=new Array,this.item.dateCreation=new Date,this.locationService.item=this.location}validateLocataireCode(){this.stringUtilService.isEmpty(this.item.code)?(this.errorMessages.push("Code non valide"),this.validLocataireCode=!1):this.validLocataireCode=!0}validateLocataireLibelle(){this.stringUtilService.isEmpty(this.item.nom)?(this.errorMessages.push("Libelle non valide"),this.validLocataireLibelle=!1):this.validLocataireLibelle=!0}validateLocataireNom(){this.stringUtilService.isEmpty(this.item.nom)?(this.errorMessages.push("Nom non valide"),this.validLocataireNom=!1):this.validLocataireNom=!0}validateLocatairePrenom(){this.stringUtilService.isEmpty(this.item.prenom)?(this.errorMessages.push("Prenom non valide"),this.validLocatairePrenom=!1):this.validLocatairePrenom=!0}openCreateTypeLocataire(e){return A(this,null,function*(){(yield this.roleService.isPermitted("TypeLocataire","add"))?(this.typeLocataire=new Ge,this.createTypeLocataireDialog=!0):this.messageService.add({severity:"error",summary:"erreur",detail:"probl\xE8me de permission"})})}get typeLocataire(){return this.typeLocataireService.item}set typeLocataire(e){this.typeLocataireService.item=e}get typeLocataires(){return this.typeLocataireService.items}set typeLocataires(e){this.typeLocataireService.items=e}get createTypeLocataireDialog(){return this.typeLocataireService.createDialog}set createTypeLocataireDialog(e){this.typeLocataireService.createDialog=e}get validLocataireCode(){return this._validLocataireCode}set validLocataireCode(e){this._validLocataireCode=e}get validLocataireLibelle(){return this._validLocataireLibelle}set validLocataireLibelle(e){this._validLocataireLibelle=e}get validLocataireNom(){return this._validLocataireNom}set validLocataireNom(e){this._validLocataireNom=e}get validLocatairePrenom(){return this._validLocatairePrenom}set validLocatairePrenom(e){this._validLocatairePrenom=e}get validTypeLocataireCode(){return this._validTypeLocataireCode}set validTypeLocataireCode(e){this._validTypeLocataireCode=e}get validTypeLocataireLabel(){return this._validTypeLocataireLabel}set validTypeLocataireLabel(e){this._validTypeLocataireLabel=e}get validTypeLocataireStyle(){return this._validTypeLocataireStyle}set validTypeLocataireStyle(e){this._validTypeLocataireStyle=e}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}get location(){return this.locationService.item}set location(e){this.locationService.item=e}get local(){return this.localService.item}set local(e){this.localService.item=e}get locals(){return this.localService.items}set locals(e){this.localService.items=e}findPaginatedByCriteria(){this.service.findPaginatedByCriteria(this.criteria).subscribe(e=>{this.items=e.list},e=>console.log(e))}cancel(){this.navigateToList()}navigateToList(){this.router.navigate(["/app/admin/locataire/locataire/list"])}static{this.\u0275fac=function(i){return new(i||o)(w(ye),w(de),w(vt),w(he),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-locataire-create-admin"]],standalone:!1,decls:94,vars:134,consts:[[1,"container","mx-auto","p-4"],[1,"bg-white","shadow-md","rounded-lg"],[1,"border-b","p-4","flex","justify-between","items-center","bg-blue-200","text-white"],[1,"text-xl","font-semibold"],[1,"text-white","hover:bg-blue-600","p-2","rounded-md",3,"click"],[1,"pi","pi-times"],[1,"p-4"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","3",1,"text-sm","font-semibold"],[1,"text-red-500"],["type","text","pInputText","","id","3",3,"ngModelChange","placeholder","ngModel","ngClass"],["class","text-red-500",4,"ngIf"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","id","4",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","telephone",1,"text-sm","font-semibold"],["type","text","pInputText","","id","telephone",3,"ngModelChange","placeholder","ngModel"],["for","5",1,"text-sm","font-semibold"],["appendTo","body","id","5","filterMatchMode","contains","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","8",1,"text-sm","font-semibold"],["appendTo","body","id","8","filterMatchMode","contains","optionLabel","label",1,"w-full",3,"onChange","ngModelChange","options","ngModel","filter","showClear","placeholder"],["appendTo","body","id","dateDebut",1,"w-full",3,"ngModelChange","onSelect","showTime","showSeconds","placeholder","ngModel","dateFormat","disabledDates"],["class","text-yellow-600",4,"ngIf"],["appendTo","body","id","dateFin",1,"w-full",3,"ngModelChange","onSelect","showTime","showSeconds","placeholder","ngModel","dateFormat","minDate"],["for","dateCreation",1,"text-sm","font-semibold"],["id","dateCreation","appendTo","body",1,"w-full",3,"ngModelChange","showTime","showSeconds","placeholder","ngModel","dateFormat"],["mode","decimal","locale","fr-FR","currency","MAD","id","5",3,"ngModelChange","minFractionDigits","maxFractionDigits","prefix","suffix","min","step","placeholder","ngModel"],["for","solde",1,"text-sm","font-semibold"],["mode","decimal","locale","fr-FR","currency","MAD","id","solde",3,"ngModelChange","minFractionDigits","maxFractionDigits","prefix","suffix","min","step","placeholder","ngModel"],["for","6",1,"text-sm","font-semibold"],["mode","decimal","locale","fr-FR","currency","MAD","id","6",3,"ngModelChange","minFractionDigits","maxFractionDigits","prefix","suffix","min","step","placeholder","ngModel"],[1,"flex","justify-end","space-x-3","p-4","border-t"],["icon","pi pi-check","styleClass","p-button-primary",3,"click","label","disabled"],["icon","pi pi-times","styleClass","p-button-secondary",3,"click","label"],[1,"text-yellow-600"]],template:function(i,t){i&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),d(4),s(5,"translate"),n(),a(6,"button",4),I("click",function(){return t.cancel()}),f(7,"i",5),n()(),f(8,"p-toast"),a(9,"div",6)(10,"p-tabView")(11,"p-tabPanel",7),s(12,"translate"),a(13,"div",8)(14,"div",9)(15,"label",10),d(16),s(17,"translate"),a(18,"span",11),d(19,"*"),n()(),a(20,"input",12),s(21,"translate"),C("ngModelChange",function(h){return b(t.item.nom,h)||(t.item.nom=h),h}),n(),M(22,Qn,2,0,"small",13),n(),a(23,"div",9)(24,"label",14),d(25),s(26,"translate"),a(27,"span",11),d(28,"*"),n()(),a(29,"input",15),s(30,"translate"),C("ngModelChange",function(h){return b(t.item.prenom,h)||(t.item.prenom=h),h}),n(),M(31,Jn,2,0,"small",13),n(),a(32,"div",9)(33,"label",16),d(34),s(35,"translate"),a(36,"span",11),d(37,"*"),n()(),a(38,"input",17),s(39,"translate"),C("ngModelChange",function(h){return b(t.item.telephone,h)||(t.item.telephone=h),h}),n()(),a(40,"div",9)(41,"label",18),d(42),s(43,"translate"),n(),a(44,"p-dropdown",19),s(45,"translate"),C("ngModelChange",function(h){return b(t.item.typeLocataire,h)||(t.item.typeLocataire=h),h}),n()(),a(46,"div",9)(47,"label",20),d(48),s(49,"translate"),n(),a(50,"p-dropdown",21),s(51,"translate"),I("onChange",function(h){return t.onLocalChange(h.value)}),C("ngModelChange",function(h){return b(t.location.local,h)||(t.location.local=h),h}),n()(),a(52,"div",9)(53,"label",10),d(54),s(55,"translate"),n(),a(56,"p-calendar",22),s(57,"translate"),C("ngModelChange",function(h){return b(t.location.dateDebut,h)||(t.location.dateDebut=h),h}),I("onSelect",function(){return t.checkDateConflict()}),n(),M(58,Zn,2,1,"small",23),n(),a(59,"div",9)(60,"label",14),d(61),s(62,"translate"),n(),a(63,"p-calendar",24),s(64,"translate"),C("ngModelChange",function(h){return b(t.location.dateFin,h)||(t.location.dateFin=h),h}),I("onSelect",function(){return t.checkDateConflict()}),n()(),a(65,"div",9)(66,"label",25),d(67),s(68,"translate"),n(),a(69,"p-calendar",26),s(70,"translate"),C("ngModelChange",function(h){return b(t.item.dateCreation,h)||(t.item.dateCreation=h),h}),n()(),a(71,"div",9)(72,"label",18),d(73),s(74,"translate"),n(),a(75,"p-inputNumber",27),s(76,"translate"),C("ngModelChange",function(h){return b(t.location.local.prix,h)||(t.location.local.prix=h),h}),n()(),a(77,"div",9)(78,"label",28),d(79),s(80,"translate"),n(),a(81,"p-inputNumber",29),s(82,"translate"),C("ngModelChange",function(h){return b(t.location.solde,h)||(t.location.solde=h),h}),n()(),a(83,"div",9)(84,"label",30),d(85),s(86,"translate"),n(),a(87,"p-inputNumber",31),s(88,"translate"),C("ngModelChange",function(h){return b(t.location.caution,h)||(t.location.caution=h),h}),n()()()()()(),a(89,"div",32)(90,"p-button",33),s(91,"translate"),I("click",function(){return t.save()}),n(),a(92,"p-button",34),s(93,"translate"),I("click",function(){return t.cancel()}),n()()()()),i&2&&(r(4),u(p(5,78,"locataire.tabPan")),r(7),g("header",p(12,80,"locataire.tabPan")),r(5),u(p(17,82,"locataire.nom")),r(4),g("placeholder",p(21,84,"locataire.nom")),x("ngModel",t.item.nom),c("ngClass",$(130,Ti,!t.validLocataireNom)),r(2),c("ngIf",!t.validLocataireNom),r(3),u(p(26,86,"locataire.prenom")),r(4),g("placeholder",p(30,88,"locataire.prenom")),x("ngModel",t.item.prenom),c("ngClass",$(132,Ti,!t.validLocatairePrenom)),r(2),c("ngIf",!t.validLocatairePrenom),r(3),u(p(35,90,"locataire.telephone")),r(4),g("placeholder",p(39,92,"locataire.telephone")),x("ngModel",t.item.telephone),r(4),u(p(43,94,"locataire.typeLocataire")),r(2),g("placeholder",p(45,96,"locataire.typeLocataire")),c("options",t.typeLocataires),x("ngModel",t.item.typeLocataire),c("filter",!0)("showClear",!0),r(4),u(p(49,98,"location.local")),r(2),g("placeholder",p(51,100,"location.local")),c("options",t.locals),x("ngModel",t.location.local),c("filter",!0)("showClear",!0),r(4),u(p(55,102,"location.dateDebut")),r(2),g("placeholder",p(57,104,"location.dateDebut")),g("dateFormat",t.dateFormat),c("showTime",!0)("showSeconds",!1),x("ngModel",t.location.dateDebut),c("disabledDates",t.disabledDates),r(2),c("ngIf",t.dateConflictWarning),r(3),u(p(62,106,"location.dateFin")),r(2),g("placeholder",p(64,108,"location.dateFin")),g("dateFormat",t.dateFormat),c("showTime",!0)("showSeconds",!1),x("ngModel",t.location.dateFin),c("minDate",t.location.dateDebut),r(4),u(p(68,110,"local.dateCreation")),r(2),g("placeholder",p(70,112,"local.dateCreation")),g("dateFormat",t.dateFormat),c("showTime",!0)("showSeconds",!1),x("ngModel",t.item.dateCreation),r(4),u(p(74,114,"location.loyer")),r(2),g("placeholder",p(76,116,"location.loyer")),c("minFractionDigits",2)("maxFractionDigits",4)("prefix","")("suffix"," MAD")("min",0)("step",.01),x("ngModel",t.location.local.prix),r(4),u(p(80,118,"Solde")),r(2),g("placeholder",p(82,120,"Solde")),c("minFractionDigits",2)("maxFractionDigits",4)("prefix","")("suffix"," MAD")("min",0)("step",.01),x("ngModel",t.location.solde),r(4),u(p(86,122,"location.caution")),r(2),g("placeholder",p(88,124,"location.caution")),c("minFractionDigits",2)("maxFractionDigits",4)("prefix","")("suffix"," MAD")("min",0)("step",.01),x("ngModel",t.location.caution),r(3),g("label",p(91,126,"validate")),c("disabled",t.dateConflictError),r(2),g("label",p(93,128,"cancel")))},dependencies:[ge,J,ue,O,ht,V,B,W,re,Y,X,ee,q,R],encapsulation:2})}}return o})();var ea=()=>({width:"85vw",maxWidth:"1200px"});function ta(o,S){o&1&&(a(0,"div",4),f(1,"i",5),a(2,"span",6),d(3),s(4,"translate"),n()()),o&2&&(r(3),u(p(4,1,"locataire.tabPan")))}function ia(o,S){if(o&1&&(a(0,"div",9)(1,"div",10)(2,"div",11)(3,"h5",12),f(4,"i",13),d(5," Informations du locataire "),n(),a(6,"div",14)(7,"div",15)(8,"div",16)(9,"label",17),d(10),s(11,"translate"),n(),f(12,"input",18),s(13,"translate"),n()(),a(14,"div",15)(15,"div",16)(16,"label",19),d(17),s(18,"translate"),n(),f(19,"input",20),s(20,"translate"),n()(),a(21,"div",15)(22,"div",16)(23,"label",21),d(24),s(25,"translate"),n(),f(26,"input",22),s(27,"translate"),n()(),a(28,"div",15)(29,"div",16)(30,"label",23),d(31),s(32,"translate"),n(),f(33,"p-calendar",24),s(34,"translate"),n()(),a(35,"div",15)(36,"div",16)(37,"label",25),d(38),s(39,"translate"),n(),f(40,"input",26),s(41,"translate"),n()()()()()()),o&2){let e=m(2);r(10),u(p(11,23,"locataire.nom")),r(2),g("placeholder",p(13,25,"locataire.nom")),c("disabled",!0)("ngModel",e.item.nom),r(5),u(p(18,27,"locataire.prenom")),r(2),g("placeholder",p(20,29,"locataire.prenom")),c("disabled",!0)("ngModel",e.item.prenom),r(5),u(p(25,31,"locataire.typeLocataire")),r(2),g("placeholder",p(27,33,"locataire.typeLocataire")),c("disabled",!0)("ngModel",e.item.typeLocataire==null?null:e.item.typeLocataire.label),r(5),u(p(32,35,"locataire.dateCreation")),r(2),g("placeholder",p(34,37,"locataire.dateCreation")),g("dateFormat",e.dateFormat),c("showTime",!0)("showSeconds",!1)("ngModel",e.item.dateCreation)("disabled",!0),r(5),u(p(39,39,"locataire.telephone")),r(2),g("placeholder",p(41,41,"locataire.telephone")),c("disabled",!0)("ngModel",e.item.telephone)}}function na(o,S){o&1&&(a(0,"tr")(1,"th"),d(2,"Locataire"),n(),a(3,"th"),d(4,"Type de Locataire"),n(),a(5,"th"),d(6,"Local"),n(),a(7,"th"),d(8,"Date de d\xE9but"),n(),a(9,"th"),d(10,"Date de fin"),n(),a(11,"th"),d(12,"Loyer"),n(),a(13,"th"),d(14,"Caution"),n()())}function aa(o,S){if(o&1&&(a(0,"tr")(1,"td"),d(2),n(),a(3,"td"),d(4),n(),a(5,"td"),d(6),n(),a(7,"td"),d(8),s(9,"date"),n(),a(10,"td"),d(11),s(12,"date"),n(),a(13,"td"),d(14),s(15,"currency"),n(),a(16,"td"),d(17),s(18,"currency"),n()()),o&2){let e=S.$implicit,i=m(3);r(2),_i("",i.item==null?null:i.item.nom," ",i.item==null?null:i.item.prenom,""),r(2),u(i.item==null?null:i.item.typeLocataire.label),r(2),u(e.local==null?null:e.local.label),r(2),u(Qe(9,8,e.dateDebut,"dd/MM/yyyy")),r(3),u(Qe(12,11,e.dateFin,"dd/MM/yyyy")),r(3),u($t(15,14,e.loyer,"MAD ","symbol","1.2-2")),r(3),u($t(18,19,e.caution,"MAD ","symbol","1.2-2"))}}function ra(o,S){o&1&&(a(0,"tr")(1,"td",36),f(2,"i",37),d(3," Aucun historique disponible pour ce locataire "),n()())}function oa(o,S){if(o&1&&(a(0,"div",9)(1,"div",10)(2,"div",27)(3,"div",28)(4,"h5",29),f(5,"i",30),d(6," Historique des localit\xE9s "),n(),a(7,"div",31),f(8,"p-splitButton",32),n()(),a(9,"p-table",33),M(10,na,15,0,"ng-template",1)(11,aa,19,24,"ng-template",34)(12,ra,4,0,"ng-template",35),n()()()()),o&2){let e=m(2);r(8),c("model",e.localExcelPdfButons),r(),c("value",e.item.locations)("paginator",!0)("rows",5)("showCurrentPageReport",!1)}}function la(o,S){if(o&1&&(a(0,"p-tabView")(1,"p-tabPanel",7),s(2,"translate"),M(3,ia,42,43,"div",8),n(),a(4,"p-tabPanel",7),s(5,"translate"),M(6,oa,13,5,"div",8),n()()),o&2){let e=m();r(),g("header",p(2,4,"Informations du locataire")),r(2),c("ngIf",e.item),r(),g("header",p(5,6,"Historique de locations")),r(2),c("ngIf",e.item)}}function sa(o,S){if(o&1){let e=T();a(0,"div",38)(1,"button",39),I("click",function(){_(e);let t=m();return v(t.hideViewDialog())}),n()()}}var Ai=(()=>{class o{constructor(e,i,t,l,h){this.typeTransactionService=e,this.modePaiementService=i,this.exportService=t,this.service=l,this.typeLocataireService=h,this._submitted=!1,this._errorMessages=new Array,this.localFindByCriteriaShow=!1,this.localExportData=[],this.localCriteriaData=[],this._transactionFileName=`Historique de Locataire ${this.item.nom} ${this.item.prenom}`,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){this.initTransactionExport(),this.loadReferenceDataForTransaction()}loadReferenceDataForTransaction(){this.typeTransactionService.findAll().subscribe(e=>this.typeTransactions=e),this.modePaiementService.findAll().subscribe(e=>this.modePaiements=e)}initTransactionExport(){this.localExcelPdfButons=[{label:"CSV",icon:"pi pi-file",command:()=>{this.prepareLocalColumnExport(),this.exportService.exporterCSV(this.localCriteriaData,this.localExportData,this._transactionFileName)}},{label:"XLS",icon:"pi pi-file-excel",command:()=>{this.prepareLocalColumnExport(),this.exportService.exporterExcel(this.localCriteriaData,this.localExportData,this._transactionFileName)}},{label:"PDF",icon:"pi pi-file-pdf",command:()=>{this.prepareLocalColumnExport(),this.exportService.exporterPdf(this.localCriteriaData,this.localExportData,this._transactionFileName)}}]}prepareLocalColumnExport(){this.item.locations.forEach(e=>{this.localExportData.push({Locataire:`*** HISTORIQUE DES LOCATIONS DU LOCAL: ${e.locataire?.nom||""} ${e.locataire?.prenom||""} ***`,"Type de Locataire":"",Local:"","Date de d\xE9but":"","Date de fin":"",Loyer:"",Caution:""}),this.localExportData.push({Locataire:`${this.item?.nom||""} ${this.item?.prenom||""}`.trim(),"Type de Locataire":this.item?.typeLocataire?.label||"",Local:e.local?.label||"","Date de d\xE9but":this.datePipe.transform(e.dateDebut,"dd/MM/yyyy")||"","Date de fin":this.datePipe.transform(e.dateFin,"dd/MM/yyyy")||"",Loyer:e?.loyer||"",Caution:e?.caution||""}),this.localExportData.push({Locataire:"","Type de Locataire":"",Local:"","Date de d\xE9but":"","Date de fin":"",Loyer:"",Caution:""}),this.localCriteriaData=[{}]})}get typeLocataire(){return this.typeLocataireService.item}set typeLocataire(e){this.typeLocataireService.item=e}get typeLocataires(){return this.typeLocataireService.items}set typeLocataires(e){this.typeLocataireService.items=e}hideViewDialog(){this.item=new ce,this.viewDialog=!1}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatView}get dateFormatColumn(){return L.dateFormatList}static{this.\u0275fac=function(i){return new(i||o)(w(Si),w(qe),w(Ie),w(ye),w(he))}}static{this.\u0275cmp=D({type:o,selectors:[["app-locataire-view-admin"]],standalone:!1,decls:4,vars:5,consts:[["closable","false","styleClass","p-fluid locataire-view-dialog",3,"visibleChange","visible","modal"],["pTemplate","header"],["pTemplate","content"],["pTemplate","footer"],[1,"flex","align-items-center"],[1,"pi","pi-user","text-primary","text-xl","mr-2"],[1,"font-semibold","text-lg"],[3,"header"],["class","grid",4,"ngIf"],[1,"grid"],[1,"col-12"],[1,"card","mb-4"],[1,"mb-3","font-medium"],[1,"pi","pi-info-circle","mr-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],[1,"field"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","id","3",3,"disabled","placeholder","ngModel"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","id","4",3,"disabled","placeholder","ngModel"],["for","5",1,"text-sm","font-semibold"],["type","text","pInputText","","id","5",3,"disabled","placeholder","ngModel"],["for","6",1,"text-sm","font-semibold"],["appendTo","body",1,"w-full",3,"showTime","showSeconds","placeholder","ngModel","dateFormat","disabled"],["for","7",1,"text-sm","font-semibold"],["type","text","pInputText","","id","7",3,"disabled","placeholder","ngModel"],[1,"card"],[1,"flex","flex-wrap","gap-2","align-items-center","justify-content-between","mb-2"],[1,"m-0","font-medium"],[1,"pi","pi-history","mr-2"],[1,"flex","align-items-center","gap-2"],["label","Exporter","icon","pi pi-download","styleClass","p-button-outlined",3,"model"],["styleClass","p-datatable-sm","responsiveLayout","scroll",3,"value","paginator","rows","showCurrentPageReport"],["pTemplate","body"],["pTemplate","emptymessage"],["colspan","7",1,"text-center","p-4"],[1,"pi","pi-info-circle","text-primary","mr-2"],[1,"flex","justify-content-end"],["pButton","","pRipple","","type","button","icon","pi pi-times","label","Fermer",1,"p-button-outlined",3,"click"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),C("visibleChange",function(h){return b(t.viewDialog,h)||(t.viewDialog=h),h}),M(1,ta,5,3,"ng-template",1)(2,la,7,8,"ng-template",2)(3,sa,2,0,"ng-template",3),n()),i&2&&(U(E(4,ea)),x("visible",t.viewDialog),c("modal",!0))},dependencies:[J,z,fe,Q,O,Se,V,B,W,we,Y,X,ee,Ce,vi,P,R],styles:["[_nghost-%COMP%]     .locataire-view-dialog .p-dialog-content{padding:0}[_nghost-%COMP%]     .locataire-view-dialog .p-tabview .p-tabview-nav{background:#f8f9fa;border-bottom:1px solid #dee2e6;padding:0 1rem}[_nghost-%COMP%]     .locataire-view-dialog .p-tabview .p-tabview-nav li .p-tabview-nav-link{padding:1rem;font-weight:600}[_nghost-%COMP%]     .locataire-view-dialog .p-tabview .p-tabview-nav li .p-tabview-nav-link:not(.p-disabled):focus{box-shadow:none}[_nghost-%COMP%]     .locataire-view-dialog .p-tabview .p-tabview-panels{padding:1.5rem}[_nghost-%COMP%]     .locataire-view-dialog .card{background-color:#fff;border-radius:.5rem;box-shadow:0 2px 4px #0000000d;padding:1.25rem}[_nghost-%COMP%]     .locataire-view-dialog .card h5{color:#495057;border-bottom:1px solid #e9ecef;padding-bottom:.75rem}[_nghost-%COMP%]     .locataire-view-dialog .field{margin-bottom:1rem}[_nghost-%COMP%]     .locataire-view-dialog .field label{display:block;margin-bottom:.5rem;color:#555}[_nghost-%COMP%]     .locataire-view-dialog .field input, [_nghost-%COMP%]     .locataire-view-dialog .field textarea{width:100%;background-color:#f9f9f9}[_nghost-%COMP%]     .locataire-view-dialog .p-datatable .p-datatable-header{background-color:#f8f9fa;border:1px solid #e9ecef}[_nghost-%COMP%]     .locataire-view-dialog .p-datatable th{background-color:#f8f9fa;color:#495057;font-weight:600;padding:.75rem 1rem}[_nghost-%COMP%]     .locataire-view-dialog .p-datatable td{padding:.75rem 1rem}[_nghost-%COMP%]     .locataire-view-dialog .p-button.p-button-outlined:focus{box-shadow:none}@media screen and (max-width: 768px){[_nghost-%COMP%]     .locataire-view-dialog .p-tabview .p-tabview-panels{padding:1rem}[_nghost-%COMP%]     .locataire-view-dialog .card{padding:1rem}}"]})}}return o})();var da=()=>({width:"70vw"}),Pi=o=>({"ng-invalid ng-dirty":o});function ca(o,S){o&1&&(a(0,"small",7),d(1,"Nom is obligatory."),n())}function ma(o,S){o&1&&(a(0,"small",7),d(1,"Prenom is obligatory."),n())}function ua(o,S){if(o&1){let e=T();a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),a(8,"span",7),d(9,"*"),n()(),a(10,"input",8),s(11,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.nom,t)||(l.item.nom=t),v(t)}),n(),M(12,ca,2,0,"small",9),n(),a(13,"div",5)(14,"label",10),d(15),s(16,"translate"),a(17,"span",7),d(18,"*"),n()(),a(19,"input",11),s(20,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.prenom,t)||(l.item.prenom=t),v(t)}),n(),M(21,ma,2,0,"small",9),n(),a(22,"div",5)(23,"label",12),d(24),s(25,"translate"),n(),a(26,"p-dropdown",13),s(27,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.typeLocataire,t)||(l.item.typeLocataire=t),v(t)}),n()(),a(28,"div",5)(29,"label",14),d(30),s(31,"translate"),n(),a(32,"p-calendar",15),s(33,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.dateCreation,t)||(l.item.dateCreation=t),v(t)}),n()()()()()}if(o&2){let e=m();r(),g("header",p(2,23,"locataire.tabPan")),r(5),u(p(7,25,"locataire.nom")),r(4),g("placeholder",p(11,27,"locataire.nom")),x("ngModel",e.item.nom),c("ngClass",$(41,Pi,!e.validLocataireNom)),r(2),c("ngIf",!e.validLocataireNom),r(3),u(p(16,29,"locataire.prenom")),r(4),g("placeholder",p(20,31,"locataire.prenom")),x("ngModel",e.item.prenom),c("ngClass",$(43,Pi,!e.validLocatairePrenom)),r(2),c("ngIf",!e.validLocatairePrenom),r(3),u(p(25,33,"locataire.typeLocataire")),r(2),g("placeholder",p(27,35,"locataire.typeLocataire")),c("options",e.typeLocataires),x("ngModel",e.item.typeLocataire),c("filter",!0)("showClear",!0),r(4),u(p(31,37,"locataire.dateCreation")),r(2),g("placeholder",p(33,39,"locataire.dateCreation")),g("dateFormat",e.dateFormat),c("showTime",!0)("showSeconds",!1),x("ngModel",e.item.dateCreation)}}function ga(o,S){if(o&1){let e=T();a(0,"div",16)(1,"button",17),s(2,"translate"),I("click",function(){_(e);let t=m();return v(t.edit())}),f(3,"i",18),d(4),s(5,"translate"),n(),a(6,"button",19),I("click",function(){_(e);let t=m();return v(t.hideEditDialog())}),f(7,"i",20),d(8),s(9,"translate"),n()()}o&2&&(r(),g("label",p(2,3,"validate")),r(3),H(" ",p(5,5,"validate")," "),r(4),H(" ",p(9,7,"cancel")," "))}var Ei=(()=>{class o{constructor(e,i,t){this.service=e,this.typeLocataireService=i,this.platformId=t,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validLocataireCode=!0,this._validLocataireLibelle=!0,this._validLocataireNom=!0,this._validLocatairePrenom=!0,this._validTypeLocataireCode=!0,this._validTypeLocataireLabel=!0,this._validTypeLocataireStyle=!0,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){this.typeLocataireService.findAll().subscribe(e=>this.typeLocataires=e)}prepareEdit(){this.item.dateCreation=this.service.format(this.item.dateCreation)}edit(){this.submitted=!0,this.prepareEdit(),this.validateForm(),this.errorMessages.length===0?this.editWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}editWithShowOption(e){this.service.edit().subscribe(i=>{let t=this.items.findIndex(l=>l.id===this.item.id);this.items[t]=i,this.editDialog=!1,this.submitted=!1,this.item=new ce},i=>{console.log(i)})}hideEditDialog(){this.item=new ce,this.editDialog=!1,this.setValidation(!0)}setValidation(e){this.validLocataireCode=e,this.validLocataireLibelle=e,this.validLocataireNom=e,this.validLocatairePrenom=e}validateForm(){this.errorMessages=new Array,this.validateLocataireCode(),this.validateLocataireLibelle(),this.validateLocataireNom(),this.validateLocatairePrenom()}validateLocataireCode(){this.stringUtilService.isEmpty(this.item.code)?(this.errorMessages.push("Code non valide"),this.validLocataireCode=!1):this.validLocataireCode=!0}validateLocataireLibelle(){this.stringUtilService.isEmpty(this.item.nom)?(this.errorMessages.push("Libelle non valide"),this.validLocataireLibelle=!1):this.validLocataireLibelle=!0}validateLocataireNom(){this.stringUtilService.isEmpty(this.item.nom)?(this.errorMessages.push("Nom non valide"),this.validLocataireNom=!1):this.validLocataireNom=!0}validateLocatairePrenom(){this.stringUtilService.isEmpty(this.item.prenom)?(this.errorMessages.push("Prenom non valide"),this.validLocatairePrenom=!1):this.validLocatairePrenom=!0}openCreateTypeLocataire(e){return A(this,null,function*(){(yield this.roleService.isPermitted("TypeLocataire","edit"))?(this.typeLocataire=new Ge,this.createTypeLocataireDialog=!0):this.messageService.add({severity:"error",summary:"erreur",detail:"probl\xE8me de permission"})})}get typeLocataire(){return this.typeLocataireService.item}set typeLocataire(e){this.typeLocataireService.item=e}get typeLocataires(){return this.typeLocataireService.items}set typeLocataires(e){this.typeLocataireService.items=e}get createTypeLocataireDialog(){return this.typeLocataireService.createDialog}set createTypeLocataireDialog(e){this.typeLocataireService.createDialog=e}get validLocataireCode(){return this._validLocataireCode}set validLocataireCode(e){this._validLocataireCode=e}get validLocataireLibelle(){return this._validLocataireLibelle}set validLocataireLibelle(e){this._validLocataireLibelle=e}get validLocataireNom(){return this._validLocataireNom}set validLocataireNom(e){this._validLocataireNom=e}get validLocatairePrenom(){return this._validLocatairePrenom}set validLocatairePrenom(e){this._validLocatairePrenom=e}get validTypeLocataireCode(){return this._validTypeLocataireCode}set validTypeLocataireCode(e){this._validTypeLocataireCode=e}get validTypeLocataireLabel(){return this._validTypeLocataireLabel}set validTypeLocataireLabel(e){this._validTypeLocataireLabel=e}get validTypeLocataireStyle(){return this._validTypeLocataireStyle}set validTypeLocataireStyle(e){this._validTypeLocataireStyle=e}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}static{this.\u0275fac=function(i){return new(i||o)(w(ye),w(he),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-locataire-edit-admin"]],standalone:!1,decls:4,vars:11,consts:[["closable","false","styleClass","p-fluid",3,"visibleChange","visible","header","modal","maximizable","draggable","resizable"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","3",1,"text-sm","font-semibold"],[1,"text-red-500"],["type","text","pInputText","","id","3",3,"ngModelChange","placeholder","ngModel","ngClass"],["class","text-red-500",4,"ngIf"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","id","4",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","5",1,"text-sm","font-semibold"],["appendTo","body","id","5","filterMatchMode","contains","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","6",1,"text-sm","font-semibold"],["appendTo","body","id","6",1,"w-full",3,"ngModelChange","showTime","showSeconds","placeholder","ngModel","dateFormat"],[1,"flex","justify-end","space-x-3","p-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-primary",3,"click","label"],[1,"pi","pi-check"],[1,"border","border-gray-400","text-gray-600","hover:bg-gray-200","px-4","py-2","rounded-md",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.editDialog,h)||(t.editDialog=h),h}),M(2,ua,34,45,"ng-template",1)(3,ga,10,9,"ng-template",2),n()),i&2&&(U(E(10,da)),g("header",p(1,8,"locataire.tabPan")),x("visible",t.editDialog),c("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1))},dependencies:[ge,J,z,Q,O,V,B,W,re,Y,X,ee,R],encapsulation:2})}}return o})();var _a=()=>["code","libelle","nom","prenom","typeLocatairelabel","dateCreation"],va=()=>[10,25,50],fa=()=>({width:"450px"});function ya(o,S){if(o&1){let e=T();a(0,"button",16),s(1,"translate"),I("click",function(){_(e);let t=m(2);return v(t.showSearch())}),n()}if(o&2){let e=m(2);Z("label"," ",p(1,4,"search"),""),Z("icon","pi pi-",e.findByCriteriaShow?"angle-down":"angle-right","")}}function xa(o,S){if(o&1&&(a(0,"div",17),f(1,"p-splitButton",18),s(2,"translate"),n()),o&2){let e=m(2);r(),Z("label"," ",p(2,3,"export"),""),c("model",e.excelPdfButons)}}function ba(o,S){if(o&1){let e=T();a(0,"div",19)(1,"div",20)(2,"label",21),d(3),s(4,"translate"),n(),a(5,"input",22),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.codeLike,t)||(l.criteria.codeLike=t),v(t)}),n()(),a(6,"div",20)(7,"label",23),d(8),s(9,"translate"),n(),a(10,"input",24),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.libelleLike,t)||(l.criteria.libelleLike=t),v(t)}),n()(),a(11,"div",20)(12,"label",25),d(13),s(14,"translate"),n(),a(15,"input",26),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.nomLike,t)||(l.criteria.nomLike=t),v(t)}),n()(),a(16,"div",20)(17,"label",27),d(18),s(19,"translate"),n(),a(20,"input",28),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.prenomLike,t)||(l.criteria.prenomLike=t),v(t)}),n()(),a(21,"div",20)(22,"label",29),d(23),s(24,"translate"),n(),a(25,"p-dropdown",30),s(26,"translate"),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.typeLocataire,t)||(l.criteria.typeLocataire=t),v(t)}),n()(),a(27,"div",20)(28,"label",31),d(29),s(30,"translate"),n(),a(31,"p-calendar",32),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.dateCreationFrom,t)||(l.criteria.dateCreationFrom=t),v(t)}),n()(),a(32,"div",20)(33,"label",33),d(34),s(35,"translate"),n(),a(36,"p-calendar",34),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.dateCreationTo,t)||(l.criteria.dateCreationTo=t),v(t)}),n()(),a(37,"div",35)(38,"button",36),s(39,"translate"),I("click",function(){_(e);let t=m(2);return v(t.findPaginatedByCriteria())}),f(40,"i",37),d(41),s(42,"translate"),n()()()}if(o&2){let e=m(2);r(3),u(p(4,22,"locataire.code")),r(2),x("ngModel",e.criteria.codeLike),r(3),u(p(9,24,"locataire.libelle")),r(2),x("ngModel",e.criteria.libelleLike),r(3),u(p(14,26,"locataire.nom")),r(2),x("ngModel",e.criteria.nomLike),r(3),u(p(19,28,"locataire.prenom")),r(2),x("ngModel",e.criteria.prenomLike),r(3),u(p(24,30,"locataire.typeLocataire")),r(2),g("placeholder",p(26,32,"locataire.typeLocataire")),c("options",e.typeLocataires),x("ngModel",e.criteria.typeLocataire),c("filter",!0)("showClear",!0),r(4),u(p(30,34,"locataire.dateCreationMin")),r(2),x("ngModel",e.criteria.dateCreationFrom),c("showIcon",!0),r(3),u(p(35,36,"locataire.dateCreationMax")),r(2),x("ngModel",e.criteria.dateCreationTo),c("showIcon",!0),r(2),g("label",p(39,38,"validate")),r(3),H(" ",p(42,40,"validate")," ")}}function Ca(o,S){if(o&1){let e=T();a(0,"div",38)(1,"h5",39),d(2),s(3,"translate"),n(),a(4,"span",40)(5,"p-iconfield",41),f(6,"p-inputicon",42),a(7,"input",43),s(8,"translate"),I("input",function(t){_(e),m();let l=De(9);return v(l.filterGlobal(t.target.value,"contains"))}),n()()()()}o&2&&(r(2),u(p(3,2,"locataire.header")),r(5),g("placeholder",p(8,4,"searchInput")))}function Sa(o,S){o&1&&(a(0,"tr")(1,"th",44),f(2,"p-tableHeaderCheckbox"),n(),a(3,"th",45)(4,"div",46)(5,"span",47),d(6),s(7,"translate"),n()()(),a(8,"th")(9,"div",46)(10,"span",47),d(11),s(12,"translate"),n()()(),a(13,"th")(14,"div",46)(15,"span",47),d(16),s(17,"translate"),n()()(),a(18,"th")(19,"div",46)(20,"span",47),d(21),s(22,"translate"),n()()(),a(23,"th",48)(24,"div",46)(25,"span",47),d(26),s(27,"translate"),n(),f(28,"p-sortIcon",49),n()(),a(29,"th"),d(30,"Actions"),n()()),o&2&&(r(6),u(p(7,5,"locataire.nom")),r(5),u(p(12,7,"locataire.prenom")),r(5),u(p(17,9,"locataire.telephone")),r(5),u(p(22,11,"locataire.typeLocataire")),r(5),u(p(27,13,"locataire.dateCreation")))}function wa(o,S){if(o&1){let e=T();a(0,"button",55),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.edit(t))}),n()}}function La(o,S){if(o&1){let e=T();a(0,"button",56),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.view(t))}),n()}}function Ia(o,S){if(o&1){let e=T();a(0,"button",57),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.delete(t))}),n()}}function Ma(o,S){if(o&1&&(a(0,"tr")(1,"td"),f(2,"p-tableCheckbox",50),n(),a(3,"td"),d(4),n(),a(5,"td"),d(6),n(),a(7,"td"),d(8),n(),a(9,"td"),f(10,"p-tag",51),n(),a(11,"td"),d(12),s(13,"date"),n(),a(14,"td"),M(15,wa,1,0,"button",52)(16,La,1,0,"button",53)(17,Ia,1,0,"button",54),n()()),o&2){let e=S.$implicit,i=m(2);r(2),c("value",e),r(2),u(e.nom),r(2),u(e.prenom),r(2),u(e.telephone),r(2),g("severity",e.typeLocataire==null?null:e.typeLocataire.code),g("value",e.typeLocataire==null?null:e.typeLocataire.label),c("rounded",!0),r(2),u(Qe(13,11,e.dateCreation,"dd/MM/yyyy HH:mm")),r(3),c("ngIf",i.editActionIsValid),r(),c("ngIf",i.viewActionIsValid),r(),c("ngIf",i.deleteActionIsValid)}}function Ta(o,S){if(o&1){let e=T();a(0,"p-paginator",58),I("onPageChange",function(t){_(e);let l=m(2);return v(l.onPage(t))}),n(),a(1,"div",59),d(2),n()}if(o&2){let e=m(2);c("rows",10)("totalRecords",e.totalRecords),r(2),Ve(" En totale il ",(e.items&&e.totalRecords==1,"y a")," ",e.items?e.totalRecords:0," ",e.items?e.totalRecords==1?"locataire":"locataires":0,". ")}}function Aa(o,S){o&1&&f(0,"app-locataire-create-admin")}function Pa(o,S){o&1&&f(0,"app-locataire-edit-admin")}function Ea(o,S){o&1&&f(0,"app-locataire-view-admin")}function Da(o,S){if(o&1){let e=T();a(0,"div",3)(1,"div",4),f(2,"p-toast"),a(3,"div",5)(4,"p-toolbar",6),M(5,ya,2,6,"ng-template",7)(6,xa,3,5,"ng-template",8),n(),M(7,ba,43,42,"div",9),a(8,"p-table",10,0),s(10,"translate"),C("selectionChange",function(t){_(e);let l=m();return b(l.selections,t)||(l.selections=t),v(t)}),M(11,Ca,9,6,"ng-template",11)(12,Sa,31,15,"ng-template",12)(13,Ma,18,14,"ng-template",13)(14,Ta,3,5,"ng-template",14),n()(),M(15,Aa,1,0,"app-locataire-create-admin",15)(16,Pa,1,0,"app-locataire-edit-admin",15)(17,Ea,1,0,"app-locataire-view-admin",15),f(18,"p-confirmDialog"),n()()}if(o&2){let e=m();r(7),c("ngIf",e.findByCriteriaShow),r(),g("currentPageReportTemplate",p(10,16,"les \xE9l\xE9ments de {first} \xE0 {last} sur {totalRecords} ")),c("value",e.items)("columns",e.cols)("rows",8)("paginator",!1)("globalFilterFields",E(18,_a)),x("selection",e.selections),c("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",E(19,va)),r(7),c("ngIf",e.createDialog&&e.createActionIsValid),r(),c("ngIf",e.editDialog&&e.editActionIsValid),r(),c("ngIf",e.viewDialog&&e.viewActionIsValid),r(),U(E(20,fa))}}function Va(o,S){o&1&&(a(0,"p-card",60)(1,"p",61),d(2," You don't have permission to access ! "),n()())}var oi=(()=>{class o{constructor(e,i,t){this.service=e,this.typeLocataireService=i,this.platformId=t,this.fileName="Locataire",this.findByCriteriaShow=!1,this.cols=[],this.exportData=[],this.criteriaData=[],this._totalRecords=0,this.enableSecurity=!1,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.authService=y.injector.get(He),this.exportService=y.injector.get(Ie)}ngOnInit(){this.findPaginatedByCriteria(),this.initExport(),this.initCol(),this.loadTypeLocataire()}onExcelFileSelected(e){let i=e.target;i.files&&i.files.length>0&&(this.excelFile=i.files[0])}importExcel(){this.excelFile&&this.service.importExcel(this.excelFile).subscribe(e=>{this.items=e,this.messageService.add({severity:"success",summary:"Success",detail:"File uploaded successfully!",life:3e3})},e=>{this.messageService.add({severity:"error",summary:"Error",detail:"File uploaded with Error!",life:3e3})})}findPaginatedByCriteria(){this.service.findPaginatedByCriteria(this.criteria).subscribe(e=>{this.items=e.list,this.totalRecords=e.dataSize,this.selections=new Array},e=>console.log(e))}onPage(e){this.criteria.page=e.page,this.criteria.maxResults=e.rows,this.findPaginatedByCriteria()}edit(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,console.log(i),this.editDialog=!0})})}view(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,this.viewDialog=!0})})}openCreate(){return A(this,null,function*(){this.item=new ce,this.createDialog=!0})}deleteMultiple(){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer ces \xE9l\xE9ments ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.deleteMultiple().subscribe(()=>{for(let e of this.selections){let i=this.items.findIndex(t=>t.id===e.id);this.items.splice(i,1)}this.selections=new Array,this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Les \xE9l\xE9ments s\xE9lectionn\xE9s ont \xE9t\xE9 supprim\xE9s",life:3e3})},e=>console.log(e))}})})}isSelectionDisabled(){return this.selections==null||this.selections.length==0}delete(e){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer cet \xE9l\xE9ment ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.delete(e).subscribe(i=>{if(i>0){let t=this.items.indexOf(e);t>-1&&this.items.splice(t,1),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Element Supprim\xE9",life:3e3})}},i=>console.log(i))}})})}duplicate(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.initDuplicate(i),this.item=i,this.item.id=null,this.createDialog=!0})})}initExport(){this.excelPdfButons=[{label:"CSV",icon:"pi pi-file",command:()=>{this.prepareColumnExport(),this.exportService.exporterCSV(this.criteriaData,this.exportData,this.fileName)}},{label:"XLS",icon:"pi pi-file-excel",command:()=>{this.prepareColumnExport(),this.exportService.exporterExcel(this.criteriaData,this.exportData,this.fileName)}},{label:"PDF",icon:"pi pi-file-pdf",command:()=>{this.prepareColumnExport(),this.exportService.exporterPdf(this.criteriaData,this.exportData,this.fileName)}}]}exportPdf(e){this.service.exportPdf(e).subscribe(i=>{let t=new Blob([i],{type:"application/pdf"}),l=window.URL.createObjectURL(t),h=document.createElement("a");h.href=l,h.download=this.pdfName,h.setAttribute("target","_blank"),h.click(),window.URL.revokeObjectURL(l)},i=>{console.error(i)})}showSearch(){this.findByCriteriaShow=!this.findByCriteriaShow}update(){this.service.edit().subscribe(e=>{let i=this.items.findIndex(t=>t.id===this.item.id);this.items[i]=e,this.editDialog=!1,this.item=new ce},e=>{console.log(e)})}save(){this.service.save().subscribe(e=>{e!=null?(this.items.push(le({},e)),this.createDialog=!1,this.item=new ce):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},e=>{console.log(e)})}initCol(){this.cols=[{field:"code",header:"Code"},{field:"libelle",header:"Libelle"},{field:"nom",header:"Nom"},{field:"prenom",header:"Prenom"},{field:"typeLocataire?.label",header:"Type locataire"},{field:"dateCreation",header:"Date creation"}]}loadTypeLocataire(){return A(this,null,function*(){this.typeLocataireService.findAllOptimized().subscribe(e=>this.typeLocataires=e,e=>console.log(e))})}initDuplicate(e){}prepareColumnExport(){this.service.findByCriteria(this.criteria).subscribe(e=>{this.exportData=e.map(i=>({Code:i.code,Nom:i.nom,Prenom:i.prenom,"Type locataire":i.typeLocataire?.label,"Date creation":this.datePipe.transform(i.dateCreation,"dd/MM/yyyy hh:mm")})),this.criteriaData=[{Code:this.criteria.code?this.criteria.code:L.emptyForExport,Libelle:this.criteria.libelle?this.criteria.libelle:L.emptyForExport,Nom:this.criteria.nom?this.criteria.nom:L.emptyForExport,Prenom:this.criteria.prenom?this.criteria.prenom:L.emptyForExport,"Date creation Min":this.criteria.dateCreationFrom?this.datePipe.transform(this.criteria.dateCreationFrom,this.dateFormat):L.emptyForExport,"Date creation Max":this.criteria.dateCreationTo?this.datePipe.transform(this.criteria.dateCreationTo,this.dateFormat):L.emptyForExport}]})}get items(){return this.service.items}set items(e){this.service.items=e}get selections(){return this.service.selections}set selections(e){this.service.selections=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatList}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e}get pdfName(){return this._pdfName}set pdfName(e){this._pdfName=e}get createActionIsValid(){return this.service.createActionIsValid}set createActionIsValid(e){this.service.createActionIsValid=e}get editActionIsValid(){return this.service.editActionIsValid}set editActionIsValid(e){this.service.editActionIsValid=e}get listActionIsValid(){return this.service.listActionIsValid}set listActionIsValid(e){this.service.listActionIsValid=e}get deleteActionIsValid(){return this.service.deleteActionIsValid}set deleteActionIsValid(e){this.service.deleteActionIsValid=e}get viewActionIsValid(){return this.service.viewActionIsValid}set viewActionIsValid(e){this.service.viewActionIsValid=e}get duplicateActionIsValid(){return this.service.duplicateActionIsValid}set duplicateActionIsValid(e){this.service.duplicateActionIsValid=e}get createAction(){return this.service.createAction}set createAction(e){this.service.createAction=e}get listAction(){return this.service.listAction}set listAction(e){this.service.listAction=e}get editAction(){return this.service.editAction}set editAction(e){this.service.editAction=e}get deleteAction(){return this.service.deleteAction}set deleteAction(e){this.service.deleteAction=e}get viewAction(){return this.service.viewAction}set viewAction(e){this.service.viewAction=e}get duplicateAction(){return this.service.duplicateAction}set duplicateAction(e){this.service.duplicateAction=e}get entityName(){return this.service.entityName}set entityName(e){this.service.entityName=e}static{this.\u0275fac=function(i){return new(i||o)(w(ye),w(he),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-locataire-list-admin"]],standalone:!1,decls:2,vars:2,consts:[["dt",""],["class","grid",4,"ngIf"],["header","Permission not allowed",4,"ngIf"],[1,"grid"],[1,"col-12"],[1,"card"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 border border-surface rounded-lg",4,"ngIf"],["dataKey","id","styleClass","p-datatable-customers","selectionMode","multiple",3,"selectionChange","value","columns","rows","paginator","globalFilterFields","selection","rowHover","currentPageReportTemplate","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[4,"ngIf"],["pButton","","pRipple","",1,"p-button-secondary","mr-2","mb-2",3,"click","label","icon"],[1,"flex"],["icon","pi pi-download","styleClass","p-button-secondary",3,"label","model"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","p-4","border","border-surface","rounded-lg"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["pInputText","","id","1","type","text",3,"ngModelChange","ngModel"],["for","2",1,"text-sm","font-semibold"],["pInputText","","id","2","type","text",3,"ngModelChange","ngModel"],["for","3",1,"text-sm","font-semibold"],["pInputText","","id","3","type","text",3,"ngModelChange","ngModel"],["for","4",1,"text-sm","font-semibold"],["pInputText","","id","4","type","text",3,"ngModelChange","ngModel"],["for","5-2",1,"text-sm","font-semibold"],["id","5","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","6-1",1,"text-sm","font-semibold"],["id","6-1","dateFormat","dd-MM-yy",1,"p-fluid",3,"ngModelChange","ngModel","showIcon"],["for","6-2",1,"text-sm","font-semibold"],["id","6-2","dateFormat","dd-MM-yy",1,"p-fluid",3,"ngModelChange","ngModel","showIcon"],[1,"col-span-full","flex","justify-end","mt-4"],["pButton","","pRipple","",1,"px-4","py-2","rounded-md",3,"click","label"],[1,"pi","pi-sort-amount-down"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","p-2","gap-4"],[1,"text-center","md:text-left"],[1,"relative","w-full","md:w-auto"],["iconPosition","left",1,"w-full","md:w-auto"],[1,"pi","pi-search"],["pInputText","","type","text",1,"w-full","md:w-72","border","border-gray-300","rounded-md","p-2","focus:ring","focus:ring-blue-300",3,"input","placeholder"],[2,"width","3rem"],["pSortableColumn","nom"],[1,"p-d-flex","p-jc-between","p-ai-center"],[1,"mr-2"],["pSortableColumn","dateCreation"],["field","dateCreation"],[3,"value"],[3,"severity","value","rounded"],["pButton","","pRipple","","icon","pi pi-pencil","class","p-button-rounded p-button-info mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-list","class","p-button-rounded p-button-secondary mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-trash","class","p-button-rounded p-button-danger mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-list",1,"p-button-rounded","p-button-secondary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","mr-2",3,"click"],[3,"onPageChange","rows","totalRecords"],[1,"p-d-flex","p-ai-center","p-jc-between"],["header","Permission not allowed"],[1,"m-0"]],template:function(i,t){i&1&&M(0,Da,19,21,"div",1)(1,Va,3,0,"p-card",2),i&2&&(c("ngIf",t.listActionIsValid),r(),c("ngIf",!t.listActionIsValid))},dependencies:[J,ue,z,Fe,fe,je,Re,Ne,Oe,ze,O,Se,V,B,W,we,re,ee,ke,Ue,$e,Be,We,Ce,Ht,Ai,Ei,P,R],encapsulation:2})}}return o})();var Ba=()=>({width:"70vw"}),li=o=>({"ng-invalid ng-dirty":o});function Wa(o,S){o&1&&(a(0,"small",9),d(1,"Code is obligatory."),n())}function Fa(o,S){o&1&&(a(0,"small",9),d(1,"Label is obligatory."),n())}function ka(o,S){o&1&&(a(0,"small",9),d(1,"Style is obligatory."),n())}function ja(o,S){if(o&1){let e=T();a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),a(8,"p-inputNumber",7),s(9,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.indexation,t)||(l.item.indexation=t),v(t)}),n()(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),a(14,"span",9),d(15,"*"),n()(),a(16,"input",10),s(17,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.code,t)||(l.item.code=t),v(t)}),n(),M(18,Wa,2,0,"small",11),n(),a(19,"div",5)(20,"label",12),d(21),s(22,"translate"),a(23,"span",9),d(24,"*"),n()(),a(25,"input",13),s(26,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.label,t)||(l.item.label=t),v(t)}),n(),M(27,Fa,2,0,"small",11),n(),a(28,"div",5)(29,"label",14),d(30),s(31,"translate"),a(32,"span",9),d(33,"*"),n()(),a(34,"input",15),s(35,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.style,t)||(l.item.style=t),v(t)}),n(),M(36,ka,2,0,"small",11),n(),a(37,"div",5)(38,"label",16),d(39),s(40,"translate"),n(),a(41,"input",17),s(42,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.color,t)||(l.item.color=t),v(t)}),n()()()()()}if(o&2){let e=m();r(),g("header",p(2,22,"typeLocataire.tabPan")),r(5),u(p(7,24,"typeLocataire.indexation")),r(2),g("placeholder",p(9,26,"typeLocataire.indexation")),x("ngModel",e.item.indexation),r(4),u(p(13,28,"typeLocataire.code")),r(4),g("placeholder",p(17,30,"typeLocataire.code")),x("ngModel",e.item.code),c("ngClass",$(44,li,!e.validTypeLocataireCode)),r(2),c("ngIf",!e.validTypeLocataireCode),r(3),u(p(22,32,"typeLocataire.label")),r(4),g("placeholder",p(26,34,"typeLocataire.label")),x("ngModel",e.item.label),c("ngClass",$(46,li,!e.validTypeLocataireLabel)),r(2),c("ngIf",!e.validTypeLocataireLabel),r(3),u(p(31,36,"typeLocataire.style")),r(4),g("placeholder",p(35,38,"typeLocataire.style")),x("ngModel",e.item.style),c("ngClass",$(48,li,!e.validTypeLocataireStyle)),r(2),c("ngIf",!e.validTypeLocataireStyle),r(3),u(p(40,40,"typeLocataire.color")),r(2),g("placeholder",p(42,42,"typeLocataire.color")),x("ngModel",e.item.color)}}function Ra(o,S){if(o&1){let e=T();a(0,"div",18)(1,"button",19),s(2,"translate"),I("click",function(){_(e);let t=m();return v(t.save())}),f(3,"i",20),d(4),s(5,"translate"),n(),a(6,"button",21),I("click",function(){_(e);let t=m();return v(t.hideCreateDialog())}),f(7,"i",22),d(8),s(9,"translate"),n()()}o&2&&(r(),g("label",p(2,3,"validate")),r(3),H(" ",p(5,5,"validate")," "),r(4),H(" ",p(9,7,"cancel")," "))}var Di=(()=>{class o{constructor(e,i){this.service=e,this.platformId=i,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validTypeLocataireCode=!0,this._validTypeLocataireLabel=!0,this._validTypeLocataireStyle=!0,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){}save(){this.submitted=!0,this.validateForm(),this.errorMessages.length===0?this.saveWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}saveWithShowOption(e){this.service.save().subscribe(i=>{i!=null?(this.items.push(le({},i)),this.createDialog=!1,this.submitted=!1,this.item=new Ge):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},i=>{console.log(i)})}hideCreateDialog(){this.createDialog=!1,this.setValidation(!0)}setValidation(e){this.validTypeLocataireCode=e,this.validTypeLocataireLabel=e,this.validTypeLocataireStyle=e}validateForm(){this.errorMessages=new Array,this.validateTypeLocataireCode(),this.validateTypeLocataireLabel(),this.validateTypeLocataireStyle()}validateTypeLocataireCode(){this.stringUtilService.isEmpty(this.item.code)?(this.errorMessages.push("Code non valide"),this.validTypeLocataireCode=!1):this.validTypeLocataireCode=!0}validateTypeLocataireLabel(){this.stringUtilService.isEmpty(this.item.label)?(this.errorMessages.push("Label non valide"),this.validTypeLocataireLabel=!1):this.validTypeLocataireLabel=!0}validateTypeLocataireStyle(){this.stringUtilService.isEmpty(this.item.style)?(this.errorMessages.push("Style non valide"),this.validTypeLocataireStyle=!1):this.validTypeLocataireStyle=!0}get validTypeLocataireCode(){return this._validTypeLocataireCode}set validTypeLocataireCode(e){this._validTypeLocataireCode=e}get validTypeLocataireLabel(){return this._validTypeLocataireLabel}set validTypeLocataireLabel(e){this._validTypeLocataireLabel=e}get validTypeLocataireStyle(){return this._validTypeLocataireStyle}set validTypeLocataireStyle(e){this._validTypeLocataireStyle=e}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}static{this.\u0275fac=function(i){return new(i||o)(w(he),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-type-locataire-create-admin"]],standalone:!1,decls:4,vars:11,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal","maximizable","draggable","resizable"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["id","1",3,"ngModelChange","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],[1,"text-red-500"],["type","text","pInputText","","id","2",3,"ngModelChange","placeholder","ngModel","ngClass"],["class","text-red-500",4,"ngIf"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","id","3",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","id","4",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","5",1,"text-sm","font-semibold"],["type","text","pInputText","","id","5",3,"ngModelChange","placeholder","ngModel"],[1,"flex","justify-end","space-x-3","p-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-primary",3,"click","label"],[1,"pi","pi-check"],[1,"border","border-gray-400","text-gray-600","hover:bg-gray-200","px-4","py-2","rounded-md",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.createDialog,h)||(t.createDialog=h),h}),M(2,ja,43,50,"ng-template",1)(3,Ra,10,9,"ng-template",2),n()),i&2&&(U(E(10,Ba)),g("header",p(1,8,"typeLocataire.tabPan")),x("visible",t.createDialog),c("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1))},dependencies:[ge,J,z,Q,O,V,B,W,Y,X,q,R],encapsulation:2})}}return o})();var Oa=()=>({width:"70vw"});function Ua(o,S){if(o&1&&(a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),f(8,"p-inputNumber",7),s(9,"translate"),n(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),n(),f(14,"input",9),s(15,"translate"),n(),a(16,"div",5)(17,"label",10),d(18),s(19,"translate"),n(),f(20,"input",11),s(21,"translate"),n(),a(22,"div",5)(23,"label",12),d(24),s(25,"translate"),n(),f(26,"input",13),s(27,"translate"),n(),a(28,"div",5)(29,"label",14),d(30),s(31,"translate"),n(),f(32,"input",15),s(33,"translate"),n()()()()),o&2){let e=m();r(),g("header",p(2,21,"typeLocataire.tabPan")),r(5),u(p(7,23,"typeLocataire.indexation")),r(2),g("placeholder",p(9,25,"typeLocataire.indexation")),c("disabled",!0)("ngModel",e.item.indexation),r(4),u(p(13,27,"typeLocataire.code")),r(2),g("placeholder",p(15,29,"typeLocataire.code")),c("disabled",!0)("ngModel",e.item.code),r(4),u(p(19,31,"typeLocataire.label")),r(2),g("placeholder",p(21,33,"typeLocataire.label")),c("disabled",!0)("ngModel",e.item.label),r(4),u(p(25,35,"typeLocataire.style")),r(2),g("placeholder",p(27,37,"typeLocataire.style")),c("disabled",!0)("ngModel",e.item.style),r(4),u(p(31,39,"typeLocataire.color")),r(2),g("placeholder",p(33,41,"typeLocataire.color")),c("disabled",!0)("ngModel",e.item.color)}}function za(o,S){if(o&1){let e=T();a(0,"div",16)(1,"div")(2,"button",17),I("click",function(){_(e);let t=m();return v(t.hideViewDialog())}),f(3,"i",18),d(4," Annuler "),n()()()}}var Vi=(()=>{class o{constructor(e){this.service=e,this._submitted=!1,this._errorMessages=new Array,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){}hideViewDialog(){this.viewDialog=!1}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatView}get dateFormatColumn(){return L.dateFormatList}static{this.\u0275fac=function(i){return new(i||o)(w(he))}}static{this.\u0275cmp=D({type:o,selectors:[["app-type-locataire-view-admin"]],standalone:!1,decls:4,vars:8,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["id","1",3,"disabled","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","2",3,"disabled","placeholder","ngModel"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","3",3,"disabled","placeholder","ngModel"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","4",3,"disabled","placeholder","ngModel"],["for","5",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","5",3,"disabled","placeholder","ngModel"],[1,"flex","justify-end","p-4"],[1,"border","border-gray-400","font-semibold","py-2","px-4","rounded","shadow",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.viewDialog,h)||(t.viewDialog=h),h}),M(2,Ua,34,43,"ng-template",1)(3,za,5,0,"ng-template",2),n()),i&2&&(U(E(7,Oa)),g("header",p(1,5,"typeLocataire.tabPan")),x("visible",t.viewDialog),c("modal",!0))},dependencies:[z,Q,O,V,B,W,Y,X,q,R],encapsulation:2})}}return o})();var qa=()=>({width:"70vw"}),si=o=>({"ng-invalid ng-dirty":o});function Ga(o,S){o&1&&(a(0,"small",9),d(1,"Code is obligatory."),n())}function Xa(o,S){o&1&&(a(0,"small",9),d(1,"Label is obligatory."),n())}function Ya(o,S){o&1&&(a(0,"small",9),d(1,"Style is obligatory."),n())}function Ka(o,S){if(o&1){let e=T();a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),a(8,"p-inputNumber",7),s(9,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.indexation,t)||(l.item.indexation=t),v(t)}),n()(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),a(14,"span",9),d(15,"*"),n()(),a(16,"input",10),s(17,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.code,t)||(l.item.code=t),v(t)}),n(),M(18,Ga,2,0,"small",11),n(),a(19,"div",5)(20,"label",12),d(21),s(22,"translate"),a(23,"span",9),d(24,"*"),n()(),a(25,"input",13),s(26,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.label,t)||(l.item.label=t),v(t)}),n(),M(27,Xa,2,0,"small",11),n(),a(28,"div",5)(29,"label",14),d(30),s(31,"translate"),a(32,"span",9),d(33,"*"),n()(),a(34,"input",15),s(35,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.style,t)||(l.item.style=t),v(t)}),n(),M(36,Ya,2,0,"small",11),n(),a(37,"div",5)(38,"label",16),d(39),s(40,"translate"),n(),a(41,"input",17),s(42,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.color,t)||(l.item.color=t),v(t)}),n()()()()()}if(o&2){let e=m();r(),g("header",p(2,22,"typeLocataire.tabPan")),r(5),u(p(7,24,"typeLocataire.indexation")),r(2),g("placeholder",p(9,26,"typeLocataire.indexation")),x("ngModel",e.item.indexation),r(4),u(p(13,28,"typeLocataire.code")),r(4),g("placeholder",p(17,30,"typeLocataire.code")),x("ngModel",e.item.code),c("ngClass",$(44,si,!e.validTypeLocataireCode)),r(2),c("ngIf",!e.validTypeLocataireCode),r(3),u(p(22,32,"typeLocataire.label")),r(4),g("placeholder",p(26,34,"typeLocataire.label")),x("ngModel",e.item.label),c("ngClass",$(46,si,!e.validTypeLocataireLabel)),r(2),c("ngIf",!e.validTypeLocataireLabel),r(3),u(p(31,36,"typeLocataire.style")),r(4),g("placeholder",p(35,38,"typeLocataire.style")),x("ngModel",e.item.style),c("ngClass",$(48,si,!e.validTypeLocataireStyle)),r(2),c("ngIf",!e.validTypeLocataireStyle),r(3),u(p(40,40,"typeLocataire.color")),r(2),g("placeholder",p(42,42,"typeLocataire.color")),x("ngModel",e.item.color)}}function Qa(o,S){if(o&1){let e=T();a(0,"div",18)(1,"button",19),s(2,"translate"),I("click",function(){_(e);let t=m();return v(t.edit())}),f(3,"i",20),d(4),s(5,"translate"),n(),a(6,"button",21),I("click",function(){_(e);let t=m();return v(t.hideEditDialog())}),f(7,"i",22),d(8),s(9,"translate"),n()()}o&2&&(r(),g("label",p(2,3,"validate")),r(3),H(" ",p(5,5,"validate")," "),r(4),H(" ",p(9,7,"cancel")," "))}var Bi=(()=>{class o{constructor(e,i){this.service=e,this.platformId=i,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validTypeLocataireCode=!0,this._validTypeLocataireLabel=!0,this._validTypeLocataireStyle=!0,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){}prepareEdit(){}edit(){this.submitted=!0,this.prepareEdit(),this.validateForm(),this.errorMessages.length===0?this.editWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}editWithShowOption(e){this.service.edit().subscribe(i=>{let t=this.items.findIndex(l=>l.id===this.item.id);this.items[t]=i,this.editDialog=!1,this.submitted=!1,this.item=new Ge},i=>{console.log(i)})}hideEditDialog(){this.editDialog=!1,this.setValidation(!0)}setValidation(e){this.validTypeLocataireCode=e,this.validTypeLocataireLabel=e,this.validTypeLocataireStyle=e}validateForm(){this.errorMessages=new Array,this.validateTypeLocataireCode(),this.validateTypeLocataireLabel(),this.validateTypeLocataireStyle()}validateTypeLocataireCode(){this.stringUtilService.isEmpty(this.item.code)?(this.errorMessages.push("Code non valide"),this.validTypeLocataireCode=!1):this.validTypeLocataireCode=!0}validateTypeLocataireLabel(){this.stringUtilService.isEmpty(this.item.label)?(this.errorMessages.push("Label non valide"),this.validTypeLocataireLabel=!1):this.validTypeLocataireLabel=!0}validateTypeLocataireStyle(){this.stringUtilService.isEmpty(this.item.style)?(this.errorMessages.push("Style non valide"),this.validTypeLocataireStyle=!1):this.validTypeLocataireStyle=!0}get validTypeLocataireCode(){return this._validTypeLocataireCode}set validTypeLocataireCode(e){this._validTypeLocataireCode=e}get validTypeLocataireLabel(){return this._validTypeLocataireLabel}set validTypeLocataireLabel(e){this._validTypeLocataireLabel=e}get validTypeLocataireStyle(){return this._validTypeLocataireStyle}set validTypeLocataireStyle(e){this._validTypeLocataireStyle=e}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}static{this.\u0275fac=function(i){return new(i||o)(w(he),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-type-locataire-edit-admin"]],standalone:!1,decls:4,vars:11,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal","maximizable","draggable","resizable"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["id","1",3,"ngModelChange","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],[1,"text-red-500"],["type","text","pInputText","","id","2",3,"ngModelChange","placeholder","ngModel","ngClass"],["class","text-red-500",4,"ngIf"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","id","3",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","id","4",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","5",1,"text-sm","font-semibold"],["type","text","pInputText","","id","5",3,"ngModelChange","placeholder","ngModel"],[1,"flex","justify-end","space-x-3","p-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-primary",3,"click","label"],[1,"pi","pi-check"],[1,"border","border-gray-400","text-gray-600","hover:bg-gray-200","px-4","py-2","rounded-md",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.editDialog,h)||(t.editDialog=h),h}),M(2,Ka,43,50,"ng-template",1)(3,Qa,10,9,"ng-template",2),n()),i&2&&(U(E(10,qa)),g("header",p(1,8,"typeLocataire.tabPan")),x("visible",t.editDialog),c("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1))},dependencies:[ge,J,z,Q,O,V,B,W,Y,X,q,R],encapsulation:2})}}return o})();var Za=()=>["indexation","code","label","style","color"],$a=()=>[10,25,50],er=()=>({width:"450px"});function tr(o,S){if(o&1){let e=T();a(0,"button",18),s(1,"translate"),I("click",function(){_(e);let t=m(3);return v(t.openCreate())}),n()}o&2&&Z("label"," ",p(1,2,"new"),"")}function ir(o,S){if(o&1){let e=T();M(0,tr,2,4,"button",16),d(1,"--> "),a(2,"button",17),s(3,"translate"),I("click",function(){_(e);let t=m(2);return v(t.showSearch())}),n()}if(o&2){let e=m(2);c("ngIf",e.createActionIsValid),r(2),Z("label"," ",p(3,5,"search"),""),Z("icon","pi pi-",e.findByCriteriaShow?"angle-down":"angle-right","")}}function nr(o,S){if(o&1&&(a(0,"div",19),f(1,"p-splitButton",20),s(2,"translate"),n()),o&2){let e=m(2);r(),Z("label"," ",p(2,3,"export"),""),c("model",e.excelPdfButons)}}function ar(o,S){if(o&1){let e=T();a(0,"div",21)(1,"div",22)(2,"label",23),d(3),s(4,"translate"),n(),a(5,"p-inputNumber",24),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.indexationMin,t)||(l.criteria.indexationMin=t),v(t)}),n()(),a(6,"div",22)(7,"label",25),d(8),s(9,"translate"),n(),a(10,"p-inputNumber",26),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.indexationMax,t)||(l.criteria.indexationMax=t),v(t)}),n()(),a(11,"div",22)(12,"label",27),d(13),s(14,"translate"),n(),a(15,"input",28),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.codeLike,t)||(l.criteria.codeLike=t),v(t)}),n()(),a(16,"div",22)(17,"label",29),d(18),s(19,"translate"),n(),a(20,"input",30),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.labelLike,t)||(l.criteria.labelLike=t),v(t)}),n()(),a(21,"div",22)(22,"label",31),d(23),s(24,"translate"),n(),a(25,"input",32),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.styleLike,t)||(l.criteria.styleLike=t),v(t)}),n()(),a(26,"div",22)(27,"label",33),d(28),s(29,"translate"),n(),a(30,"input",34),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.colorLike,t)||(l.criteria.colorLike=t),v(t)}),n()(),a(31,"div",35)(32,"button",36),s(33,"translate"),I("click",function(){_(e);let t=m(2);return v(t.findPaginatedByCriteria())}),f(34,"i",37),d(35),s(36,"translate"),n()()()}if(o&2){let e=m(2);r(3),u(p(4,14,"typeLocataire.indexationMin")),r(2),x("ngModel",e.criteria.indexationMin),r(3),u(p(9,16,"typeLocataire.indexationMax")),r(2),x("ngModel",e.criteria.indexationMax),r(3),u(p(14,18,"typeLocataire.code")),r(2),x("ngModel",e.criteria.codeLike),r(3),u(p(19,20,"typeLocataire.label")),r(2),x("ngModel",e.criteria.labelLike),r(3),u(p(24,22,"typeLocataire.style")),r(2),x("ngModel",e.criteria.styleLike),r(3),u(p(29,24,"typeLocataire.color")),r(2),x("ngModel",e.criteria.colorLike),r(2),g("label",p(33,26,"validate")),r(3),H(" ",p(36,28,"validate")," ")}}function rr(o,S){if(o&1){let e=T();a(0,"div",38)(1,"h5",39),d(2),s(3,"translate"),n(),a(4,"span",40)(5,"p-iconfield",41),f(6,"p-inputicon",42),a(7,"input",43),s(8,"translate"),I("input",function(t){_(e),m();let l=De(9);return v(l.filterGlobal(t.target.value,"contains"))}),n()()()()}o&2&&(r(2),u(p(3,2,"typeLocataire.header")),r(5),g("placeholder",p(8,4,"searchInput")))}function or(o,S){o&1&&(a(0,"tr")(1,"th",44),f(2,"p-tableHeaderCheckbox"),n(),a(3,"th",45)(4,"div",46)(5,"span",47),d(6),s(7,"translate"),n(),f(8,"p-sortIcon",48),n()(),a(9,"th",49)(10,"div",46)(11,"span",47),d(12),s(13,"translate"),n(),f(14,"p-sortIcon",50)(15,"p-columnFilter",51),n()(),a(16,"th",52)(17,"div",46)(18,"span",47),d(19),s(20,"translate"),n(),f(21,"p-sortIcon",53)(22,"p-columnFilter",54),n()(),a(23,"th",55)(24,"div",46)(25,"span",47),d(26),s(27,"translate"),n(),f(28,"p-sortIcon",56)(29,"p-columnFilter",57),n()(),a(30,"th",58)(31,"div",46)(32,"span",47),d(33),s(34,"translate"),n(),f(35,"p-sortIcon",59)(36,"p-columnFilter",60),n()(),a(37,"th"),d(38,"Actions"),n()()),o&2&&(r(6),u(p(7,5,"typeLocataire.indexation")),r(6),u(p(13,7,"typeLocataire.code")),r(7),u(p(20,9,"typeLocataire.label")),r(7),u(p(27,11,"typeLocataire.style")),r(7),u(p(34,13,"typeLocataire.color")))}function lr(o,S){if(o&1){let e=T();a(0,"button",66),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.edit(t))}),n()}}function sr(o,S){if(o&1){let e=T();a(0,"button",67),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.view(t))}),n()}}function pr(o,S){if(o&1){let e=T();a(0,"button",68),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.delete(t))}),n()}}function dr(o,S){if(o&1&&(a(0,"tr")(1,"td"),f(2,"p-tableCheckbox",61),n(),a(3,"td"),d(4),n(),a(5,"td"),d(6),n(),a(7,"td"),f(8,"p-tag",62),n(),a(9,"td"),d(10),n(),a(11,"td"),d(12),n(),a(13,"td"),M(14,lr,1,0,"button",63)(15,sr,1,0,"button",64)(16,pr,1,0,"button",65),n()()),o&2){let e=S.$implicit,i=m(2);r(2),c("value",e),r(2),u(e.indexation),r(2),u(e.code),r(2),g("severity",e.style),g("value",e.label),c("rounded",!0),r(2),u(e.style),r(2),u(e.color),r(2),c("ngIf",i.editActionIsValid),r(),c("ngIf",i.viewActionIsValid),r(),c("ngIf",i.deleteActionIsValid)}}function cr(o,S){if(o&1){let e=T();a(0,"p-paginator",69),I("onPageChange",function(t){_(e);let l=m(2);return v(l.onPage(t))}),n(),a(1,"div",70),d(2),n()}if(o&2){let e=m(2);c("rows",10)("totalRecords",e.totalRecords),r(2),Ve(" En totale il ",(e.items&&e.totalRecords==1,"y a")," ",e.items?e.totalRecords:0," ",e.items?e.totalRecords==1?"type locataire":"type locataires":0,". ")}}function mr(o,S){o&1&&f(0,"app-type-locataire-create-admin")}function ur(o,S){o&1&&f(0,"app-type-locataire-edit-admin")}function gr(o,S){o&1&&f(0,"app-type-locataire-view-admin")}function hr(o,S){if(o&1){let e=T();a(0,"div",3)(1,"div",4),f(2,"p-toast"),a(3,"div",5)(4,"p-toolbar",6),M(5,ir,4,7,"ng-template",7)(6,nr,3,5,"ng-template",8),n(),M(7,ar,37,30,"div",9),a(8,"p-table",10,0),s(10,"translate"),C("selectionChange",function(t){_(e);let l=m();return b(l.selections,t)||(l.selections=t),v(t)}),M(11,rr,9,6,"ng-template",11)(12,or,39,15,"ng-template",12)(13,dr,17,11,"ng-template",13)(14,cr,3,5,"ng-template",14),n()(),M(15,mr,1,0,"app-type-locataire-create-admin",15)(16,ur,1,0,"app-type-locataire-edit-admin",15)(17,gr,1,0,"app-type-locataire-view-admin",15),f(18,"p-confirmDialog"),n()()}if(o&2){let e=m();r(7),c("ngIf",e.findByCriteriaShow),r(),g("currentPageReportTemplate",p(10,16,"les \xE9l\xE9ments de {first} \xE0 {last} sur {totalRecords} ")),c("value",e.items)("columns",e.cols)("rows",8)("paginator",!1)("globalFilterFields",E(18,Za)),x("selection",e.selections),c("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",E(19,$a)),r(7),c("ngIf",e.createDialog&&e.createActionIsValid),r(),c("ngIf",e.editDialog&&e.editActionIsValid),r(),c("ngIf",e.viewDialog&&e.viewActionIsValid),r(),U(E(20,er))}}function _r(o,S){o&1&&(a(0,"p-card",71)(1,"p",72),d(2," You don't have permission to access ! "),n()())}var Wi=(()=>{class o{constructor(e,i){this.service=e,this.platformId=i,this.fileName="TypeLocataire",this.findByCriteriaShow=!1,this.cols=[],this.exportData=[],this.criteriaData=[],this._totalRecords=0,this.enableSecurity=!1,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.authService=y.injector.get(He),this.exportService=y.injector.get(Ie)}ngOnInit(){this.findPaginatedByCriteria(),this.initExport(),this.initCol()}onExcelFileSelected(e){let i=e.target;i.files&&i.files.length>0&&(this.excelFile=i.files[0])}importExcel(){this.excelFile&&this.service.importExcel(this.excelFile).subscribe(e=>{this.items=e,this.messageService.add({severity:"success",summary:"Success",detail:"File uploaded successfully!",life:3e3})},e=>{this.messageService.add({severity:"error",summary:"Error",detail:"File uploaded with Error!",life:3e3})})}findPaginatedByCriteria(){this.service.findPaginatedByCriteria(this.criteria).subscribe(e=>{this.items=e.list,this.totalRecords=e.dataSize,this.selections=new Array},e=>console.log(e))}onPage(e){this.criteria.page=e.page,this.criteria.maxResults=e.rows,this.findPaginatedByCriteria()}edit(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,console.log(i),this.editDialog=!0})})}view(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,this.viewDialog=!0})})}openCreate(){return A(this,null,function*(){this.item=new Ge,this.createDialog=!0})}deleteMultiple(){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer ces \xE9l\xE9ments ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.deleteMultiple().subscribe(()=>{for(let e of this.selections){let i=this.items.findIndex(t=>t.id===e.id);this.items.splice(i,1)}this.selections=new Array,this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Les \xE9l\xE9ments s\xE9lectionn\xE9s ont \xE9t\xE9 supprim\xE9s",life:3e3})},e=>console.log(e))}})})}isSelectionDisabled(){return this.selections==null||this.selections.length==0}delete(e){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer cet \xE9l\xE9ment ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.delete(e).subscribe(i=>{if(i>0){let t=this.items.indexOf(e);t>-1&&this.items.splice(t,1),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Element Supprim\xE9",life:3e3})}},i=>console.log(i))}})})}duplicate(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.initDuplicate(i),this.item=i,this.item.id=null,this.createDialog=!0})})}initExport(){this.excelPdfButons=[{label:"CSV",icon:"pi pi-file",command:()=>{this.prepareColumnExport(),this.exportService.exporterCSV(this.criteriaData,this.exportData,this.fileName)}},{label:"XLS",icon:"pi pi-file-excel",command:()=>{this.prepareColumnExport(),this.exportService.exporterExcel(this.criteriaData,this.exportData,this.fileName)}},{label:"PDF",icon:"pi pi-file-pdf",command:()=>{this.prepareColumnExport(),this.exportService.exporterPdf(this.criteriaData,this.exportData,this.fileName)}}]}exportPdf(e){this.service.exportPdf(e).subscribe(i=>{let t=new Blob([i],{type:"application/pdf"}),l=window.URL.createObjectURL(t),h=document.createElement("a");h.href=l,h.download=this.pdfName,h.setAttribute("target","_blank"),h.click(),window.URL.revokeObjectURL(l)},i=>{console.error(i)})}showSearch(){this.findByCriteriaShow=!this.findByCriteriaShow}update(){this.service.edit().subscribe(e=>{let i=this.items.findIndex(t=>t.id===this.item.id);this.items[i]=e,this.editDialog=!1,this.item=new Ge},e=>{console.log(e)})}save(){this.service.save().subscribe(e=>{e!=null?(this.items.push(le({},e)),this.createDialog=!1,this.item=new Ge):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},e=>{console.log(e)})}initCol(){this.cols=[{field:"indexation",header:"Indexation"},{field:"code",header:"Code"},{field:"label",header:"Label"},{field:"style",header:"Style"},{field:"color",header:"Color"}]}initDuplicate(e){}prepareColumnExport(){this.service.findByCriteria(this.criteria).subscribe(e=>{this.exportData=e.map(i=>({Indexation:i.indexation,Code:i.code,Label:i.label,Style:i.style,Color:i.color})),this.criteriaData=[{"Indexation Min":this.criteria.indexationMin?this.criteria.indexationMin:L.emptyForExport,"Indexation Max":this.criteria.indexationMax?this.criteria.indexationMax:L.emptyForExport,Code:this.criteria.code?this.criteria.code:L.emptyForExport,Label:this.criteria.label?this.criteria.label:L.emptyForExport,Style:this.criteria.style?this.criteria.style:L.emptyForExport,Color:this.criteria.color?this.criteria.color:L.emptyForExport}]})}get items(){return this.service.items}set items(e){this.service.items=e}get selections(){return this.service.selections}set selections(e){this.service.selections=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatList}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e}get pdfName(){return this._pdfName}set pdfName(e){this._pdfName=e}get createActionIsValid(){return this.service.createActionIsValid}set createActionIsValid(e){this.service.createActionIsValid=e}get editActionIsValid(){return this.service.editActionIsValid}set editActionIsValid(e){this.service.editActionIsValid=e}get listActionIsValid(){return this.service.listActionIsValid}set listActionIsValid(e){this.service.listActionIsValid=e}get deleteActionIsValid(){return this.service.deleteActionIsValid}set deleteActionIsValid(e){this.service.deleteActionIsValid=e}get viewActionIsValid(){return this.service.viewActionIsValid}set viewActionIsValid(e){this.service.viewActionIsValid=e}get duplicateActionIsValid(){return this.service.duplicateActionIsValid}set duplicateActionIsValid(e){this.service.duplicateActionIsValid=e}get createAction(){return this.service.createAction}set createAction(e){this.service.createAction=e}get listAction(){return this.service.listAction}set listAction(e){this.service.listAction=e}get editAction(){return this.service.editAction}set editAction(e){this.service.editAction=e}get deleteAction(){return this.service.deleteAction}set deleteAction(e){this.service.deleteAction=e}get viewAction(){return this.service.viewAction}set viewAction(e){this.service.viewAction=e}get duplicateAction(){return this.service.duplicateAction}set duplicateAction(e){this.service.duplicateAction=e}get entityName(){return this.service.entityName}set entityName(e){this.service.entityName=e}static{this.\u0275fac=function(i){return new(i||o)(w(he),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-type-locataire-list-admin"]],standalone:!1,decls:2,vars:2,consts:[["dt",""],["class","grid",4,"ngIf"],["header","Permission not allowed",4,"ngIf"],[1,"grid"],[1,"col-12"],[1,"card"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 border border-surface rounded-lg",4,"ngIf"],["dataKey","id","styleClass","p-datatable-customers","selectionMode","multiple",3,"selectionChange","value","columns","rows","paginator","globalFilterFields","selection","rowHover","currentPageReportTemplate","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[4,"ngIf"],["pButton","","pRipple","","icon","pi pi-plus","class","p-button-info mr-2 mb-2",3,"label","click",4,"ngIf"],["pButton","","pRipple","",1,"p-button-secondary","mr-2","mb-2",3,"click","label","icon"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mr-2","mb-2",3,"click","label"],[1,"flex"],["icon","pi pi-download","styleClass","p-button-secondary",3,"label","model"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","p-4","border","border-surface","rounded-lg"],[1,"flex","flex-col","gap-2"],["for","1-1",1,"text-sm","font-semibold"],["mode","decimal","id","1-1",3,"ngModelChange","ngModel"],["for","1-2",1,"text-sm","font-semibold"],["mode","decimal","id","1-2",3,"ngModelChange","ngModel"],["for","2",1,"text-sm","font-semibold"],["pInputText","","id","2","type","text",3,"ngModelChange","ngModel"],["for","3",1,"text-sm","font-semibold"],["pInputText","","id","3","type","text",3,"ngModelChange","ngModel"],["for","4",1,"text-sm","font-semibold"],["pInputText","","id","4","type","text",3,"ngModelChange","ngModel"],["for","5",1,"text-sm","font-semibold"],["pInputText","","id","5","type","text",3,"ngModelChange","ngModel"],[1,"col-span-full","flex","justify-end","mt-4"],["pButton","","pRipple","",1,"px-4","py-2","rounded-md",3,"click","label"],[1,"pi","pi-sort-amount-down"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","p-2","gap-4"],[1,"text-center","md:text-left"],[1,"relative","w-full","md:w-auto"],["iconPosition","left",1,"w-full","md:w-auto"],[1,"pi","pi-search"],["pInputText","","type","text",1,"w-full","md:w-72","border","border-gray-300","rounded-md","p-2","focus:ring","focus:ring-blue-300",3,"input","placeholder"],[2,"width","3rem"],["pSortableColumn","indexation"],[1,"p-d-flex","p-jc-between","p-ai-center"],[1,"mr-2"],["field","indexation"],["pSortableColumn","code"],["field","code"],["type","text","field","element.code","display","menu",1,"ml-auto"],["pSortableColumn","label"],["field","label"],["type","text","field","element.label","display","menu",1,"ml-auto"],["pSortableColumn","style"],["field","style"],["type","text","field","element.style","display","menu",1,"ml-auto"],["pSortableColumn","color"],["field","color"],["type","text","field","element.color","display","menu",1,"ml-auto"],[3,"value"],[3,"severity","value","rounded"],["pButton","","pRipple","","icon","pi pi-pencil","class","p-button-rounded p-button-info mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-list","class","p-button-rounded p-button-secondary mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-trash","class","p-button-rounded p-button-danger mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-list",1,"p-button-rounded","p-button-secondary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","mr-2",3,"click"],[3,"onPageChange","rows","totalRecords"],[1,"p-d-flex","p-ai-center","p-jc-between"],["header","Permission not allowed"],[1,"m-0"]],template:function(i,t){i&1&&M(0,hr,19,21,"div",1)(1,_r,3,0,"p-card",2),i&2&&(c("ngIf",t.listActionIsValid),r(),c("ngIf",!t.listActionIsValid))},dependencies:[J,ue,z,Fe,fe,je,Re,Ne,Oe,nt,ze,O,Se,V,B,W,we,q,ke,Ue,$e,Be,We,Ce,Di,Vi,Bi,R],encapsulation:2})}}return o})();var ki=Zt(ti());var Me=class extends Bt{constructor(){super(),this.indexation=null,this.code="",this.label="",this.style="",this.color=""}};var qt=class extends Wt{};var _e=(()=>{class o{constructor(e){this.http=e,this._API="",this._validate=!1,this._createActionIsValid=!0,this._editActionIsValid=!0,this._listActionIsValid=!0,this._deleteActionIsValid=!0,this._viewActionIsValid=!0,this._duplicateActionIsValid=!0,this._createAction="create",this._listAction="list",this._editAction="edit",this._deleteAction="delete",this._viewAction="view",this._duplicateAction="duplicate",this.API_PERMISSION=L.apiUrl+"modelPermissionUser/"}findAll(){return this.http.get(this.API)}findAllOptimized(){return this.http.get(this.API+"optimized")}findPaginatedByCriteria(e){return this.http.post(this.API+"find-paginated-by-criteria",e)}save(){return this.http.post(this.API,this.item)}delete(e){return this.http.delete(this.API+"id/"+e.id)}edit(){return this.http.put(this.API,this.item)}findByCriteria(e){return this.http.post(this.API+"find-by-criteria",e)}findByIdWithAssociatedList(e){return this.http.get(this.API+"id/"+e.id)}deleteMultiple(){return this.http.post(this.API+"multiple",this.selections)}exportPdf(e){return this.http.post(this.API+"exportPdf/",e,{responseType:"arraybuffer"})}hasActionPermission(e,i){return this.http.get(this.API_PERMISSION+"user/"+e+"/model/"+this.entityName+"/action/"+i)}importExcel(e){let i=new FormData;return i.append("file",e,e.name),this.http.post(this.API+"import-excel",i)}format(e){if(e!=null){let i=new Date(e),t=(0,ki.default)(i).format(L.dateFormatEdit);console.log(t),e=new Date(t)}return e}get API(){return L.apiUrlRentalmanagementms1+"admin/typePaiement/"}get items(){return this._items==null&&(this._items=new Array),this._items}set items(e){this._items=e}get item(){return this._item==null&&(this._item=new Me),this._item}set item(e){this._item=e}get selections(){return this._selections==null&&(this._selections=new Array),this._selections}set selections(e){this._selections=e}get createDialog(){return this._createDialog}set createDialog(e){this._createDialog=e}get editDialog(){return this._editDialog}set editDialog(e){this._editDialog=e}get viewDialog(){return this._viewDialog}set viewDialog(e){this._viewDialog=e}get criteria(){return this._criteria==null&&(this._criteria=new qt),this._criteria}set criteria(e){this._criteria=e}setApi(e){this._API=e}set validate(e){this._validate=e}get createAction(){return this._createAction}set createAction(e){this._createAction=e}get listAction(){return this._listAction}set listAction(e){this._listAction=e}get editAction(){return this._editAction}set editAction(e){this._editAction=e}get deleteAction(){return this._deleteAction}set deleteAction(e){this._deleteAction=e}get createActionIsValid(){return this._createActionIsValid}set createActionIsValid(e){this._createActionIsValid=e}get editActionIsValid(){return this._editActionIsValid}set editActionIsValid(e){this._editActionIsValid=e}get listActionIsValid(){return this._listActionIsValid}set listActionIsValid(e){this._listActionIsValid=e}get deleteActionIsValid(){return this._deleteActionIsValid}set deleteActionIsValid(e){this._deleteActionIsValid=e}get viewAction(){return this._viewAction}set viewAction(e){this._viewAction=e}get duplicateAction(){return this._duplicateAction}set duplicateAction(e){this._duplicateAction=e}get viewActionIsValid(){return this._viewActionIsValid}set viewActionIsValid(e){this._viewActionIsValid=e}get duplicateActionIsValid(){return this._duplicateActionIsValid}set duplicateActionIsValid(e){this._duplicateActionIsValid=e}get entityName(){return this._entityName}set entityName(e){this._entityName=e}static{this.\u0275fac=function(i){return new(i||o)(Et(Dt))}}static{this.\u0275prov=Pt({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var vr=()=>({width:"70vw"}),fr=o=>({"ng-invalid ng-dirty":o});function yr(o,S){o&1&&(a(0,"small",7),d(1,"Code is obligatory."),n())}function xr(o,S){if(o&1){let e=T();a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),a(8,"span",7),d(9,"*"),n()(),a(10,"input",8),s(11,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.code,t)||(l.item.code=t),v(t)}),n(),M(12,yr,2,0,"small",9),n(),a(13,"div",5)(14,"label",10),d(15),s(16,"translate"),n(),a(17,"p-dropdown",11),s(18,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.locataire,t)||(l.item.locataire=t),v(t)}),n()(),a(19,"div",5)(20,"label",12),d(21),s(22,"translate"),n(),a(23,"p-dropdown",13),s(24,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.compte,t)||(l.item.compte=t),v(t)}),n()(),a(25,"div",5)(26,"label",14),d(27),s(28,"translate"),n(),a(29,"p-dropdown",15),s(30,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.CompteInstantanee,t)||(l.item.CompteInstantanee=t),v(t)}),n()(),a(31,"div",5)(32,"label",16),d(33),s(34,"translate"),n(),a(35,"p-dropdown",17),s(36,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.transaction,t)||(l.item.transaction=t),v(t)}),n()(),a(37,"div",5)(38,"label",18),d(39),s(40,"translate"),n(),a(41,"p-dropdown",19),s(42,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.typeLocataire,t)||(l.item.typeLocataire=t),v(t)}),n()(),a(43,"div",5)(44,"label",20),d(45),s(46,"translate"),n(),a(47,"p-dropdown",21),s(48,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.typePaiement,t)||(l.item.typePaiement=t),v(t)}),n()(),a(49,"div",5)(50,"label",22),d(51),s(52,"translate"),n(),a(53,"p-calendar",23),s(54,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.dateCreation,t)||(l.item.dateCreation=t),v(t)}),n()()()()()}if(o&2){let e=m();r(),g("header",p(2,48,"location.tabPan")),r(5),u(p(7,50,"location.code")),r(4),g("placeholder",p(11,52,"location.code")),x("ngModel",e.item.code),c("ngClass",$(82,fr,!e.validLocationCode)),r(2),c("ngIf",!e.validLocationCode),r(3),u(p(16,54,"location.locataire")),r(2),g("placeholder",p(18,56,"location.locataire")),c("options",e.locataires),x("ngModel",e.item.locataire),c("filter",!0)("showClear",!0),r(4),u(p(22,58,"location.compte")),r(2),g("placeholder",p(24,60,"location.compte")),c("options",e.comptes),x("ngModel",e.item.compte),c("filter",!0)("showClear",!0),r(4),u(p(28,62,"location.CompteInstantanee")),r(2),g("placeholder",p(30,64,"location.CompteInstantanee")),c("options",e.CompteInstantanees),x("ngModel",e.item.CompteInstantanee),c("filter",!0)("showClear",!0),r(4),u(p(34,66,"location.transaction")),r(2),g("placeholder",p(36,68,"location.transaction")),c("options",e.transactions),x("ngModel",e.item.transaction),c("filter",!0)("showClear",!0),r(4),u(p(40,70,"location.typeLocataire")),r(2),g("placeholder",p(42,72,"location.typeLocataire")),c("options",e.typeLocataires),x("ngModel",e.item.typeLocataire),c("filter",!0)("showClear",!0),r(4),u(p(46,74,"location.typePaiement")),r(2),g("placeholder",p(48,76,"location.typePaiement")),c("options",e.typePaiements),x("ngModel",e.item.typePaiement),c("filter",!0)("showClear",!0),r(4),u(p(52,78,"location.dateCreation")),r(2),g("placeholder",p(54,80,"location.dateCreation")),g("dateFormat",e.dateFormat),c("showTime",!0)("showSeconds",!1),x("ngModel",e.item.dateCreation)}}function br(o,S){if(o&1){let e=T();a(0,"div",24)(1,"button",25),s(2,"translate"),I("click",function(){_(e);let t=m();return v(t.save())}),f(3,"i",26),d(4),s(5,"translate"),n(),a(6,"button",27),I("click",function(){_(e);let t=m();return v(t.hideCreateDialog())}),f(7,"i",28),d(8),s(9,"translate"),n()()}o&2&&(r(),g("label",p(2,3,"validate")),r(3),H(" ",p(5,5,"validate")," "),r(4),H(" ",p(9,7,"cancel")," "))}var ji=(()=>{class o{constructor(e,i,t,l,h,Pe,Ee,et){this.service=e,this.transactionService=i,this.typePaiementService=t,this.compteService=l,this.CompteInstantaneeService=h,this.typeLocataireService=Pe,this.locataireService=Ee,this.platformId=et,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validLocationCode=!0,this._validLocataireCode=!0,this._validLocataireLibelle=!0,this._validLocataireNom=!0,this._validLocatairePrenom=!0,this._validTypeLocataireCode=!0,this._validTypeLocataireLabel=!0,this._validTypeLocataireStyle=!0,this._validTypePaiementCode=!0,this._validTypePaiementLabel=!0,this._validTypePaiementStyle=!0,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){this.locataireService.findAll().subscribe(e=>this.locataires=e),this.compteService.findAll().subscribe(e=>this.comptes=e),this.CompteInstantaneeService.findAll().subscribe(e=>this.CompteInstantanees=e),this.transactionService.findAll().subscribe(e=>this.transactions=e),this.typeLocataireService.findAll().subscribe(e=>this.typeLocataires=e),this.typePaiementService.findAll().subscribe(e=>this.typePaiements=e)}save(){this.submitted=!0,this.validateForm(),this.errorMessages.length===0?this.saveWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}saveWithShowOption(e){this.service.save().subscribe(i=>{i!=null?(this.items.push(le({},i)),this.createDialog=!1,this.submitted=!1,this.item=new se):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},i=>{console.log(i)})}hideCreateDialog(){this.createDialog=!1,this.setValidation(!0)}setValidation(e){this.validLocationCode=e}validateForm(){this.errorMessages=new Array,this.validateLocationCode()}validateLocationCode(){this.stringUtilService.isEmpty(this.item.code)?(this.errorMessages.push("Code non valide"),this.validLocationCode=!1):this.validLocationCode=!0}openCreateTransaction(e){return A(this,null,function*(){(yield this.roleService.isPermitted("Transaction","add"))?(this.transaction=new at,this.createTransactionDialog=!0):this.messageService.add({severity:"error",summary:"erreur",detail:"probl\xE8me de permission"})})}openCreateLocataire(e){return A(this,null,function*(){(yield this.roleService.isPermitted("Locataire","add"))?(this.locataire=new ce,this.createLocataireDialog=!0):this.messageService.add({severity:"error",summary:"erreur",detail:"probl\xE8me de permission"})})}openCreateTypeLocataire(e){return A(this,null,function*(){(yield this.roleService.isPermitted("TypeLocataire","add"))?(this.typeLocataire=new Ge,this.createTypeLocataireDialog=!0):this.messageService.add({severity:"error",summary:"erreur",detail:"probl\xE8me de permission"})})}openCreateTypePaiement(e){return A(this,null,function*(){(yield this.roleService.isPermitted("TypePaiement","add"))?(this.typePaiement=new Me,this.createTypePaiementDialog=!0):this.messageService.add({severity:"error",summary:"erreur",detail:"probl\xE8me de permission"})})}get CompteInstantanee(){return this.CompteInstantaneeService.item}set CompteInstantanee(e){this.CompteInstantaneeService.item=e}get CompteInstantanees(){return this.CompteInstantaneeService.items}set CompteInstantanees(e){this.CompteInstantaneeService.items=e}get createCompteInstantaneeDialog(){return this.CompteInstantaneeService.createDialog}set createCompteInstantaneeDialog(e){this.CompteInstantaneeService.createDialog=e}get transaction(){return this.transactionService.item}set transaction(e){this.transactionService.item=e}get transactions(){return this.transactionService.items}set transactions(e){this.transactionService.items=e}get createTransactionDialog(){return this.transactionService.createDialog}set createTransactionDialog(e){this.transactionService.createDialog=e}get locataire(){return this.locataireService.item}set locataire(e){this.locataireService.item=e}get locataires(){return this.locataireService.items}set locataires(e){this.locataireService.items=e}get createLocataireDialog(){return this.locataireService.createDialog}set createLocataireDialog(e){this.locataireService.createDialog=e}get typeLocataire(){return this.typeLocataireService.item}set typeLocataire(e){this.typeLocataireService.item=e}get typeLocataires(){return this.typeLocataireService.items}set typeLocataires(e){this.typeLocataireService.items=e}get createTypeLocataireDialog(){return this.typeLocataireService.createDialog}set createTypeLocataireDialog(e){this.typeLocataireService.createDialog=e}get typePaiement(){return this.typePaiementService.item}set typePaiement(e){this.typePaiementService.item=e}get typePaiements(){return this.typePaiementService.items}set typePaiements(e){this.typePaiementService.items=e}get createTypePaiementDialog(){return this.typePaiementService.createDialog}set createTypePaiementDialog(e){this.typePaiementService.createDialog=e}get compte(){return this.compteService.item}set compte(e){this.compteService.item=e}get comptes(){return this.compteService.items}set comptes(e){this.compteService.items=e}get createCompteDialog(){return this.compteService.createDialog}set createCompteDialog(e){this.compteService.createDialog=e}get validLocationCode(){return this._validLocationCode}set validLocationCode(e){this._validLocationCode=e}get validLocataireCode(){return this._validLocataireCode}set validLocataireCode(e){this._validLocataireCode=e}get validLocataireLibelle(){return this._validLocataireLibelle}set validLocataireLibelle(e){this._validLocataireLibelle=e}get validLocataireNom(){return this._validLocataireNom}set validLocataireNom(e){this._validLocataireNom=e}get validLocatairePrenom(){return this._validLocatairePrenom}set validLocatairePrenom(e){this._validLocatairePrenom=e}get validTypeLocataireCode(){return this._validTypeLocataireCode}set validTypeLocataireCode(e){this._validTypeLocataireCode=e}get validTypeLocataireLabel(){return this._validTypeLocataireLabel}set validTypeLocataireLabel(e){this._validTypeLocataireLabel=e}get validTypeLocataireStyle(){return this._validTypeLocataireStyle}set validTypeLocataireStyle(e){this._validTypeLocataireStyle=e}get validTypePaiementCode(){return this._validTypePaiementCode}set validTypePaiementCode(e){this._validTypePaiementCode=e}get validTypePaiementLabel(){return this._validTypePaiementLabel}set validTypePaiementLabel(e){this._validTypePaiementLabel=e}get validTypePaiementStyle(){return this._validTypePaiementStyle}set validTypePaiementStyle(e){this._validTypePaiementStyle=e}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}static{this.\u0275fac=function(i){return new(i||o)(w(de),w(Xe),w(_e),w(xe),w(yt),w(he),w(ye),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-location-create-admin"]],standalone:!1,decls:4,vars:11,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal","maximizable","draggable","resizable"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],[1,"text-red-500"],["type","text","pInputText","","id","1",3,"ngModelChange","placeholder","ngModel","ngClass"],["class","text-red-500",4,"ngIf"],["for","2",1,"text-sm","font-semibold"],["appendTo","body","id","2","filterMatchMode","contains","optionLabel","libelle",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","3",1,"text-sm","font-semibold"],["appendTo","body","id","3","filterMatchMode","contains","optionLabel","id",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","4",1,"text-sm","font-semibold"],["appendTo","body","id","4","filterMatchMode","contains","optionLabel","id",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","5",1,"text-sm","font-semibold"],["appendTo","body","id","5","filterMatchMode","contains","optionLabel","id",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","6",1,"text-sm","font-semibold"],["appendTo","body","id","6","filterMatchMode","contains","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","7",1,"text-sm","font-semibold"],["appendTo","body","id","7","filterMatchMode","contains","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","8",1,"text-sm","font-semibold"],["appendTo","body","id","8",1,"w-full",3,"ngModelChange","showTime","showSeconds","placeholder","ngModel","dateFormat"],[1,"flex","justify-end","space-x-3","p-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-primary",3,"click","label"],[1,"pi","pi-check"],[1,"border","border-gray-400","text-gray-600","hover:bg-gray-200","px-4","py-2","rounded-md",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.createDialog,h)||(t.createDialog=h),h}),M(2,xr,55,84,"ng-template",1)(3,br,10,9,"ng-template",2),n()),i&2&&(U(E(10,vr)),g("header",p(1,8,"location.tabPan")),x("visible",t.createDialog),c("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1))},dependencies:[ge,J,z,Q,O,V,B,W,re,Y,X,ee,R],encapsulation:2})}}return o})();var Sr=()=>({width:"70vw"});function wr(o,S){if(o&1&&(a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),f(8,"input",7),s(9,"translate"),n(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),n(),f(14,"input",9),s(15,"translate"),n(),a(16,"div",5)(17,"label",10),d(18),s(19,"translate"),n(),f(20,"input",11),s(21,"translate"),n(),a(22,"div",5)(23,"label",12),d(24),s(25,"translate"),n(),f(26,"input",13),s(27,"translate"),n(),a(28,"div",5)(29,"label",14),d(30),s(31,"translate"),n(),f(32,"input",15),s(33,"translate"),n(),a(34,"div",5)(35,"label",16),d(36),s(37,"translate"),n(),f(38,"input",17),s(39,"translate"),n(),a(40,"div",5)(41,"label",18),d(42),s(43,"translate"),n(),f(44,"input",19),s(45,"translate"),n(),a(46,"div",5)(47,"label",20),d(48),s(49,"translate"),n(),f(50,"p-calendar",21),s(51,"translate"),n()()()()),o&2){let e=m();r(),g("header",p(2,36,"location.tabPan")),r(5),u(p(7,38,"location.code")),r(2),g("placeholder",p(9,40,"location.code")),c("disabled",!0)("ngModel",e.item.code),r(4),u(p(13,42,"location.locataire")),r(2),g("placeholder",p(15,44,"location.locataire")),c("disabled",!0)("ngModel",e.item.locataire==null?null:e.item.locataire.libelle),r(4),u(p(19,46,"location.compte")),r(2),g("placeholder",p(21,48,"location.compte")),c("disabled",!0)("ngModel",e.item.compte==null?null:e.item.compte.id),r(4),u(p(25,50,"location.CompteInstantanee")),r(2),g("placeholder",p(27,52,"location.CompteInstantanee")),c("disabled",!0)("ngModel",e.item.CompteInstantanee==null?null:e.item.CompteInstantanee.id),r(4),u(p(31,54,"location.transaction")),r(2),g("placeholder",p(33,56,"location.transaction")),c("disabled",!0)("ngModel",e.item.transaction==null?null:e.item.transaction.id),r(4),u(p(37,58,"location.typeLocataire")),r(2),g("placeholder",p(39,60,"location.typeLocataire")),c("disabled",!0)("ngModel",e.item.typeLocataire==null?null:e.item.typeLocataire.label),r(4),u(p(43,62,"location.typePaiement")),r(2),g("placeholder",p(45,64,"location.typePaiement")),c("disabled",!0)("ngModel",e.item.typePaiement==null?null:e.item.typePaiement.label),r(4),u(p(49,66,"location.dateCreation")),r(2),g("placeholder",p(51,68,"location.dateCreation")),g("dateFormat",e.dateFormat),c("disabled",!0)("showTime",!0)("showSeconds",!1)("ngModel",e.item.dateCreation)}}function Lr(o,S){if(o&1){let e=T();a(0,"div",22)(1,"div")(2,"button",23),I("click",function(){_(e);let t=m();return v(t.hideViewDialog())}),f(3,"i",24),d(4," Annuler "),n()()()}}var Ri=(()=>{class o{constructor(e,i,t,l,h,Pe,Ee){this.service=e,this.transactionService=i,this.typePaiementService=t,this.compteService=l,this.CompteInstantaneeService=h,this.typeLocataireService=Pe,this.locataireService=Ee,this._submitted=!1,this._errorMessages=new Array,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){}get CompteInstantanee(){return this.CompteInstantaneeService.item}set CompteInstantanee(e){this.CompteInstantaneeService.item=e}get CompteInstantanees(){return this.CompteInstantaneeService.items}set CompteInstantanees(e){this.CompteInstantaneeService.items=e}get transaction(){return this.transactionService.item}set transaction(e){this.transactionService.item=e}get transactions(){return this.transactionService.items}set transactions(e){this.transactionService.items=e}get locataire(){return this.locataireService.item}set locataire(e){this.locataireService.item=e}get locataires(){return this.locataireService.items}set locataires(e){this.locataireService.items=e}get typeLocataire(){return this.typeLocataireService.item}set typeLocataire(e){this.typeLocataireService.item=e}get typeLocataires(){return this.typeLocataireService.items}set typeLocataires(e){this.typeLocataireService.items=e}get typePaiement(){return this.typePaiementService.item}set typePaiement(e){this.typePaiementService.item=e}get typePaiements(){return this.typePaiementService.items}set typePaiements(e){this.typePaiementService.items=e}get compte(){return this.compteService.item}set compte(e){this.compteService.item=e}get comptes(){return this.compteService.items}set comptes(e){this.compteService.items=e}hideViewDialog(){this.viewDialog=!1}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatView}get dateFormatColumn(){return L.dateFormatList}static{this.\u0275fac=function(i){return new(i||o)(w(de),w(Xe),w(_e),w(xe),w(yt),w(he),w(ye))}}static{this.\u0275cmp=D({type:o,selectors:[["app-location-view-admin"]],standalone:!1,decls:4,vars:8,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","1",3,"disabled","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","2",3,"disabled","placeholder","ngModel"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","3",3,"disabled","placeholder","ngModel"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","4",3,"disabled","placeholder","ngModel"],["for","5",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","5",3,"disabled","placeholder","ngModel"],["for","6",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","6",3,"disabled","placeholder","ngModel"],["for","7",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","7",3,"disabled","placeholder","ngModel"],["for","8",1,"text-sm","font-semibold"],["id","8",1,"w-full",3,"disabled","showTime","showSeconds","placeholder","ngModel","dateFormat"],[1,"flex","justify-end","p-4"],[1,"border","border-gray-400","font-semibold","py-2","px-4","rounded","shadow",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.viewDialog,h)||(t.viewDialog=h),h}),M(2,wr,52,70,"ng-template",1)(3,Lr,5,0,"ng-template",2),n()),i&2&&(U(E(7,Sr)),g("header",p(1,5,"location.tabPan")),x("visible",t.viewDialog),c("modal",!0))},dependencies:[z,Q,O,V,B,W,Y,X,ee,R],encapsulation:2})}}return o})();var Mr=()=>({width:"70vw"}),Tr=o=>({"ng-invalid ng-dirty":o});function Ar(o,S){o&1&&(a(0,"small",7),d(1,"Code is obligatory."),n())}function Pr(o,S){if(o&1){let e=T();a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),a(8,"span",7),d(9,"*"),n()(),a(10,"input",8),s(11,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.code,t)||(l.item.code=t),v(t)}),n(),M(12,Ar,2,0,"small",9),n(),a(13,"div",5)(14,"label",10),d(15),s(16,"translate"),n(),a(17,"p-dropdown",11),s(18,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.locataire,t)||(l.item.locataire=t),v(t)}),n()(),a(19,"div",5)(20,"label",12),d(21),s(22,"translate"),n(),a(23,"p-dropdown",13),s(24,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.compte,t)||(l.item.compte=t),v(t)}),n()(),a(25,"div",5)(26,"label",14),d(27),s(28,"translate"),n(),a(29,"p-dropdown",15),s(30,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.CompteInstantanee,t)||(l.item.CompteInstantanee=t),v(t)}),n()(),a(31,"div",5)(32,"label",16),d(33),s(34,"translate"),n(),a(35,"p-dropdown",17),s(36,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.transaction,t)||(l.item.transaction=t),v(t)}),n()(),a(37,"div",5)(38,"label",18),d(39),s(40,"translate"),n(),a(41,"p-dropdown",19),s(42,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.typeLocataire,t)||(l.item.typeLocataire=t),v(t)}),n()(),a(43,"div",5)(44,"label",20),d(45),s(46,"translate"),n(),a(47,"p-dropdown",21),s(48,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.typePaiement,t)||(l.item.typePaiement=t),v(t)}),n()(),a(49,"div",5)(50,"label",22),d(51),s(52,"translate"),n(),a(53,"p-calendar",23),s(54,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.dateCreation,t)||(l.item.dateCreation=t),v(t)}),n()()()()()}if(o&2){let e=m();r(),g("header",p(2,48,"location.tabPan")),r(5),u(p(7,50,"location.code")),r(4),g("placeholder",p(11,52,"location.code")),x("ngModel",e.item.code),c("ngClass",$(82,Tr,!e.validLocationCode)),r(2),c("ngIf",!e.validLocationCode),r(3),u(p(16,54,"location.locataire")),r(2),g("placeholder",p(18,56,"location.locataire")),c("options",e.locataires),x("ngModel",e.item.locataire),c("filter",!0)("showClear",!0),r(4),u(p(22,58,"location.compte")),r(2),g("placeholder",p(24,60,"location.compte")),c("options",e.comptes),x("ngModel",e.item.compte),c("filter",!0)("showClear",!0),r(4),u(p(28,62,"location.CompteInstantanee")),r(2),g("placeholder",p(30,64,"location.CompteInstantanee")),c("options",e.CompteInstantanees),x("ngModel",e.item.CompteInstantanee),c("filter",!0)("showClear",!0),r(4),u(p(34,66,"location.transaction")),r(2),g("placeholder",p(36,68,"location.transaction")),c("options",e.transactions),x("ngModel",e.item.transaction),c("filter",!0)("showClear",!0),r(4),u(p(40,70,"location.typeLocataire")),r(2),g("placeholder",p(42,72,"location.typeLocataire")),c("options",e.typeLocataires),x("ngModel",e.item.typeLocataire),c("filter",!0)("showClear",!0),r(4),u(p(46,74,"location.typePaiement")),r(2),g("placeholder",p(48,76,"location.typePaiement")),c("options",e.typePaiements),x("ngModel",e.item.typePaiement),c("filter",!0)("showClear",!0),r(4),u(p(52,78,"location.dateCreation")),r(2),g("placeholder",p(54,80,"location.dateCreation")),g("dateFormat",e.dateFormat),c("showTime",!0)("showSeconds",!1),x("ngModel",e.item.dateCreation)}}function Er(o,S){if(o&1){let e=T();a(0,"div",24)(1,"button",25),s(2,"translate"),I("click",function(){_(e);let t=m();return v(t.edit())}),f(3,"i",26),d(4),s(5,"translate"),n(),a(6,"button",27),I("click",function(){_(e);let t=m();return v(t.hideEditDialog())}),f(7,"i",28),d(8),s(9,"translate"),n()()}o&2&&(r(),g("label",p(2,3,"validate")),r(3),H(" ",p(5,5,"validate")," "),r(4),H(" ",p(9,7,"cancel")," "))}var Ni=(()=>{class o{constructor(e,i,t,l,h,Pe,Ee,et){this.service=e,this.transactionService=i,this.typePaiementService=t,this.compteService=l,this.CompteInstantaneeService=h,this.typeLocataireService=Pe,this.locataireService=Ee,this.platformId=et,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validLocationCode=!0,this._validLocataireCode=!0,this._validLocataireLibelle=!0,this._validLocataireNom=!0,this._validLocatairePrenom=!0,this._validTypeLocataireCode=!0,this._validTypeLocataireLabel=!0,this._validTypeLocataireStyle=!0,this._validTypePaiementCode=!0,this._validTypePaiementLabel=!0,this._validTypePaiementStyle=!0,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){this.locataireService.findAll().subscribe(e=>this.locataires=e),this.compteService.findAll().subscribe(e=>this.comptes=e),this.CompteInstantaneeService.findAll().subscribe(e=>this.CompteInstantanees=e),this.transactionService.findAll().subscribe(e=>this.transactions=e),this.typeLocataireService.findAll().subscribe(e=>this.typeLocataires=e),this.typePaiementService.findAll().subscribe(e=>this.typePaiements=e)}prepareEdit(){this.item.dateCreation=this.service.format(this.item.dateCreation)}edit(){this.submitted=!0,this.prepareEdit(),this.validateForm(),this.errorMessages.length===0?this.editWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}editWithShowOption(e){this.service.edit().subscribe(i=>{let t=this.items.findIndex(l=>l.id===this.item.id);this.items[t]=i,this.editDialog=!1,this.submitted=!1,this.item=new se},i=>{console.log(i)})}hideEditDialog(){this.editDialog=!1,this.setValidation(!0)}setValidation(e){this.validLocationCode=e}validateForm(){this.errorMessages=new Array,this.validateLocationCode()}validateLocationCode(){this.stringUtilService.isEmpty(this.item.code)?(this.errorMessages.push("Code non valide"),this.validLocationCode=!1):this.validLocationCode=!0}openCreateTransaction(e){return A(this,null,function*(){(yield this.roleService.isPermitted("Transaction","edit"))?(this.transaction=new at,this.createTransactionDialog=!0):this.messageService.add({severity:"error",summary:"erreur",detail:"probl\xE8me de permission"})})}openCreateLocataire(e){return A(this,null,function*(){(yield this.roleService.isPermitted("Locataire","edit"))?(this.locataire=new ce,this.createLocataireDialog=!0):this.messageService.add({severity:"error",summary:"erreur",detail:"probl\xE8me de permission"})})}openCreateTypeLocataire(e){return A(this,null,function*(){(yield this.roleService.isPermitted("TypeLocataire","edit"))?(this.typeLocataire=new Ge,this.createTypeLocataireDialog=!0):this.messageService.add({severity:"error",summary:"erreur",detail:"probl\xE8me de permission"})})}openCreateTypePaiement(e){return A(this,null,function*(){(yield this.roleService.isPermitted("TypePaiement","edit"))?(this.typePaiement=new Me,this.createTypePaiementDialog=!0):this.messageService.add({severity:"error",summary:"erreur",detail:"probl\xE8me de permission"})})}get CompteInstantanee(){return this.CompteInstantaneeService.item}set CompteInstantanee(e){this.CompteInstantaneeService.item=e}get CompteInstantanees(){return this.CompteInstantaneeService.items}set CompteInstantanees(e){this.CompteInstantaneeService.items=e}get createCompteInstantaneeDialog(){return this.CompteInstantaneeService.createDialog}set createCompteInstantaneeDialog(e){this.CompteInstantaneeService.createDialog=e}get transaction(){return this.transactionService.item}set transaction(e){this.transactionService.item=e}get transactions(){return this.transactionService.items}set transactions(e){this.transactionService.items=e}get createTransactionDialog(){return this.transactionService.createDialog}set createTransactionDialog(e){this.transactionService.createDialog=e}get locataire(){return this.locataireService.item}set locataire(e){this.locataireService.item=e}get locataires(){return this.locataireService.items}set locataires(e){this.locataireService.items=e}get createLocataireDialog(){return this.locataireService.createDialog}set createLocataireDialog(e){this.locataireService.createDialog=e}get typeLocataire(){return this.typeLocataireService.item}set typeLocataire(e){this.typeLocataireService.item=e}get typeLocataires(){return this.typeLocataireService.items}set typeLocataires(e){this.typeLocataireService.items=e}get createTypeLocataireDialog(){return this.typeLocataireService.createDialog}set createTypeLocataireDialog(e){this.typeLocataireService.createDialog=e}get typePaiement(){return this.typePaiementService.item}set typePaiement(e){this.typePaiementService.item=e}get typePaiements(){return this.typePaiementService.items}set typePaiements(e){this.typePaiementService.items=e}get createTypePaiementDialog(){return this.typePaiementService.createDialog}set createTypePaiementDialog(e){this.typePaiementService.createDialog=e}get compte(){return this.compteService.item}set compte(e){this.compteService.item=e}get comptes(){return this.compteService.items}set comptes(e){this.compteService.items=e}get createCompteDialog(){return this.compteService.createDialog}set createCompteDialog(e){this.compteService.createDialog=e}get validLocationCode(){return this._validLocationCode}set validLocationCode(e){this._validLocationCode=e}get validLocataireCode(){return this._validLocataireCode}set validLocataireCode(e){this._validLocataireCode=e}get validLocataireLibelle(){return this._validLocataireLibelle}set validLocataireLibelle(e){this._validLocataireLibelle=e}get validLocataireNom(){return this._validLocataireNom}set validLocataireNom(e){this._validLocataireNom=e}get validLocatairePrenom(){return this._validLocatairePrenom}set validLocatairePrenom(e){this._validLocatairePrenom=e}get validTypeLocataireCode(){return this._validTypeLocataireCode}set validTypeLocataireCode(e){this._validTypeLocataireCode=e}get validTypeLocataireLabel(){return this._validTypeLocataireLabel}set validTypeLocataireLabel(e){this._validTypeLocataireLabel=e}get validTypeLocataireStyle(){return this._validTypeLocataireStyle}set validTypeLocataireStyle(e){this._validTypeLocataireStyle=e}get validTypePaiementCode(){return this._validTypePaiementCode}set validTypePaiementCode(e){this._validTypePaiementCode=e}get validTypePaiementLabel(){return this._validTypePaiementLabel}set validTypePaiementLabel(e){this._validTypePaiementLabel=e}get validTypePaiementStyle(){return this._validTypePaiementStyle}set validTypePaiementStyle(e){this._validTypePaiementStyle=e}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}static{this.\u0275fac=function(i){return new(i||o)(w(de),w(Xe),w(_e),w(xe),w(yt),w(he),w(ye),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-location-edit-admin"]],standalone:!1,decls:4,vars:11,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal","maximizable","draggable","resizable"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],[1,"text-red-500"],["type","text","pInputText","","id","1",3,"ngModelChange","placeholder","ngModel","ngClass"],["class","text-red-500",4,"ngIf"],["for","2",1,"text-sm","font-semibold"],["appendTo","body","id","2","filterMatchMode","contains","optionLabel","libelle",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","3",1,"text-sm","font-semibold"],["appendTo","body","id","3","filterMatchMode","contains","optionLabel","id",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","4",1,"text-sm","font-semibold"],["appendTo","body","id","4","filterMatchMode","contains","optionLabel","id",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","5",1,"text-sm","font-semibold"],["appendTo","body","id","5","filterMatchMode","contains","optionLabel","id",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","6",1,"text-sm","font-semibold"],["appendTo","body","id","6","filterMatchMode","contains","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","7",1,"text-sm","font-semibold"],["appendTo","body","id","7","filterMatchMode","contains","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","8",1,"text-sm","font-semibold"],["appendTo","body","id","8",1,"w-full",3,"ngModelChange","showTime","showSeconds","placeholder","ngModel","dateFormat"],[1,"flex","justify-end","space-x-3","p-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-primary",3,"click","label"],[1,"pi","pi-check"],[1,"border","border-gray-400","text-gray-600","hover:bg-gray-200","px-4","py-2","rounded-md",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.editDialog,h)||(t.editDialog=h),h}),M(2,Pr,55,84,"ng-template",1)(3,Er,10,9,"ng-template",2),n()),i&2&&(U(E(10,Mr)),g("header",p(1,8,"location.tabPan")),x("visible",t.editDialog),c("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1))},dependencies:[ge,J,z,Q,O,V,B,W,re,Y,X,ee,R],encapsulation:2})}}return o})();var Vr=()=>["code","locatairelibelle","compteid","CompteInstantaneeid","transactionid","typeLocatairelabel","typePaiementlabel","dateCreation"],Br=()=>[10,25,50],Wr=()=>({width:"450px"});function Fr(o,S){if(o&1){let e=T();a(0,"button",18),s(1,"translate"),I("click",function(){_(e);let t=m(3);return v(t.openCreate())}),n()}o&2&&Z("label"," ",p(1,2,"new"),"")}function kr(o,S){if(o&1){let e=T();M(0,Fr,2,4,"button",16),a(1,"button",17),s(2,"translate"),I("click",function(){_(e);let t=m(2);return v(t.showSearch())}),n()}if(o&2){let e=m(2);c("ngIf",e.createActionIsValid),r(),Z("label"," ",p(2,5,"search"),""),Z("icon","pi pi-",e.findByCriteriaShow?"angle-down":"angle-right","")}}function jr(o,S){if(o&1&&(a(0,"div",19),f(1,"p-splitButton",20),s(2,"translate"),n()),o&2){let e=m(2);r(),Z("label"," ",p(2,3,"export"),""),c("model",e.excelPdfButons)}}function Rr(o,S){if(o&1){let e=T();a(0,"div",21)(1,"div",22)(2,"label",23),d(3),s(4,"translate"),n(),a(5,"input",24),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.codeLike,t)||(l.criteria.codeLike=t),v(t)}),n()(),a(6,"div",22)(7,"label",25),d(8),s(9,"translate"),n(),a(10,"p-dropdown",26),s(11,"translate"),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.locataire,t)||(l.criteria.locataire=t),v(t)}),n()(),a(12,"div",22)(13,"label",27),d(14),s(15,"translate"),n(),a(16,"p-dropdown",28),s(17,"translate"),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.compte,t)||(l.criteria.compte=t),v(t)}),n()(),a(18,"div",22)(19,"label",29),d(20),s(21,"translate"),n(),a(22,"p-dropdown",30),s(23,"translate"),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.locataire,t)||(l.criteria.locataire=t),v(t)}),n()(),a(24,"div",22)(25,"label",31),d(26),s(27,"translate"),n(),a(28,"p-dropdown",32),s(29,"translate"),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.transaction,t)||(l.criteria.transaction=t),v(t)}),n()(),a(30,"div",22)(31,"label",33),d(32),s(33,"translate"),n(),a(34,"p-dropdown",34),s(35,"translate"),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.typeLocataire,t)||(l.criteria.typeLocataire=t),v(t)}),n()(),a(36,"div",22)(37,"label",35),d(38),s(39,"translate"),n(),a(40,"p-dropdown",36),s(41,"translate"),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.typePaiement,t)||(l.criteria.typePaiement=t),v(t)}),n()(),a(42,"div",22)(43,"label",37),d(44),s(45,"translate"),n(),a(46,"p-calendar",38),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.dateCreationFrom,t)||(l.criteria.dateCreationFrom=t),v(t)}),n()(),a(47,"div",22)(48,"label",39),d(49),s(50,"translate"),n(),a(51,"p-calendar",40),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.dateCreationTo,t)||(l.criteria.dateCreationTo=t),v(t)}),n()(),a(52,"div",41)(53,"button",42),s(54,"translate"),I("click",function(){_(e);let t=m(2);return v(t.findPaginatedByCriteria())}),f(55,"i",43),d(56),s(57,"translate"),n()()()}if(o&2){let e=m(2);r(3),u(p(4,46,"location.code")),r(2),x("ngModel",e.criteria.codeLike),r(3),u(p(9,48,"location.locataire")),r(2),g("placeholder",p(11,50,"location.locataire")),c("options",e.locataires),x("ngModel",e.criteria.locataire),c("filter",!0)("showClear",!0),r(4),u(p(15,52,"location.compte")),r(2),g("placeholder",p(17,54,"location.compte")),c("options",e.comptes),x("ngModel",e.criteria.compte),c("filter",!0)("showClear",!0),r(4),u(p(21,56,"location.locataire")),r(2),g("placeholder",p(23,58,"location.locataire")),c("options",e.CompteInstantanees),x("ngModel",e.criteria.locataire),c("filter",!0)("showClear",!0),r(4),u(p(27,60,"location.transaction")),r(2),g("placeholder",p(29,62,"location.transaction")),c("options",e.transactions),x("ngModel",e.criteria.transaction),c("filter",!0)("showClear",!0),r(4),u(p(33,64,"location.typeLocataire")),r(2),g("placeholder",p(35,66,"location.typeLocataire")),c("options",e.typeLocataires),x("ngModel",e.criteria.typeLocataire),c("filter",!0)("showClear",!0),r(4),u(p(39,68,"location.typePaiement")),r(2),g("placeholder",p(41,70,"location.typePaiement")),c("options",e.typePaiements),x("ngModel",e.criteria.typePaiement),c("filter",!0)("showClear",!0),r(4),u(p(45,72,"location.dateCreationMin")),r(2),x("ngModel",e.criteria.dateCreationFrom),c("showIcon",!0),r(3),u(p(50,74,"location.dateCreationMax")),r(2),x("ngModel",e.criteria.dateCreationTo),c("showIcon",!0),r(2),g("label",p(54,76,"validate")),r(3),H(" ",p(57,78,"validate")," ")}}function Nr(o,S){if(o&1){let e=T();a(0,"div",44)(1,"h5",45),d(2),s(3,"translate"),n(),a(4,"span",46)(5,"p-iconfield",47),f(6,"p-inputicon",48),a(7,"input",49),s(8,"translate"),I("input",function(t){_(e),m();let l=De(9);return v(l.filterGlobal(t.target.value,"contains"))}),n()()()()}o&2&&(r(2),u(p(3,2,"location.header")),r(5),g("placeholder",p(8,4,"searchInput")))}function Or(o,S){o&1&&(a(0,"tr")(1,"th",50),f(2,"p-tableHeaderCheckbox"),n(),a(3,"th",51)(4,"div",52)(5,"span",53),d(6),s(7,"translate"),n(),f(8,"p-sortIcon",54)(9,"p-columnFilter",55),n()(),a(10,"th",56)(11,"div",52)(12,"span",53),d(13),s(14,"translate"),n(),f(15,"p-sortIcon",57),n()(),a(16,"th",58)(17,"div",52)(18,"span",53),d(19),s(20,"translate"),n(),f(21,"p-sortIcon",59),n()(),a(22,"th",56)(23,"div",52)(24,"span",53),d(25),s(26,"translate"),n(),f(27,"p-sortIcon",57),n()(),a(28,"th",60)(29,"div",52)(30,"span",53),d(31),s(32,"translate"),n(),f(33,"p-sortIcon",61),n()(),a(34,"th",62)(35,"div",52)(36,"span",53),d(37),s(38,"translate"),n(),f(39,"p-sortIcon",63),n()(),a(40,"th",64)(41,"div",52)(42,"span",53),d(43),s(44,"translate"),n(),f(45,"p-sortIcon",65),n()(),a(46,"th",66)(47,"div",52)(48,"span",53),d(49),s(50,"translate"),n(),f(51,"p-sortIcon",67),n()(),a(52,"th"),d(53,"Actions"),n()()),o&2&&(r(6),u(p(7,8,"location.code")),r(7),u(p(14,10,"location.locataire")),r(6),u(p(20,12,"location.compte")),r(6),u(p(26,14,"location.locataire")),r(6),u(p(32,16,"location.transaction")),r(6),u(p(38,18,"location.typeLocataire")),r(6),u(p(44,20,"location.typePaiement")),r(6),u(p(50,22,"location.dateCreation")))}function Ur(o,S){if(o&1){let e=T();a(0,"button",73),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.edit(t))}),n()}}function zr(o,S){if(o&1){let e=T();a(0,"button",74),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.view(t))}),n()}}function Hr(o,S){if(o&1){let e=T();a(0,"button",75),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.delete(t))}),n()}}function qr(o,S){if(o&1&&(a(0,"tr")(1,"td"),f(2,"p-tableCheckbox",68),n(),a(3,"td"),d(4),n(),a(5,"td"),d(6),n(),a(7,"td"),d(8),n(),a(9,"td"),d(10),n(),a(11,"td"),d(12),n(),a(13,"td"),f(14,"p-tag",69),n(),a(15,"td"),f(16,"p-tag",69),n(),a(17,"td"),d(18),s(19,"date"),n(),a(20,"td"),M(21,Ur,1,0,"button",70)(22,zr,1,0,"button",71)(23,Hr,1,0,"button",72),n()()),o&2){let e=S.$implicit,i=m(2);r(2),c("value",e),r(2),u(e.code),r(2),u(e.locataire==null?null:e.locataire.libelle),r(2),u(e.compte==null?null:e.compte.id),r(2),u(e.locataire==null?null:e.locataire.id),r(2),u(e.transaction==null?null:e.transaction.id),r(2),g("severity",e.typeLocataire==null?null:e.typeLocataire.code),g("value",e.typeLocataire==null?null:e.typeLocataire.label),c("rounded",!0),r(2),g("severity",e.typePaiement==null?null:e.typePaiement.code),g("value",e.typePaiement==null?null:e.typePaiement.label),c("rounded",!0),r(2),u(Qe(19,16,e.dateCreation,"dd/MM/yyyy HH:mm")),r(3),c("ngIf",i.editActionIsValid),r(),c("ngIf",i.viewActionIsValid),r(),c("ngIf",i.deleteActionIsValid)}}function Gr(o,S){if(o&1){let e=T();a(0,"p-paginator",76),I("onPageChange",function(t){_(e);let l=m(2);return v(l.onPage(t))}),n(),a(1,"div",77),d(2),n()}if(o&2){let e=m(2);c("rows",10)("totalRecords",e.totalRecords),r(2),Ve(" En totale il ",(e.items&&e.totalRecords==1,"y a")," ",e.items?e.totalRecords:0," ",e.items?e.totalRecords==1?"location":"locations":0,". ")}}function Xr(o,S){o&1&&f(0,"app-location-create-admin")}function Yr(o,S){o&1&&f(0,"app-location-edit-admin")}function Kr(o,S){o&1&&f(0,"app-location-view-admin")}function Qr(o,S){if(o&1){let e=T();a(0,"div",3)(1,"div",4),f(2,"p-toast"),a(3,"div",5)(4,"p-toolbar",6),M(5,kr,3,7,"ng-template",7)(6,jr,3,5,"ng-template",8),n(),M(7,Rr,58,80,"div",9),a(8,"p-table",10,0),s(10,"translate"),C("selectionChange",function(t){_(e);let l=m();return b(l.selections,t)||(l.selections=t),v(t)}),M(11,Nr,9,6,"ng-template",11)(12,Or,54,24,"ng-template",12)(13,qr,24,19,"ng-template",13)(14,Gr,3,5,"ng-template",14),n()(),M(15,Xr,1,0,"app-location-create-admin",15)(16,Yr,1,0,"app-location-edit-admin",15)(17,Kr,1,0,"app-location-view-admin",15),f(18,"p-confirmDialog"),n()()}if(o&2){let e=m();r(7),c("ngIf",e.findByCriteriaShow),r(),g("currentPageReportTemplate",p(10,16,"les \xE9l\xE9ments de {first} \xE0 {last} sur {totalRecords} ")),c("value",e.items)("columns",e.cols)("rows",8)("paginator",!1)("globalFilterFields",E(18,Vr)),x("selection",e.selections),c("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",E(19,Br)),r(7),c("ngIf",e.createDialog&&e.createActionIsValid),r(),c("ngIf",e.editDialog&&e.editActionIsValid),r(),c("ngIf",e.viewDialog&&e.viewActionIsValid),r(),U(E(20,Wr))}}function Jr(o,S){o&1&&(a(0,"p-card",78)(1,"p",79),d(2," You don't have permission to access ! "),n()())}var Oi=(()=>{class o{constructor(e,i,t,l,h,Pe,Ee,et){this.service=e,this.transactionService=i,this.typePaiementService=t,this.compteService=l,this.CompteInstantaneeService=h,this.typeLocataireService=Pe,this.locataireService=Ee,this.platformId=et,this.fileName="Location",this.findByCriteriaShow=!1,this.cols=[],this.exportData=[],this.criteriaData=[],this._totalRecords=0,this.enableSecurity=!1,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.authService=y.injector.get(He),this.exportService=y.injector.get(Ie)}ngOnInit(){this.findPaginatedByCriteria(),this.initExport(),this.initCol(),this.loadLocataire(),this.loadCompte(),this.loadCompteInstantanee(),this.loadTransaction(),this.loadTypeLocataire(),this.loadTypePaiement()}onExcelFileSelected(e){let i=e.target;i.files&&i.files.length>0&&(this.excelFile=i.files[0])}importExcel(){this.excelFile&&this.service.importExcel(this.excelFile).subscribe(e=>{this.items=e,this.messageService.add({severity:"success",summary:"Success",detail:"File uploaded successfully!",life:3e3})},e=>{this.messageService.add({severity:"error",summary:"Error",detail:"File uploaded with Error!",life:3e3})})}findPaginatedByCriteria(){this.service.findPaginatedByCriteria(this.criteria).subscribe(e=>{this.items=e.list,this.totalRecords=e.dataSize,this.selections=new Array},e=>console.log(e))}onPage(e){this.criteria.page=e.page,this.criteria.maxResults=e.rows,this.findPaginatedByCriteria()}edit(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,console.log(i),this.editDialog=!0})})}view(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,this.viewDialog=!0})})}openCreate(){return A(this,null,function*(){this.item=new se,this.createDialog=!0})}deleteMultiple(){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer ces \xE9l\xE9ments ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.deleteMultiple().subscribe(()=>{for(let e of this.selections){let i=this.items.findIndex(t=>t.id===e.id);this.items.splice(i,1)}this.selections=new Array,this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Les \xE9l\xE9ments s\xE9lectionn\xE9s ont \xE9t\xE9 supprim\xE9s",life:3e3})},e=>console.log(e))}})})}isSelectionDisabled(){return this.selections==null||this.selections.length==0}delete(e){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer cet \xE9l\xE9ment ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.delete(e).subscribe(i=>{if(i>0){let t=this.items.indexOf(e);t>-1&&this.items.splice(t,1),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Element Supprim\xE9",life:3e3})}},i=>console.log(i))}})})}duplicate(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.initDuplicate(i),this.item=i,this.item.id=null,this.createDialog=!0})})}initExport(){this.excelPdfButons=[{label:"CSV",icon:"pi pi-file",command:()=>{this.prepareColumnExport(),this.exportService.exporterCSV(this.criteriaData,this.exportData,this.fileName)}},{label:"XLS",icon:"pi pi-file-excel",command:()=>{this.prepareColumnExport(),this.exportService.exporterExcel(this.criteriaData,this.exportData,this.fileName)}},{label:"PDF",icon:"pi pi-file-pdf",command:()=>{this.prepareColumnExport(),this.exportService.exporterPdf(this.criteriaData,this.exportData,this.fileName)}}]}exportPdf(e){this.service.exportPdf(e).subscribe(i=>{let t=new Blob([i],{type:"application/pdf"}),l=window.URL.createObjectURL(t),h=document.createElement("a");h.href=l,h.download=this.pdfName,h.setAttribute("target","_blank"),h.click(),window.URL.revokeObjectURL(l)},i=>{console.error(i)})}showSearch(){this.findByCriteriaShow=!this.findByCriteriaShow}update(){this.service.edit().subscribe(e=>{let i=this.items.findIndex(t=>t.id===this.item.id);this.items[i]=e,this.editDialog=!1,this.item=new se},e=>{console.log(e)})}save(){this.service.save().subscribe(e=>{e!=null?(this.items.push(le({},e)),this.createDialog=!1,this.item=new se):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},e=>{console.log(e)})}initCol(){this.cols=[{field:"code",header:"Code"},{field:"locataire?.libelle",header:"Locataire"},{field:"compte?.id",header:"Compte"},{field:"CompteInstantanee?.id",header:"Compte locataire"},{field:"transaction?.id",header:"Transaction"},{field:"typeLocataire?.label",header:"Type locataire"},{field:"typePaiement?.label",header:"Type paiement"},{field:"dateCreation",header:"Date creation"}]}loadLocataire(){return A(this,null,function*(){this.locataireService.findAllOptimized().subscribe(e=>this.locataires=e,e=>console.log(e))})}loadCompte(){return A(this,null,function*(){this.compteService.findAll().subscribe(e=>this.comptes=e,e=>console.log(e))})}loadCompteInstantanee(){return A(this,null,function*(){this.CompteInstantaneeService.findAll().subscribe(e=>this.CompteInstantanees=e,e=>console.log(e))})}loadTransaction(){return A(this,null,function*(){this.transactionService.findAll().subscribe(e=>this.transactions=e,e=>console.log(e))})}loadTypeLocataire(){return A(this,null,function*(){this.typeLocataireService.findAllOptimized().subscribe(e=>this.typeLocataires=e,e=>console.log(e))})}loadTypePaiement(){return A(this,null,function*(){this.typePaiementService.findAllOptimized().subscribe(e=>this.typePaiements=e,e=>console.log(e))})}initDuplicate(e){}prepareColumnExport(){this.service.findByCriteria(this.criteria).subscribe(e=>{this.exportData=e.map(i=>({Code:i.code,Locataire:i.locataire?.nom,"Date creation":this.datePipe.transform(i.dateCreation,"dd/MM/yyyy hh:mm")})),this.criteriaData=[{Code:this.criteria.code?this.criteria.code:L.emptyForExport,"Date creation Min":this.criteria.dateCreationFrom?this.datePipe.transform(this.criteria.dateCreationFrom,this.dateFormat):L.emptyForExport,"Date creation Max":this.criteria.dateCreationTo?this.datePipe.transform(this.criteria.dateCreationTo,this.dateFormat):L.emptyForExport}]})}get items(){return this.service.items}set items(e){this.service.items=e}get selections(){return this.service.selections}set selections(e){this.service.selections=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatList}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e}get pdfName(){return this._pdfName}set pdfName(e){this._pdfName=e}get createActionIsValid(){return this.service.createActionIsValid}set createActionIsValid(e){this.service.createActionIsValid=e}get editActionIsValid(){return this.service.editActionIsValid}set editActionIsValid(e){this.service.editActionIsValid=e}get listActionIsValid(){return this.service.listActionIsValid}set listActionIsValid(e){this.service.listActionIsValid=e}get deleteActionIsValid(){return this.service.deleteActionIsValid}set deleteActionIsValid(e){this.service.deleteActionIsValid=e}get viewActionIsValid(){return this.service.viewActionIsValid}set viewActionIsValid(e){this.service.viewActionIsValid=e}get duplicateActionIsValid(){return this.service.duplicateActionIsValid}set duplicateActionIsValid(e){this.service.duplicateActionIsValid=e}get createAction(){return this.service.createAction}set createAction(e){this.service.createAction=e}get listAction(){return this.service.listAction}set listAction(e){this.service.listAction=e}get editAction(){return this.service.editAction}set editAction(e){this.service.editAction=e}get deleteAction(){return this.service.deleteAction}set deleteAction(e){this.service.deleteAction=e}get viewAction(){return this.service.viewAction}set viewAction(e){this.service.viewAction=e}get duplicateAction(){return this.service.duplicateAction}set duplicateAction(e){this.service.duplicateAction=e}get entityName(){return this.service.entityName}set entityName(e){this.service.entityName=e}static{this.\u0275fac=function(i){return new(i||o)(w(de),w(Xe),w(_e),w(xe),w(yt),w(he),w(ye),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-location-list-admin"]],standalone:!1,decls:2,vars:2,consts:[["dt",""],["class","grid",4,"ngIf"],["header","Permission not allowed",4,"ngIf"],[1,"grid"],[1,"col-12"],[1,"card"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 border border-surface rounded-lg",4,"ngIf"],["dataKey","id","styleClass","p-datatable-customers","selectionMode","multiple",3,"selectionChange","value","columns","rows","paginator","globalFilterFields","selection","rowHover","currentPageReportTemplate","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[4,"ngIf"],["pButton","","pRipple","","icon","pi pi-plus","class","p-button-info mr-2 mb-2",3,"label","click",4,"ngIf"],["pButton","","pRipple","",1,"p-button-secondary","mr-2","mb-2",3,"click","label","icon"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mr-2","mb-2",3,"click","label"],[1,"flex"],["icon","pi pi-download","styleClass","p-button-secondary",3,"label","model"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","p-4","border","border-surface","rounded-lg"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["pInputText","","id","1","type","text",3,"ngModelChange","ngModel"],["for","2-2",1,"text-sm","font-semibold"],["id","2","optionLabel","libelle",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","3-2",1,"text-sm","font-semibold"],["id","3","optionLabel","id",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","4-2",1,"text-sm","font-semibold"],["id","4","optionLabel","id",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","5-2",1,"text-sm","font-semibold"],["id","5","optionLabel","id",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","6-2",1,"text-sm","font-semibold"],["id","6","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","7-2",1,"text-sm","font-semibold"],["id","7","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","8-1",1,"text-sm","font-semibold"],["id","8-1","dateFormat","dd-MM-yy",1,"p-fluid",3,"ngModelChange","ngModel","showIcon"],["for","8-2",1,"text-sm","font-semibold"],["id","8-2","dateFormat","dd-MM-yy",1,"p-fluid",3,"ngModelChange","ngModel","showIcon"],[1,"col-span-full","flex","justify-end","mt-4"],["pButton","","pRipple","",1,"px-4","py-2","rounded-md",3,"click","label"],[1,"pi","pi-sort-amount-down"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","p-2","gap-4"],[1,"text-center","md:text-left"],[1,"relative","w-full","md:w-auto"],["iconPosition","left",1,"w-full","md:w-auto"],[1,"pi","pi-search"],["pInputText","","type","text",1,"w-full","md:w-72","border","border-gray-300","rounded-md","p-2","focus:ring","focus:ring-blue-300",3,"input","placeholder"],[2,"width","3rem"],["pSortableColumn","code"],[1,"p-d-flex","p-jc-between","p-ai-center"],[1,"mr-2"],["field","code"],["type","text","field","element.code","display","menu",1,"ml-auto"],["pSortableColumn","locataire"],["field","locataire"],["pSortableColumn","compte"],["field","compte"],["pSortableColumn","transaction"],["field","transaction"],["pSortableColumn","typeLocataire"],["field","typeLocataire"],["pSortableColumn","typePaiement"],["field","typePaiement"],["pSortableColumn","dateCreation"],["field","dateCreation"],[3,"value"],[3,"severity","value","rounded"],["pButton","","pRipple","","icon","pi pi-pencil","class","p-button-rounded p-button-info mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-list","class","p-button-rounded p-button-secondary mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-trash","class","p-button-rounded p-button-danger mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-list",1,"p-button-rounded","p-button-secondary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","mr-2",3,"click"],[3,"onPageChange","rows","totalRecords"],[1,"p-d-flex","p-ai-center","p-jc-between"],["header","Permission not allowed"],[1,"m-0"]],template:function(i,t){i&1&&M(0,Qr,19,21,"div",1)(1,Jr,3,0,"p-card",2),i&2&&(c("ngIf",t.listActionIsValid),r(),c("ngIf",!t.listActionIsValid))},dependencies:[J,ue,z,Fe,fe,je,Re,Ne,Oe,nt,ze,O,Se,V,B,W,we,re,ee,ke,Ue,$e,Be,We,Ce,ji,Ri,Ni,P,R],encapsulation:2})}}return o})();var Zr=()=>({width:"70vw"}),di=o=>({"ng-invalid ng-dirty":o});function $r(o,S){o&1&&(a(0,"small",9),d(1,"Code is obligatory."),n())}function eo(o,S){o&1&&(a(0,"small",9),d(1,"Label is obligatory."),n())}function to(o,S){o&1&&(a(0,"small",9),d(1,"Style is obligatory."),n())}function io(o,S){if(o&1){let e=T();a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),a(8,"p-inputNumber",7),s(9,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.indexation,t)||(l.item.indexation=t),v(t)}),n()(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),a(14,"span",9),d(15,"*"),n()(),a(16,"input",10),s(17,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.code,t)||(l.item.code=t),v(t)}),n(),M(18,$r,2,0,"small",11),n(),a(19,"div",5)(20,"label",12),d(21),s(22,"translate"),a(23,"span",9),d(24,"*"),n()(),a(25,"input",13),s(26,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.label,t)||(l.item.label=t),v(t)}),n(),M(27,eo,2,0,"small",11),n(),a(28,"div",5)(29,"label",14),d(30),s(31,"translate"),a(32,"span",9),d(33,"*"),n()(),a(34,"input",15),s(35,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.style,t)||(l.item.style=t),v(t)}),n(),M(36,to,2,0,"small",11),n(),a(37,"div",5)(38,"label",16),d(39),s(40,"translate"),n(),a(41,"input",17),s(42,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.color,t)||(l.item.color=t),v(t)}),n()()()()()}if(o&2){let e=m();r(),g("header",p(2,22,"modePaiement.tabPan")),r(5),u(p(7,24,"modePaiement.indexation")),r(2),g("placeholder",p(9,26,"modePaiement.indexation")),x("ngModel",e.item.indexation),r(4),u(p(13,28,"modePaiement.code")),r(4),g("placeholder",p(17,30,"modePaiement.code")),x("ngModel",e.item.code),c("ngClass",$(44,di,!e.validModePaiementCode)),r(2),c("ngIf",!e.validModePaiementCode),r(3),u(p(22,32,"modePaiement.label")),r(4),g("placeholder",p(26,34,"modePaiement.label")),x("ngModel",e.item.label),c("ngClass",$(46,di,!e.validModePaiementLabel)),r(2),c("ngIf",!e.validModePaiementLabel),r(3),u(p(31,36,"modePaiement.style")),r(4),g("placeholder",p(35,38,"modePaiement.style")),x("ngModel",e.item.style),c("ngClass",$(48,di,!e.validModePaiementStyle)),r(2),c("ngIf",!e.validModePaiementStyle),r(3),u(p(40,40,"modePaiement.color")),r(2),g("placeholder",p(42,42,"modePaiement.color")),x("ngModel",e.item.color)}}function no(o,S){if(o&1){let e=T();a(0,"div",18)(1,"button",19),s(2,"translate"),I("click",function(){_(e);let t=m();return v(t.save())}),f(3,"i",20),d(4),s(5,"translate"),n(),a(6,"button",21),I("click",function(){_(e);let t=m();return v(t.hideCreateDialog())}),f(7,"i",22),d(8),s(9,"translate"),n()()}o&2&&(r(),g("label",p(2,3,"validate")),r(3),H(" ",p(5,5,"validate")," "),r(4),H(" ",p(9,7,"cancel")," "))}var Ui=(()=>{class o{constructor(e,i){this.service=e,this.platformId=i,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validModePaiementCode=!0,this._validModePaiementLabel=!0,this._validModePaiementStyle=!0,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){}save(){this.submitted=!0,this.validateForm(),this.errorMessages.length===0?this.saveWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}saveWithShowOption(e){this.service.save().subscribe(i=>{i!=null?(this.items.push(le({},i)),this.createDialog=!1,this.submitted=!1,this.item=new Ye):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},i=>{console.log(i)})}hideCreateDialog(){this.createDialog=!1,this.setValidation(!0)}setValidation(e){this.validModePaiementCode=e,this.validModePaiementLabel=e,this.validModePaiementStyle=e}validateForm(){this.errorMessages=new Array,this.validateModePaiementCode(),this.validateModePaiementLabel(),this.validateModePaiementStyle()}validateModePaiementCode(){this.stringUtilService.isEmpty(this.item.code)?(this.errorMessages.push("Code non valide"),this.validModePaiementCode=!1):this.validModePaiementCode=!0}validateModePaiementLabel(){this.stringUtilService.isEmpty(this.item.label)?(this.errorMessages.push("Label non valide"),this.validModePaiementLabel=!1):this.validModePaiementLabel=!0}validateModePaiementStyle(){this.stringUtilService.isEmpty(this.item.style)?(this.errorMessages.push("Style non valide"),this.validModePaiementStyle=!1):this.validModePaiementStyle=!0}get validModePaiementCode(){return this._validModePaiementCode}set validModePaiementCode(e){this._validModePaiementCode=e}get validModePaiementLabel(){return this._validModePaiementLabel}set validModePaiementLabel(e){this._validModePaiementLabel=e}get validModePaiementStyle(){return this._validModePaiementStyle}set validModePaiementStyle(e){this._validModePaiementStyle=e}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}static{this.\u0275fac=function(i){return new(i||o)(w(qe),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-mode-paiement-create-admin"]],standalone:!1,decls:4,vars:11,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal","maximizable","draggable","resizable"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["id","1",3,"ngModelChange","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],[1,"text-red-500"],["type","text","pInputText","","id","2",3,"ngModelChange","placeholder","ngModel","ngClass"],["class","text-red-500",4,"ngIf"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","id","3",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","id","4",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","5",1,"text-sm","font-semibold"],["type","text","pInputText","","id","5",3,"ngModelChange","placeholder","ngModel"],[1,"flex","justify-end","space-x-3","p-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-primary",3,"click","label"],[1,"pi","pi-check"],[1,"border","border-gray-400","text-gray-600","hover:bg-gray-200","px-4","py-2","rounded-md",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.createDialog,h)||(t.createDialog=h),h}),M(2,io,43,50,"ng-template",1)(3,no,10,9,"ng-template",2),n()),i&2&&(U(E(10,Zr)),g("header",p(1,8,"modePaiement.tabPan")),x("visible",t.createDialog),c("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1))},dependencies:[ge,J,z,Q,O,V,B,W,Y,X,q,R],encapsulation:2})}}return o})();var ro=()=>({width:"70vw"});function oo(o,S){if(o&1&&(a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),f(8,"p-inputNumber",7),s(9,"translate"),n(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),n(),f(14,"input",9),s(15,"translate"),n(),a(16,"div",5)(17,"label",10),d(18),s(19,"translate"),n(),f(20,"input",11),s(21,"translate"),n(),a(22,"div",5)(23,"label",12),d(24),s(25,"translate"),n(),f(26,"input",13),s(27,"translate"),n(),a(28,"div",5)(29,"label",14),d(30),s(31,"translate"),n(),f(32,"input",15),s(33,"translate"),n()()()()),o&2){let e=m();r(),g("header",p(2,21,"modePaiement.tabPan")),r(5),u(p(7,23,"modePaiement.indexation")),r(2),g("placeholder",p(9,25,"modePaiement.indexation")),c("disabled",!0)("ngModel",e.item.indexation),r(4),u(p(13,27,"modePaiement.code")),r(2),g("placeholder",p(15,29,"modePaiement.code")),c("disabled",!0)("ngModel",e.item.code),r(4),u(p(19,31,"modePaiement.label")),r(2),g("placeholder",p(21,33,"modePaiement.label")),c("disabled",!0)("ngModel",e.item.label),r(4),u(p(25,35,"modePaiement.style")),r(2),g("placeholder",p(27,37,"modePaiement.style")),c("disabled",!0)("ngModel",e.item.style),r(4),u(p(31,39,"modePaiement.color")),r(2),g("placeholder",p(33,41,"modePaiement.color")),c("disabled",!0)("ngModel",e.item.color)}}function lo(o,S){if(o&1){let e=T();a(0,"div",16)(1,"div")(2,"button",17),I("click",function(){_(e);let t=m();return v(t.hideViewDialog())}),f(3,"i",18),d(4," Annuler "),n()()()}}var zi=(()=>{class o{constructor(e){this.service=e,this._submitted=!1,this._errorMessages=new Array,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){}hideViewDialog(){this.viewDialog=!1}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatView}get dateFormatColumn(){return L.dateFormatList}static{this.\u0275fac=function(i){return new(i||o)(w(qe))}}static{this.\u0275cmp=D({type:o,selectors:[["app-mode-paiement-view-admin"]],standalone:!1,decls:4,vars:8,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["id","1",3,"disabled","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","2",3,"disabled","placeholder","ngModel"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","3",3,"disabled","placeholder","ngModel"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","4",3,"disabled","placeholder","ngModel"],["for","5",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","5",3,"disabled","placeholder","ngModel"],[1,"flex","justify-end","p-4"],[1,"border","border-gray-400","font-semibold","py-2","px-4","rounded","shadow",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.viewDialog,h)||(t.viewDialog=h),h}),M(2,oo,34,43,"ng-template",1)(3,lo,5,0,"ng-template",2),n()),i&2&&(U(E(7,ro)),g("header",p(1,5,"modePaiement.tabPan")),x("visible",t.viewDialog),c("modal",!0))},dependencies:[z,Q,O,V,B,W,Y,X,q,R],encapsulation:2})}}return o})();var po=()=>({width:"70vw"}),ci=o=>({"ng-invalid ng-dirty":o});function co(o,S){o&1&&(a(0,"small",9),d(1,"Code is obligatory."),n())}function mo(o,S){o&1&&(a(0,"small",9),d(1,"Label is obligatory."),n())}function uo(o,S){o&1&&(a(0,"small",9),d(1,"Style is obligatory."),n())}function go(o,S){if(o&1){let e=T();a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),a(8,"p-inputNumber",7),s(9,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.indexation,t)||(l.item.indexation=t),v(t)}),n()(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),a(14,"span",9),d(15,"*"),n()(),a(16,"input",10),s(17,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.code,t)||(l.item.code=t),v(t)}),n(),M(18,co,2,0,"small",11),n(),a(19,"div",5)(20,"label",12),d(21),s(22,"translate"),a(23,"span",9),d(24,"*"),n()(),a(25,"input",13),s(26,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.label,t)||(l.item.label=t),v(t)}),n(),M(27,mo,2,0,"small",11),n(),a(28,"div",5)(29,"label",14),d(30),s(31,"translate"),a(32,"span",9),d(33,"*"),n()(),a(34,"input",15),s(35,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.style,t)||(l.item.style=t),v(t)}),n(),M(36,uo,2,0,"small",11),n(),a(37,"div",5)(38,"label",16),d(39),s(40,"translate"),n(),a(41,"input",17),s(42,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.color,t)||(l.item.color=t),v(t)}),n()()()()()}if(o&2){let e=m();r(),g("header",p(2,22,"modePaiement.tabPan")),r(5),u(p(7,24,"modePaiement.indexation")),r(2),g("placeholder",p(9,26,"modePaiement.indexation")),x("ngModel",e.item.indexation),r(4),u(p(13,28,"modePaiement.code")),r(4),g("placeholder",p(17,30,"modePaiement.code")),x("ngModel",e.item.code),c("ngClass",$(44,ci,!e.validModePaiementCode)),r(2),c("ngIf",!e.validModePaiementCode),r(3),u(p(22,32,"modePaiement.label")),r(4),g("placeholder",p(26,34,"modePaiement.label")),x("ngModel",e.item.label),c("ngClass",$(46,ci,!e.validModePaiementLabel)),r(2),c("ngIf",!e.validModePaiementLabel),r(3),u(p(31,36,"modePaiement.style")),r(4),g("placeholder",p(35,38,"modePaiement.style")),x("ngModel",e.item.style),c("ngClass",$(48,ci,!e.validModePaiementStyle)),r(2),c("ngIf",!e.validModePaiementStyle),r(3),u(p(40,40,"modePaiement.color")),r(2),g("placeholder",p(42,42,"modePaiement.color")),x("ngModel",e.item.color)}}function ho(o,S){if(o&1){let e=T();a(0,"div",18)(1,"button",19),s(2,"translate"),I("click",function(){_(e);let t=m();return v(t.edit())}),f(3,"i",20),d(4),s(5,"translate"),n(),a(6,"button",21),I("click",function(){_(e);let t=m();return v(t.hideEditDialog())}),f(7,"i",22),d(8),s(9,"translate"),n()()}o&2&&(r(),g("label",p(2,3,"validate")),r(3),H(" ",p(5,5,"validate")," "),r(4),H(" ",p(9,7,"cancel")," "))}var Hi=(()=>{class o{constructor(e,i){this.service=e,this.platformId=i,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validModePaiementCode=!0,this._validModePaiementLabel=!0,this._validModePaiementStyle=!0,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){}prepareEdit(){}edit(){this.submitted=!0,this.prepareEdit(),this.validateForm(),this.errorMessages.length===0?this.editWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}editWithShowOption(e){this.service.edit().subscribe(i=>{let t=this.items.findIndex(l=>l.id===this.item.id);this.items[t]=i,this.editDialog=!1,this.submitted=!1,this.item=new Ye},i=>{console.log(i)})}hideEditDialog(){this.editDialog=!1,this.setValidation(!0)}setValidation(e){this.validModePaiementCode=e,this.validModePaiementLabel=e,this.validModePaiementStyle=e}validateForm(){this.errorMessages=new Array,this.validateModePaiementCode(),this.validateModePaiementLabel(),this.validateModePaiementStyle()}validateModePaiementCode(){this.stringUtilService.isEmpty(this.item.code)?(this.errorMessages.push("Code non valide"),this.validModePaiementCode=!1):this.validModePaiementCode=!0}validateModePaiementLabel(){this.stringUtilService.isEmpty(this.item.label)?(this.errorMessages.push("Label non valide"),this.validModePaiementLabel=!1):this.validModePaiementLabel=!0}validateModePaiementStyle(){this.stringUtilService.isEmpty(this.item.style)?(this.errorMessages.push("Style non valide"),this.validModePaiementStyle=!1):this.validModePaiementStyle=!0}get validModePaiementCode(){return this._validModePaiementCode}set validModePaiementCode(e){this._validModePaiementCode=e}get validModePaiementLabel(){return this._validModePaiementLabel}set validModePaiementLabel(e){this._validModePaiementLabel=e}get validModePaiementStyle(){return this._validModePaiementStyle}set validModePaiementStyle(e){this._validModePaiementStyle=e}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}static{this.\u0275fac=function(i){return new(i||o)(w(qe),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-mode-paiement-edit-admin"]],standalone:!1,decls:4,vars:11,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal","maximizable","draggable","resizable"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["id","1",3,"ngModelChange","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],[1,"text-red-500"],["type","text","pInputText","","id","2",3,"ngModelChange","placeholder","ngModel","ngClass"],["class","text-red-500",4,"ngIf"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","id","3",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","id","4",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","5",1,"text-sm","font-semibold"],["type","text","pInputText","","id","5",3,"ngModelChange","placeholder","ngModel"],[1,"flex","justify-end","space-x-3","p-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-primary",3,"click","label"],[1,"pi","pi-check"],[1,"border","border-gray-400","text-gray-600","hover:bg-gray-200","px-4","py-2","rounded-md",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.editDialog,h)||(t.editDialog=h),h}),M(2,go,43,50,"ng-template",1)(3,ho,10,9,"ng-template",2),n()),i&2&&(U(E(10,po)),g("header",p(1,8,"modePaiement.tabPan")),x("visible",t.editDialog),c("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1))},dependencies:[ge,J,z,Q,O,V,B,W,Y,X,q,R],encapsulation:2})}}return o})();var vo=()=>["indexation","code","label","style","color"],fo=()=>[10,25,50],yo=()=>({width:"450px"});function xo(o,S){if(o&1){let e=T();a(0,"button",18),s(1,"translate"),I("click",function(){_(e);let t=m(3);return v(t.openCreate())}),n()}o&2&&Z("label"," ",p(1,2,"new"),"")}function bo(o,S){if(o&1){let e=T();M(0,xo,2,4,"button",16),a(1,"button",17),s(2,"translate"),I("click",function(){_(e);let t=m(2);return v(t.showSearch())}),n()}if(o&2){let e=m(2);c("ngIf",e.createActionIsValid),r(),Z("label"," ",p(2,5,"search"),""),Z("icon","pi pi-",e.findByCriteriaShow?"angle-down":"angle-right","")}}function Co(o,S){if(o&1&&(a(0,"div",19),f(1,"p-splitButton",20),s(2,"translate"),n()),o&2){let e=m(2);r(),Z("label"," ",p(2,3,"export"),""),c("model",e.excelPdfButons)}}function So(o,S){if(o&1){let e=T();a(0,"div",21)(1,"div",22)(2,"label",23),d(3),s(4,"translate"),n(),a(5,"p-inputNumber",24),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.indexationMin,t)||(l.criteria.indexationMin=t),v(t)}),n()(),a(6,"div",22)(7,"label",25),d(8),s(9,"translate"),n(),a(10,"p-inputNumber",26),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.indexationMax,t)||(l.criteria.indexationMax=t),v(t)}),n()(),a(11,"div",22)(12,"label",27),d(13),s(14,"translate"),n(),a(15,"input",28),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.codeLike,t)||(l.criteria.codeLike=t),v(t)}),n()(),a(16,"div",22)(17,"label",29),d(18),s(19,"translate"),n(),a(20,"input",30),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.labelLike,t)||(l.criteria.labelLike=t),v(t)}),n()(),a(21,"div",22)(22,"label",31),d(23),s(24,"translate"),n(),a(25,"input",32),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.styleLike,t)||(l.criteria.styleLike=t),v(t)}),n()(),a(26,"div",22)(27,"label",33),d(28),s(29,"translate"),n(),a(30,"input",34),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.colorLike,t)||(l.criteria.colorLike=t),v(t)}),n()(),a(31,"div",35)(32,"button",36),s(33,"translate"),I("click",function(){_(e);let t=m(2);return v(t.findPaginatedByCriteria())}),f(34,"i",37),d(35),s(36,"translate"),n()()()}if(o&2){let e=m(2);r(3),u(p(4,14,"modePaiement.indexationMin")),r(2),x("ngModel",e.criteria.indexationMin),r(3),u(p(9,16,"modePaiement.indexationMax")),r(2),x("ngModel",e.criteria.indexationMax),r(3),u(p(14,18,"modePaiement.code")),r(2),x("ngModel",e.criteria.codeLike),r(3),u(p(19,20,"modePaiement.label")),r(2),x("ngModel",e.criteria.labelLike),r(3),u(p(24,22,"modePaiement.style")),r(2),x("ngModel",e.criteria.styleLike),r(3),u(p(29,24,"modePaiement.color")),r(2),x("ngModel",e.criteria.colorLike),r(2),g("label",p(33,26,"validate")),r(3),H(" ",p(36,28,"validate")," ")}}function wo(o,S){if(o&1){let e=T();a(0,"div",38)(1,"h5",39),d(2),s(3,"translate"),n(),a(4,"span",40)(5,"p-iconfield",41),f(6,"p-inputicon",42),a(7,"input",43),s(8,"translate"),I("input",function(t){_(e),m();let l=De(9);return v(l.filterGlobal(t.target.value,"contains"))}),n()()()()}o&2&&(r(2),u(p(3,2,"modePaiement.header")),r(5),g("placeholder",p(8,4,"searchInput")))}function Lo(o,S){o&1&&(a(0,"tr")(1,"th",44),f(2,"p-tableHeaderCheckbox"),n(),a(3,"th",45)(4,"div",46)(5,"span",47),d(6),s(7,"translate"),n(),f(8,"p-sortIcon",48),n()(),a(9,"th",49)(10,"div",46)(11,"span",47),d(12),s(13,"translate"),n(),f(14,"p-sortIcon",50)(15,"p-columnFilter",51),n()(),a(16,"th",52)(17,"div",46)(18,"span",47),d(19),s(20,"translate"),n(),f(21,"p-sortIcon",53)(22,"p-columnFilter",54),n()(),a(23,"th",55)(24,"div",46)(25,"span",47),d(26),s(27,"translate"),n(),f(28,"p-sortIcon",56)(29,"p-columnFilter",57),n()(),a(30,"th",58)(31,"div",46)(32,"span",47),d(33),s(34,"translate"),n(),f(35,"p-sortIcon",59)(36,"p-columnFilter",60),n()(),a(37,"th"),d(38,"Actions"),n()()),o&2&&(r(6),u(p(7,5,"modePaiement.indexation")),r(6),u(p(13,7,"modePaiement.code")),r(7),u(p(20,9,"modePaiement.label")),r(7),u(p(27,11,"modePaiement.style")),r(7),u(p(34,13,"modePaiement.color")))}function Io(o,S){if(o&1){let e=T();a(0,"button",66),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.edit(t))}),n()}}function Mo(o,S){if(o&1){let e=T();a(0,"button",67),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.view(t))}),n()}}function To(o,S){if(o&1){let e=T();a(0,"button",68),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.delete(t))}),n()}}function Ao(o,S){if(o&1&&(a(0,"tr")(1,"td"),f(2,"p-tableCheckbox",61),n(),a(3,"td"),d(4),n(),a(5,"td"),d(6),n(),a(7,"td"),f(8,"p-tag",62),n(),a(9,"td"),d(10),n(),a(11,"td"),d(12),n(),a(13,"td"),M(14,Io,1,0,"button",63)(15,Mo,1,0,"button",64)(16,To,1,0,"button",65),n()()),o&2){let e=S.$implicit,i=m(2);r(2),c("value",e),r(2),u(e.indexation),r(2),u(e.code),r(2),g("severity",e.style),g("value",e.label),c("rounded",!0),r(2),u(e.style),r(2),u(e.color),r(2),c("ngIf",i.editActionIsValid),r(),c("ngIf",i.viewActionIsValid),r(),c("ngIf",i.deleteActionIsValid)}}function Po(o,S){if(o&1){let e=T();a(0,"p-paginator",69),I("onPageChange",function(t){_(e);let l=m(2);return v(l.onPage(t))}),n(),a(1,"div",70),d(2),n()}if(o&2){let e=m(2);c("rows",10)("totalRecords",e.totalRecords),r(2),Ve(" En totale il ",(e.items&&e.totalRecords==1,"y a")," ",e.items?e.totalRecords:0," ",e.items?e.totalRecords==1?"mode paiement":"mode paiements":0,". ")}}function Eo(o,S){o&1&&f(0,"app-mode-paiement-create-admin")}function Do(o,S){o&1&&f(0,"app-mode-paiement-edit-admin")}function Vo(o,S){o&1&&f(0,"app-mode-paiement-view-admin")}function Bo(o,S){if(o&1){let e=T();a(0,"div",3)(1,"div",4),f(2,"p-toast"),a(3,"div",5)(4,"p-toolbar",6),M(5,bo,3,7,"ng-template",7)(6,Co,3,5,"ng-template",8),n(),M(7,So,37,30,"div",9),a(8,"p-table",10,0),s(10,"translate"),C("selectionChange",function(t){_(e);let l=m();return b(l.selections,t)||(l.selections=t),v(t)}),M(11,wo,9,6,"ng-template",11)(12,Lo,39,15,"ng-template",12)(13,Ao,17,11,"ng-template",13)(14,Po,3,5,"ng-template",14),n()(),M(15,Eo,1,0,"app-mode-paiement-create-admin",15)(16,Do,1,0,"app-mode-paiement-edit-admin",15)(17,Vo,1,0,"app-mode-paiement-view-admin",15),f(18,"p-confirmDialog"),n()()}if(o&2){let e=m();r(7),c("ngIf",e.findByCriteriaShow),r(),g("currentPageReportTemplate",p(10,16,"les \xE9l\xE9ments de {first} \xE0 {last} sur {totalRecords} ")),c("value",e.items)("columns",e.cols)("rows",8)("paginator",!1)("globalFilterFields",E(18,vo)),x("selection",e.selections),c("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",E(19,fo)),r(7),c("ngIf",e.createDialog&&e.createActionIsValid),r(),c("ngIf",e.editDialog&&e.editActionIsValid),r(),c("ngIf",e.viewDialog&&e.viewActionIsValid),r(),U(E(20,yo))}}function Wo(o,S){o&1&&(a(0,"p-card",71)(1,"p",72),d(2," You don't have permission to access ! "),n()())}var qi=(()=>{class o{constructor(e,i){this.service=e,this.platformId=i,this.fileName="ModePaiement",this.findByCriteriaShow=!1,this.cols=[],this.exportData=[],this.criteriaData=[],this._totalRecords=0,this.enableSecurity=!1,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.authService=y.injector.get(He),this.exportService=y.injector.get(Ie)}ngOnInit(){this.findPaginatedByCriteria(),this.initExport(),this.initCol()}onExcelFileSelected(e){let i=e.target;i.files&&i.files.length>0&&(this.excelFile=i.files[0])}importExcel(){this.excelFile&&this.service.importExcel(this.excelFile).subscribe(e=>{this.items=e,this.messageService.add({severity:"success",summary:"Success",detail:"File uploaded successfully!",life:3e3})},e=>{this.messageService.add({severity:"error",summary:"Error",detail:"File uploaded with Error!",life:3e3})})}findPaginatedByCriteria(){this.service.findPaginatedByCriteria(this.criteria).subscribe(e=>{this.items=e.list,this.totalRecords=e.dataSize,this.selections=new Array},e=>console.log(e))}onPage(e){this.criteria.page=e.page,this.criteria.maxResults=e.rows,this.findPaginatedByCriteria()}edit(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,console.log(i),this.editDialog=!0})})}view(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,this.viewDialog=!0})})}openCreate(){return A(this,null,function*(){this.item=new Ye,this.createDialog=!0})}deleteMultiple(){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer ces \xE9l\xE9ments ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.deleteMultiple().subscribe(()=>{for(let e of this.selections){let i=this.items.findIndex(t=>t.id===e.id);this.items.splice(i,1)}this.selections=new Array,this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Les \xE9l\xE9ments s\xE9lectionn\xE9s ont \xE9t\xE9 supprim\xE9s",life:3e3})},e=>console.log(e))}})})}isSelectionDisabled(){return this.selections==null||this.selections.length==0}delete(e){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer cet \xE9l\xE9ment ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.delete(e).subscribe(i=>{if(i>0){let t=this.items.indexOf(e);t>-1&&this.items.splice(t,1),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Element Supprim\xE9",life:3e3})}},i=>console.log(i))}})})}duplicate(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.initDuplicate(i),this.item=i,this.item.id=null,this.createDialog=!0})})}initExport(){this.excelPdfButons=[{label:"CSV",icon:"pi pi-file",command:()=>{this.prepareColumnExport(),this.exportService.exporterCSV(this.criteriaData,this.exportData,this.fileName)}},{label:"XLS",icon:"pi pi-file-excel",command:()=>{this.prepareColumnExport(),this.exportService.exporterExcel(this.criteriaData,this.exportData,this.fileName)}},{label:"PDF",icon:"pi pi-file-pdf",command:()=>{this.prepareColumnExport(),this.exportService.exporterPdf(this.criteriaData,this.exportData,this.fileName)}}]}exportPdf(e){this.service.exportPdf(e).subscribe(i=>{let t=new Blob([i],{type:"application/pdf"}),l=window.URL.createObjectURL(t),h=document.createElement("a");h.href=l,h.download=this.pdfName,h.setAttribute("target","_blank"),h.click(),window.URL.revokeObjectURL(l)},i=>{console.error(i)})}showSearch(){this.findByCriteriaShow=!this.findByCriteriaShow}update(){this.service.edit().subscribe(e=>{let i=this.items.findIndex(t=>t.id===this.item.id);this.items[i]=e,this.editDialog=!1,this.item=new Ye},e=>{console.log(e)})}save(){this.service.save().subscribe(e=>{e!=null?(this.items.push(le({},e)),this.createDialog=!1,this.item=new Ye):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},e=>{console.log(e)})}initCol(){this.cols=[{field:"indexation",header:"Indexation"},{field:"code",header:"Code"},{field:"label",header:"Label"},{field:"style",header:"Style"},{field:"color",header:"Color"}]}initDuplicate(e){}prepareColumnExport(){this.service.findByCriteria(this.criteria).subscribe(e=>{this.exportData=e.map(i=>({Indexation:i.indexation,Code:i.code,Label:i.label,Style:i.style,Color:i.color})),this.criteriaData=[{"Indexation Min":this.criteria.indexationMin?this.criteria.indexationMin:L.emptyForExport,"Indexation Max":this.criteria.indexationMax?this.criteria.indexationMax:L.emptyForExport,Code:this.criteria.code?this.criteria.code:L.emptyForExport,Label:this.criteria.label?this.criteria.label:L.emptyForExport,Style:this.criteria.style?this.criteria.style:L.emptyForExport,Color:this.criteria.color?this.criteria.color:L.emptyForExport}]})}get items(){return this.service.items}set items(e){this.service.items=e}get selections(){return this.service.selections}set selections(e){this.service.selections=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatList}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e}get pdfName(){return this._pdfName}set pdfName(e){this._pdfName=e}get createActionIsValid(){return this.service.createActionIsValid}set createActionIsValid(e){this.service.createActionIsValid=e}get editActionIsValid(){return this.service.editActionIsValid}set editActionIsValid(e){this.service.editActionIsValid=e}get listActionIsValid(){return this.service.listActionIsValid}set listActionIsValid(e){this.service.listActionIsValid=e}get deleteActionIsValid(){return this.service.deleteActionIsValid}set deleteActionIsValid(e){this.service.deleteActionIsValid=e}get viewActionIsValid(){return this.service.viewActionIsValid}set viewActionIsValid(e){this.service.viewActionIsValid=e}get duplicateActionIsValid(){return this.service.duplicateActionIsValid}set duplicateActionIsValid(e){this.service.duplicateActionIsValid=e}get createAction(){return this.service.createAction}set createAction(e){this.service.createAction=e}get listAction(){return this.service.listAction}set listAction(e){this.service.listAction=e}get editAction(){return this.service.editAction}set editAction(e){this.service.editAction=e}get deleteAction(){return this.service.deleteAction}set deleteAction(e){this.service.deleteAction=e}get viewAction(){return this.service.viewAction}set viewAction(e){this.service.viewAction=e}get duplicateAction(){return this.service.duplicateAction}set duplicateAction(e){this.service.duplicateAction=e}get entityName(){return this.service.entityName}set entityName(e){this.service.entityName=e}static{this.\u0275fac=function(i){return new(i||o)(w(qe),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-mode-paiement-list-admin"]],standalone:!1,decls:2,vars:2,consts:[["dt",""],["class","grid",4,"ngIf"],["header","Permission not allowed",4,"ngIf"],[1,"grid"],[1,"col-12"],[1,"card"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 border border-surface rounded-lg",4,"ngIf"],["dataKey","id","styleClass","p-datatable-customers","selectionMode","multiple",3,"selectionChange","value","columns","rows","paginator","globalFilterFields","selection","rowHover","currentPageReportTemplate","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[4,"ngIf"],["pButton","","pRipple","","icon","pi pi-plus","class","p-button-info mr-2 mb-2",3,"label","click",4,"ngIf"],["pButton","","pRipple","",1,"p-button-secondary","mr-2","mb-2",3,"click","label","icon"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mr-2","mb-2",3,"click","label"],[1,"flex"],["icon","pi pi-download","styleClass","p-button-secondary",3,"label","model"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","p-4","border","border-surface","rounded-lg"],[1,"flex","flex-col","gap-2"],["for","1-1",1,"text-sm","font-semibold"],["mode","decimal","id","1-1",3,"ngModelChange","ngModel"],["for","1-2",1,"text-sm","font-semibold"],["mode","decimal","id","1-2",3,"ngModelChange","ngModel"],["for","2",1,"text-sm","font-semibold"],["pInputText","","id","2","type","text",3,"ngModelChange","ngModel"],["for","3",1,"text-sm","font-semibold"],["pInputText","","id","3","type","text",3,"ngModelChange","ngModel"],["for","4",1,"text-sm","font-semibold"],["pInputText","","id","4","type","text",3,"ngModelChange","ngModel"],["for","5",1,"text-sm","font-semibold"],["pInputText","","id","5","type","text",3,"ngModelChange","ngModel"],[1,"col-span-full","flex","justify-end","mt-4"],["pButton","","pRipple","",1,"px-4","py-2","rounded-md",3,"click","label"],[1,"pi","pi-sort-amount-down"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","p-2","gap-4"],[1,"text-center","md:text-left"],[1,"relative","w-full","md:w-auto"],["iconPosition","left",1,"w-full","md:w-auto"],[1,"pi","pi-search"],["pInputText","","type","text",1,"w-full","md:w-72","border","border-gray-300","rounded-md","p-2","focus:ring","focus:ring-blue-300",3,"input","placeholder"],[2,"width","3rem"],["pSortableColumn","indexation"],[1,"p-d-flex","p-jc-between","p-ai-center"],[1,"mr-2"],["field","indexation"],["pSortableColumn","code"],["field","code"],["type","text","field","element.code","display","menu",1,"ml-auto"],["pSortableColumn","label"],["field","label"],["type","text","field","element.label","display","menu",1,"ml-auto"],["pSortableColumn","style"],["field","style"],["type","text","field","element.style","display","menu",1,"ml-auto"],["pSortableColumn","color"],["field","color"],["type","text","field","element.color","display","menu",1,"ml-auto"],[3,"value"],[3,"severity","value","rounded"],["pButton","","pRipple","","icon","pi pi-pencil","class","p-button-rounded p-button-info mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-list","class","p-button-rounded p-button-secondary mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-trash","class","p-button-rounded p-button-danger mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-list",1,"p-button-rounded","p-button-secondary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","mr-2",3,"click"],[3,"onPageChange","rows","totalRecords"],[1,"p-d-flex","p-ai-center","p-jc-between"],["header","Permission not allowed"],[1,"m-0"]],template:function(i,t){i&1&&M(0,Bo,19,21,"div",1)(1,Wo,3,0,"p-card",2),i&2&&(c("ngIf",t.listActionIsValid),r(),c("ngIf",!t.listActionIsValid))},dependencies:[J,ue,z,Fe,fe,je,Re,Ne,Oe,nt,ze,O,Se,V,B,W,we,q,ke,Ue,$e,Be,We,Ce,Ui,zi,Hi,R],encapsulation:2})}}return o})();var Fo=()=>({width:"70vw"});function ko(o,S){if(o&1){let e=T();a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),a(8,"p-calendar",7),s(9,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.date,t)||(l.item.date=t),v(t)}),n()(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),n(),a(14,"p-inputNumber",9),s(15,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.montant,t)||(l.item.montant=t),v(t)}),n()(),a(16,"div",5)(17,"label",10),d(18),s(19,"translate"),n(),a(20,"input",11),s(21,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.description,t)||(l.item.description=t),v(t)}),n()(),a(22,"div",5)(23,"label",12),d(24),s(25,"translate"),n(),a(26,"p-dropdown",13),s(27,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.modePaiement,t)||(l.item.modePaiement=t),v(t)}),n()(),a(28,"div",5)(29,"label",14),d(30),s(31,"translate"),n(),a(32,"p-dropdown",15),s(33,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.typePaiement,t)||(l.item.typePaiement=t),v(t)}),n()(),a(34,"div",5)(35,"label",16),d(36),s(37,"translate"),n(),a(38,"p-dropdown",17),s(39,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.compteSource,t)||(l.item.compteSource=t),v(t)}),n()(),a(40,"div",5)(41,"label",18),d(42),s(43,"translate"),n(),a(44,"p-dropdown",19),s(45,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.compteDestination,t)||(l.item.compteDestination=t),v(t)}),n()()()()()}if(o&2){let e=m();r(),g("header",p(2,37,"transaction.tabPan")),r(5),u(p(7,39,"transaction.date")),r(2),g("placeholder",p(9,41,"transaction.date")),g("dateFormat",e.dateFormat),c("showTime",!0)("showSeconds",!1),x("ngModel",e.item.date),r(4),u(p(13,43,"transaction.montant")),r(2),g("placeholder",p(15,45,"transaction.montant")),x("ngModel",e.item.montant),r(4),u(p(19,47,"transaction.description")),r(2),g("placeholder",p(21,49,"transaction.description")),x("ngModel",e.item.description),r(4),u(p(25,51,"transaction.modePaiement")),r(2),g("placeholder",p(27,53,"transaction.modePaiement")),c("options",e.modePaiements),x("ngModel",e.item.modePaiement),c("filter",!0)("showClear",!0),r(4),u(p(31,55,"transaction.typePaiement")),r(2),g("placeholder",p(33,57,"transaction.typePaiement")),c("options",e.typePaiements),x("ngModel",e.item.typePaiement),c("filter",!0)("showClear",!0),r(4),u(p(37,59,"transaction.compteSource")),r(2),g("placeholder",p(39,61,"transaction.compteSource")),c("options",e.compteSources),x("ngModel",e.item.compteSource),c("filter",!0)("showClear",!0),r(4),u(p(43,63,"transaction.compteDestination")),r(2),g("placeholder",p(45,65,"transaction.compteDestination")),c("options",e.compteDestinations),x("ngModel",e.item.compteDestination),c("filter",!0)("showClear",!0)}}function jo(o,S){if(o&1){let e=T();a(0,"div",20)(1,"button",21),s(2,"translate"),I("click",function(){_(e);let t=m();return v(t.save())}),f(3,"i",22),d(4),s(5,"translate"),n(),a(6,"button",23),I("click",function(){_(e);let t=m();return v(t.hideCreateDialog())}),f(7,"i",24),d(8),s(9,"translate"),n()()}o&2&&(r(),g("label",p(2,3,"validate")),r(3),H(" ",p(5,5,"validate")," "),r(4),H(" ",p(9,7,"cancel")," "))}var Gi=(()=>{class o{constructor(e,i,t,l,h){this.service=e,this.typePaiementService=i,this.compteService=t,this.modePaiementService=l,this.platformId=h,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validModePaiementCode=!0,this._validModePaiementLabel=!0,this._validModePaiementStyle=!0,this._validTypePaiementCode=!0,this._validTypePaiementLabel=!0,this._validTypePaiementStyle=!0,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){this.modePaiementService.findAll().subscribe(e=>this.modePaiements=e),this.typePaiementService.findAll().subscribe(e=>this.typePaiements=e),this.compteService.findAll().subscribe(e=>this.compteSources=e),this.compteService.findAll().subscribe(e=>this.compteDestinations=e)}save(){this.submitted=!0,this.validateForm(),this.errorMessages.length===0?this.saveWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}saveWithShowOption(e){this.service.save().subscribe(i=>{i!=null?(this.items.push(le({},i)),this.createDialog=!1,this.submitted=!1,this.item=new at):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},i=>{console.log(i)})}hideCreateDialog(){this.createDialog=!1,this.setValidation(!0)}setValidation(e){}validateForm(){this.errorMessages=new Array}openCreateTypePaiement(e){return A(this,null,function*(){(yield this.roleService.isPermitted("TypePaiement","add"))?(this.typePaiement=new Me,this.createTypePaiementDialog=!0):this.messageService.add({severity:"error",summary:"erreur",detail:"probl\xE8me de permission"})})}openCreateModePaiement(e){return A(this,null,function*(){(yield this.roleService.isPermitted("ModePaiement","add"))?(this.modePaiement=new Ye,this.createModePaiementDialog=!0):this.messageService.add({severity:"error",summary:"erreur",detail:"probl\xE8me de permission"})})}get compteSource(){return this.compteService.item}set compteSource(e){this.compteService.item=e}get compteSources(){return this.compteService.items}set compteSources(e){this.compteService.items=e}get createCompteSourceDialog(){return this.compteService.createDialog}set createCompteSourceDialog(e){this.compteService.createDialog=e}get typePaiement(){return this.typePaiementService.item}set typePaiement(e){this.typePaiementService.item=e}get typePaiements(){return this.typePaiementService.items}set typePaiements(e){this.typePaiementService.items=e}get createTypePaiementDialog(){return this.typePaiementService.createDialog}set createTypePaiementDialog(e){this.typePaiementService.createDialog=e}get compteDestination(){return this.compteService.item}set compteDestination(e){this.compteService.item=e}get compteDestinations(){return this.compteService.items}set compteDestinations(e){this.compteService.items=e}get createCompteDestinationDialog(){return this.compteService.createDialog}set createCompteDestinationDialog(e){this.compteService.createDialog=e}get modePaiement(){return this.modePaiementService.item}set modePaiement(e){this.modePaiementService.item=e}get modePaiements(){return this.modePaiementService.items}set modePaiements(e){this.modePaiementService.items=e}get createModePaiementDialog(){return this.modePaiementService.createDialog}set createModePaiementDialog(e){this.modePaiementService.createDialog=e}get validModePaiementCode(){return this._validModePaiementCode}set validModePaiementCode(e){this._validModePaiementCode=e}get validModePaiementLabel(){return this._validModePaiementLabel}set validModePaiementLabel(e){this._validModePaiementLabel=e}get validModePaiementStyle(){return this._validModePaiementStyle}set validModePaiementStyle(e){this._validModePaiementStyle=e}get validTypePaiementCode(){return this._validTypePaiementCode}set validTypePaiementCode(e){this._validTypePaiementCode=e}get validTypePaiementLabel(){return this._validTypePaiementLabel}set validTypePaiementLabel(e){this._validTypePaiementLabel=e}get validTypePaiementStyle(){return this._validTypePaiementStyle}set validTypePaiementStyle(e){this._validTypePaiementStyle=e}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}static{this.\u0275fac=function(i){return new(i||o)(w(Xe),w(_e),w(xe),w(qe),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-transaction-create-admin"]],standalone:!1,decls:4,vars:11,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal","maximizable","draggable","resizable"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["appendTo","body","id","1",1,"w-full",3,"ngModelChange","showTime","showSeconds","placeholder","ngModel","dateFormat"],["for","2",1,"text-sm","font-semibold"],["id","2",3,"ngModelChange","placeholder","ngModel"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","id","3",3,"ngModelChange","placeholder","ngModel"],["for","4",1,"text-sm","font-semibold"],["appendTo","body","id","4","filterMatchMode","contains","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","5",1,"text-sm","font-semibold"],["appendTo","body","id","5","filterMatchMode","contains","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","6",1,"text-sm","font-semibold"],["appendTo","body","id","6","filterMatchMode","contains","optionLabel","id",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","7",1,"text-sm","font-semibold"],["appendTo","body","id","7","filterMatchMode","contains","optionLabel","id",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],[1,"flex","justify-end","space-x-3","p-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-primary",3,"click","label"],[1,"pi","pi-check"],[1,"border","border-gray-400","text-gray-600","hover:bg-gray-200","px-4","py-2","rounded-md",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.createDialog,h)||(t.createDialog=h),h}),M(2,ko,46,67,"ng-template",1)(3,jo,10,9,"ng-template",2),n()),i&2&&(U(E(10,Fo)),g("header",p(1,8,"transaction.tabPan")),x("visible",t.createDialog),c("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1))},dependencies:[z,Q,O,V,B,W,re,Y,X,ee,q,R],encapsulation:2})}}return o})();var No=()=>({width:"70vw"});function Oo(o,S){if(o&1&&(a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),f(8,"p-calendar",7),s(9,"translate"),n(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),n(),f(14,"p-inputNumber",9),s(15,"translate"),n(),a(16,"div",5)(17,"label",10),d(18),s(19,"translate"),n(),f(20,"input",11),s(21,"translate"),n(),a(22,"div",5)(23,"label",12),d(24),s(25,"translate"),n(),f(26,"input",13),s(27,"translate"),n(),a(28,"div",5)(29,"label",14),d(30),s(31,"translate"),n(),f(32,"input",15),s(33,"translate"),n(),a(34,"div",5)(35,"label",16),d(36),s(37,"translate"),n(),f(38,"input",17),s(39,"translate"),n(),a(40,"div",5)(41,"label",18),d(42),s(43,"translate"),n(),f(44,"input",19),s(45,"translate"),n()()()()),o&2){let e=m();r(),g("header",p(2,32,"transaction.tabPan")),r(5),u(p(7,34,"transaction.date")),r(2),g("placeholder",p(9,36,"transaction.date")),g("dateFormat",e.dateFormat),c("disabled",!0)("showTime",!0)("showSeconds",!1)("ngModel",e.item.date),r(4),u(p(13,38,"transaction.montant")),r(2),g("placeholder",p(15,40,"transaction.montant")),c("disabled",!0)("ngModel",e.item.montant),r(4),u(p(19,42,"transaction.description")),r(2),g("placeholder",p(21,44,"transaction.description")),c("disabled",!0)("ngModel",e.item.description),r(4),u(p(25,46,"transaction.modePaiement")),r(2),g("placeholder",p(27,48,"transaction.modePaiement")),c("disabled",!0)("ngModel",e.item.modePaiement==null?null:e.item.modePaiement.label),r(4),u(p(31,50,"transaction.typePaiement")),r(2),g("placeholder",p(33,52,"transaction.typePaiement")),c("disabled",!0)("ngModel",e.item.typePaiement==null?null:e.item.typePaiement.label),r(4),u(p(37,54,"transaction.compteSource")),r(2),g("placeholder",p(39,56,"transaction.compteSource")),c("disabled",!0)("ngModel",e.item.compteSource==null?null:e.item.compteSource.id),r(4),u(p(43,58,"transaction.compteDestination")),r(2),g("placeholder",p(45,60,"transaction.compteDestination")),c("disabled",!0)("ngModel",e.item.compteDestination==null?null:e.item.compteDestination.id)}}function Uo(o,S){if(o&1){let e=T();a(0,"div",20)(1,"div")(2,"button",21),I("click",function(){_(e);let t=m();return v(t.hideViewDialog())}),f(3,"i",22),d(4," Annuler "),n()()()}}var Xi=(()=>{class o{constructor(e,i,t,l){this.service=e,this.typePaiementService=i,this.compteService=t,this.modePaiementService=l,this._submitted=!1,this._errorMessages=new Array,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){}get compteSource(){return this.compteService.item}set compteSource(e){this.compteService.item=e}get compteSources(){return this.compteService.items}set compteSources(e){this.compteService.items=e}get typePaiement(){return this.typePaiementService.item}set typePaiement(e){this.typePaiementService.item=e}get typePaiements(){return this.typePaiementService.items}set typePaiements(e){this.typePaiementService.items=e}get compteDestination(){return this.compteService.item}set compteDestination(e){this.compteService.item=e}get compteDestinations(){return this.compteService.items}set compteDestinations(e){this.compteService.items=e}get modePaiement(){return this.modePaiementService.item}set modePaiement(e){this.modePaiementService.item=e}get modePaiements(){return this.modePaiementService.items}set modePaiements(e){this.modePaiementService.items=e}hideViewDialog(){this.viewDialog=!1}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatView}get dateFormatColumn(){return L.dateFormatList}static{this.\u0275fac=function(i){return new(i||o)(w(Xe),w(_e),w(xe),w(qe))}}static{this.\u0275cmp=D({type:o,selectors:[["app-transaction-view-admin"]],standalone:!1,decls:4,vars:8,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["id","1",1,"w-full",3,"disabled","showTime","showSeconds","placeholder","ngModel","dateFormat"],["for","2",1,"text-sm","font-semibold"],["id","2",3,"disabled","placeholder","ngModel"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","3",3,"disabled","placeholder","ngModel"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","4",3,"disabled","placeholder","ngModel"],["for","5",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","5",3,"disabled","placeholder","ngModel"],["for","6",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","6",3,"disabled","placeholder","ngModel"],["for","7",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","7",3,"disabled","placeholder","ngModel"],[1,"flex","justify-end","p-4"],[1,"border","border-gray-400","font-semibold","py-2","px-4","rounded","shadow",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.viewDialog,h)||(t.viewDialog=h),h}),M(2,Oo,46,62,"ng-template",1)(3,Uo,5,0,"ng-template",2),n()),i&2&&(U(E(7,No)),g("header",p(1,5,"transaction.tabPan")),x("visible",t.viewDialog),c("modal",!0))},dependencies:[z,Q,O,V,B,W,Y,X,ee,q,R],encapsulation:2})}}return o})();var Ho=()=>({width:"70vw"});function qo(o,S){if(o&1){let e=T();a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),a(8,"p-calendar",7),s(9,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.date,t)||(l.item.date=t),v(t)}),n()(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),n(),a(14,"p-inputNumber",9),s(15,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.montant,t)||(l.item.montant=t),v(t)}),n()(),a(16,"div",5)(17,"label",10),d(18),s(19,"translate"),n(),a(20,"input",11),s(21,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.description,t)||(l.item.description=t),v(t)}),n()(),a(22,"div",5)(23,"label",12),d(24),s(25,"translate"),n(),a(26,"p-dropdown",13),s(27,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.modePaiement,t)||(l.item.modePaiement=t),v(t)}),n()(),a(28,"div",5)(29,"label",14),d(30),s(31,"translate"),n(),a(32,"p-dropdown",15),s(33,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.typePaiement,t)||(l.item.typePaiement=t),v(t)}),n()(),a(34,"div",5)(35,"label",16),d(36),s(37,"translate"),n(),a(38,"p-dropdown",17),s(39,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.compteSource,t)||(l.item.compteSource=t),v(t)}),n()(),a(40,"div",5)(41,"label",18),d(42),s(43,"translate"),n(),a(44,"p-dropdown",19),s(45,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.compteDestination,t)||(l.item.compteDestination=t),v(t)}),n()()()()()}if(o&2){let e=m();r(),g("header",p(2,37,"transaction.tabPan")),r(5),u(p(7,39,"transaction.date")),r(2),g("placeholder",p(9,41,"transaction.date")),g("dateFormat",e.dateFormat),c("showTime",!0)("showSeconds",!1),x("ngModel",e.item.date),r(4),u(p(13,43,"transaction.montant")),r(2),g("placeholder",p(15,45,"transaction.montant")),x("ngModel",e.item.montant),r(4),u(p(19,47,"transaction.description")),r(2),g("placeholder",p(21,49,"transaction.description")),x("ngModel",e.item.description),r(4),u(p(25,51,"transaction.modePaiement")),r(2),g("placeholder",p(27,53,"transaction.modePaiement")),c("options",e.modePaiements),x("ngModel",e.item.modePaiement),c("filter",!0)("showClear",!0),r(4),u(p(31,55,"transaction.typePaiement")),r(2),g("placeholder",p(33,57,"transaction.typePaiement")),c("options",e.typePaiements),x("ngModel",e.item.typePaiement),c("filter",!0)("showClear",!0),r(4),u(p(37,59,"transaction.compteSource")),r(2),g("placeholder",p(39,61,"transaction.compteSource")),c("options",e.compteSources),x("ngModel",e.item.compteSource),c("filter",!0)("showClear",!0),r(4),u(p(43,63,"transaction.compteDestination")),r(2),g("placeholder",p(45,65,"transaction.compteDestination")),c("options",e.compteDestinations),x("ngModel",e.item.compteDestination),c("filter",!0)("showClear",!0)}}function Go(o,S){if(o&1){let e=T();a(0,"div",20)(1,"button",21),s(2,"translate"),I("click",function(){_(e);let t=m();return v(t.edit())}),f(3,"i",22),d(4),s(5,"translate"),n(),a(6,"button",23),I("click",function(){_(e);let t=m();return v(t.hideEditDialog())}),f(7,"i",24),d(8),s(9,"translate"),n()()}o&2&&(r(),g("label",p(2,3,"validate")),r(3),H(" ",p(5,5,"validate")," "),r(4),H(" ",p(9,7,"cancel")," "))}var Yi=(()=>{class o{constructor(e,i,t,l,h){this.service=e,this.typePaiementService=i,this.compteService=t,this.modePaiementService=l,this.platformId=h,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validModePaiementCode=!0,this._validModePaiementLabel=!0,this._validModePaiementStyle=!0,this._validTypePaiementCode=!0,this._validTypePaiementLabel=!0,this._validTypePaiementStyle=!0,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){this.modePaiementService.findAll().subscribe(e=>this.modePaiements=e),this.typePaiementService.findAll().subscribe(e=>this.typePaiements=e),this.compteService.findAll().subscribe(e=>this.compteSources=e),this.compteService.findAll().subscribe(e=>this.compteDestinations=e)}prepareEdit(){this.item.date=this.service.format(this.item.date)}edit(){this.submitted=!0,this.prepareEdit(),this.validateForm(),this.errorMessages.length===0?this.editWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}editWithShowOption(e){this.service.edit().subscribe(i=>{let t=this.items.findIndex(l=>l.id===this.item.id);this.items[t]=i,this.editDialog=!1,this.submitted=!1,this.item=new at},i=>{console.log(i)})}hideEditDialog(){this.editDialog=!1,this.setValidation(!0)}setValidation(e){}validateForm(){this.errorMessages=new Array}openCreateTypePaiement(e){return A(this,null,function*(){(yield this.roleService.isPermitted("TypePaiement","edit"))?(this.typePaiement=new Me,this.createTypePaiementDialog=!0):this.messageService.add({severity:"error",summary:"erreur",detail:"probl\xE8me de permission"})})}openCreateModePaiement(e){return A(this,null,function*(){(yield this.roleService.isPermitted("ModePaiement","edit"))?(this.modePaiement=new Ye,this.createModePaiementDialog=!0):this.messageService.add({severity:"error",summary:"erreur",detail:"probl\xE8me de permission"})})}get compteSource(){return this.compteService.item}set compteSource(e){this.compteService.item=e}get compteSources(){return this.compteService.items}set compteSources(e){this.compteService.items=e}get createCompteSourceDialog(){return this.compteService.createDialog}set createCompteSourceDialog(e){this.compteService.createDialog=e}get typePaiement(){return this.typePaiementService.item}set typePaiement(e){this.typePaiementService.item=e}get typePaiements(){return this.typePaiementService.items}set typePaiements(e){this.typePaiementService.items=e}get createTypePaiementDialog(){return this.typePaiementService.createDialog}set createTypePaiementDialog(e){this.typePaiementService.createDialog=e}get compteDestination(){return this.compteService.item}set compteDestination(e){this.compteService.item=e}get compteDestinations(){return this.compteService.items}set compteDestinations(e){this.compteService.items=e}get createCompteDestinationDialog(){return this.compteService.createDialog}set createCompteDestinationDialog(e){this.compteService.createDialog=e}get modePaiement(){return this.modePaiementService.item}set modePaiement(e){this.modePaiementService.item=e}get modePaiements(){return this.modePaiementService.items}set modePaiements(e){this.modePaiementService.items=e}get createModePaiementDialog(){return this.modePaiementService.createDialog}set createModePaiementDialog(e){this.modePaiementService.createDialog=e}get validModePaiementCode(){return this._validModePaiementCode}set validModePaiementCode(e){this._validModePaiementCode=e}get validModePaiementLabel(){return this._validModePaiementLabel}set validModePaiementLabel(e){this._validModePaiementLabel=e}get validModePaiementStyle(){return this._validModePaiementStyle}set validModePaiementStyle(e){this._validModePaiementStyle=e}get validTypePaiementCode(){return this._validTypePaiementCode}set validTypePaiementCode(e){this._validTypePaiementCode=e}get validTypePaiementLabel(){return this._validTypePaiementLabel}set validTypePaiementLabel(e){this._validTypePaiementLabel=e}get validTypePaiementStyle(){return this._validTypePaiementStyle}set validTypePaiementStyle(e){this._validTypePaiementStyle=e}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}static{this.\u0275fac=function(i){return new(i||o)(w(Xe),w(_e),w(xe),w(qe),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-transaction-edit-admin"]],standalone:!1,decls:4,vars:11,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal","maximizable","draggable","resizable"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["appendTo","body","id","1",1,"w-full",3,"ngModelChange","showTime","showSeconds","placeholder","ngModel","dateFormat"],["for","2",1,"text-sm","font-semibold"],["id","2",3,"ngModelChange","placeholder","ngModel"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","id","3",3,"ngModelChange","placeholder","ngModel"],["for","4",1,"text-sm","font-semibold"],["appendTo","body","id","4","filterMatchMode","contains","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","5",1,"text-sm","font-semibold"],["appendTo","body","id","5","filterMatchMode","contains","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","6",1,"text-sm","font-semibold"],["appendTo","body","id","6","filterMatchMode","contains","optionLabel","id",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","7",1,"text-sm","font-semibold"],["appendTo","body","id","7","filterMatchMode","contains","optionLabel","id",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],[1,"flex","justify-end","space-x-3","p-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-primary",3,"click","label"],[1,"pi","pi-check"],[1,"border","border-gray-400","text-gray-600","hover:bg-gray-200","px-4","py-2","rounded-md",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.editDialog,h)||(t.editDialog=h),h}),M(2,qo,46,67,"ng-template",1)(3,Go,10,9,"ng-template",2),n()),i&2&&(U(E(10,Ho)),g("header",p(1,8,"transaction.tabPan")),x("visible",t.editDialog),c("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1))},dependencies:[z,Q,O,V,B,W,re,Y,X,ee,q,R],encapsulation:2})}}return o})();var Yo=()=>["date","montant","description","modePaiementlabel","typePaiementlabel","compteSourceid","compteDestinationid"],Ko=()=>[10,25,50],Qo=()=>({width:"450px"});function Jo(o,S){if(o&1){let e=T();a(0,"button",18),s(1,"translate"),I("click",function(){_(e);let t=m(3);return v(t.openCreate())}),n()}o&2&&Z("label"," ",p(1,2,"new"),"")}function Zo(o,S){if(o&1){let e=T();M(0,Jo,2,4,"button",16),a(1,"button",17),s(2,"translate"),I("click",function(){_(e);let t=m(2);return v(t.showSearch())}),n()}if(o&2){let e=m(2);c("ngIf",e.createActionIsValid),r(),Z("label"," ",p(2,5,"search"),""),Z("icon","pi pi-",e.findByCriteriaShow?"angle-down":"angle-right","")}}function $o(o,S){if(o&1&&(a(0,"div",19),f(1,"p-splitButton",20),s(2,"translate"),n()),o&2){let e=m(2);r(),Z("label"," ",p(2,3,"export"),""),c("model",e.excelPdfButons)}}function el(o,S){if(o&1){let e=T();a(0,"div",21)(1,"div",22)(2,"label",23),d(3),s(4,"translate"),n(),a(5,"p-calendar",24),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.dateFrom,t)||(l.criteria.dateFrom=t),v(t)}),n()(),a(6,"div",22)(7,"label",25),d(8),s(9,"translate"),n(),a(10,"p-calendar",26),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.dateTo,t)||(l.criteria.dateTo=t),v(t)}),n()(),a(11,"div",22)(12,"label",27),d(13),s(14,"translate"),n(),a(15,"p-inputNumber",28),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.montantMin,t)||(l.criteria.montantMin=t),v(t)}),n()(),a(16,"div",22)(17,"label",29),d(18),s(19,"translate"),n(),a(20,"p-inputNumber",30),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.montantMax,t)||(l.criteria.montantMax=t),v(t)}),n()(),a(21,"div",22)(22,"label",31),d(23),s(24,"translate"),n(),a(25,"input",32),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.descriptionLike,t)||(l.criteria.descriptionLike=t),v(t)}),n()(),a(26,"div",22)(27,"label",33),d(28),s(29,"translate"),n(),a(30,"p-dropdown",34),s(31,"translate"),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.modePaiement,t)||(l.criteria.modePaiement=t),v(t)}),n()(),a(32,"div",22)(33,"label",35),d(34),s(35,"translate"),n(),a(36,"p-dropdown",36),s(37,"translate"),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.typePaiement,t)||(l.criteria.typePaiement=t),v(t)}),n()(),a(38,"div",22)(39,"label",37),d(40),s(41,"translate"),n(),a(42,"p-dropdown",38),s(43,"translate"),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.compteSource,t)||(l.criteria.compteSource=t),v(t)}),n()(),a(44,"div",22)(45,"label",39),d(46),s(47,"translate"),n(),a(48,"p-dropdown",40),s(49,"translate"),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.compteDestination,t)||(l.criteria.compteDestination=t),v(t)}),n()(),a(50,"div",41)(51,"button",42),s(52,"translate"),I("click",function(){_(e);let t=m(2);return v(t.findPaginatedByCriteria())}),f(53,"i",43),d(54),s(55,"translate"),n()()()}if(o&2){let e=m(2);r(3),u(p(4,38,"transaction.dateMin")),r(2),x("ngModel",e.criteria.dateFrom),c("showIcon",!0),r(3),u(p(9,40,"transaction.dateMax")),r(2),x("ngModel",e.criteria.dateTo),c("showIcon",!0),r(3),u(p(14,42,"transaction.montantMin")),r(2),x("ngModel",e.criteria.montantMin),r(3),u(p(19,44,"transaction.montantMax")),r(2),x("ngModel",e.criteria.montantMax),r(3),u(p(24,46,"transaction.description")),r(2),x("ngModel",e.criteria.descriptionLike),r(3),u(p(29,48,"transaction.modePaiement")),r(2),g("placeholder",p(31,50,"transaction.modePaiement")),c("options",e.modePaiements),x("ngModel",e.criteria.modePaiement),c("filter",!0)("showClear",!0),r(4),u(p(35,52,"transaction.typePaiement")),r(2),g("placeholder",p(37,54,"transaction.typePaiement")),c("options",e.typePaiements),x("ngModel",e.criteria.typePaiement),c("filter",!0)("showClear",!0),r(4),u(p(41,56,"transaction.compteSource")),r(2),g("placeholder",p(43,58,"transaction.compteSource")),c("options",e.compteSources),x("ngModel",e.criteria.compteSource),c("filter",!0)("showClear",!0),r(4),u(p(47,60,"transaction.compteDestination")),r(2),g("placeholder",p(49,62,"transaction.compteDestination")),c("options",e.compteDestinations),x("ngModel",e.criteria.compteDestination),c("filter",!0)("showClear",!0),r(3),g("label",p(52,64,"validate")),r(3),H(" ",p(55,66,"validate")," ")}}function tl(o,S){if(o&1){let e=T();a(0,"div",44)(1,"h5",45),d(2),s(3,"translate"),n(),a(4,"span",46)(5,"p-iconfield",47),f(6,"p-inputicon",48),a(7,"input",49),s(8,"translate"),I("input",function(t){_(e),m();let l=De(9);return v(l.filterGlobal(t.target.value,"contains"))}),n()()()()}o&2&&(r(2),u(p(3,2,"transaction.header")),r(5),g("placeholder",p(8,4,"searchInput")))}function il(o,S){o&1&&(a(0,"tr")(1,"th",50),f(2,"p-tableHeaderCheckbox"),n(),a(3,"th",51)(4,"div",52)(5,"span",53),d(6),s(7,"translate"),n(),f(8,"p-sortIcon",54),n()(),a(9,"th",55)(10,"div",52)(11,"span",53),d(12),s(13,"translate"),n(),f(14,"p-sortIcon",56),n()(),a(15,"th",57)(16,"div",52)(17,"span",53),d(18),s(19,"translate"),n(),f(20,"p-sortIcon",58)(21,"p-columnFilter",59),n()(),a(22,"th",60)(23,"div",52)(24,"span",53),d(25),s(26,"translate"),n(),f(27,"p-sortIcon",61),n()(),a(28,"th",62)(29,"div",52)(30,"span",53),d(31),s(32,"translate"),n(),f(33,"p-sortIcon",63),n()(),a(34,"th",64)(35,"div",52)(36,"span",53),d(37),s(38,"translate"),n(),f(39,"p-sortIcon",65),n()(),a(40,"th",66)(41,"div",52)(42,"span",53),d(43),s(44,"translate"),n(),f(45,"p-sortIcon",67),n()(),a(46,"th"),d(47,"Actions"),n()()),o&2&&(r(6),u(p(7,7,"transaction.date")),r(6),u(p(13,9,"transaction.montant")),r(6),u(p(19,11,"transaction.description")),r(7),u(p(26,13,"transaction.modePaiement")),r(6),u(p(32,15,"transaction.typePaiement")),r(6),u(p(38,17,"transaction.compteSource")),r(6),u(p(44,19,"transaction.compteDestination")))}function nl(o,S){if(o&1){let e=T();a(0,"button",73),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.edit(t))}),n()}}function al(o,S){if(o&1){let e=T();a(0,"button",74),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.view(t))}),n()}}function rl(o,S){if(o&1){let e=T();a(0,"button",75),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.delete(t))}),n()}}function ol(o,S){if(o&1&&(a(0,"tr")(1,"td"),f(2,"p-tableCheckbox",68),n(),a(3,"td"),d(4),s(5,"date"),n(),a(6,"td"),d(7),n(),a(8,"td"),d(9),n(),a(10,"td"),f(11,"p-tag",69),n(),a(12,"td"),f(13,"p-tag",69),n(),a(14,"td"),d(15),n(),a(16,"td"),d(17),n(),a(18,"td"),M(19,nl,1,0,"button",70)(20,al,1,0,"button",71)(21,rl,1,0,"button",72),n()()),o&2){let e=S.$implicit,i=m(2);r(2),c("value",e),r(2),u(Qe(5,15,e.date,"dd/MM/yyyy HH:mm")),r(3),u(e.montant),r(2),u(e.description),r(2),g("severity",e.modePaiement==null?null:e.modePaiement.code),g("value",e.modePaiement==null?null:e.modePaiement.label),c("rounded",!0),r(2),g("severity",e.typePaiement==null?null:e.typePaiement.code),g("value",e.typePaiement==null?null:e.typePaiement.label),c("rounded",!0),r(2),u(e.compteSource==null?null:e.compteSource.id),r(2),u(e.compteDestination==null?null:e.compteDestination.id),r(2),c("ngIf",i.editActionIsValid),r(),c("ngIf",i.viewActionIsValid),r(),c("ngIf",i.deleteActionIsValid)}}function ll(o,S){if(o&1){let e=T();a(0,"p-paginator",76),I("onPageChange",function(t){_(e);let l=m(2);return v(l.onPage(t))}),n(),a(1,"div",77),d(2),n()}if(o&2){let e=m(2);c("rows",10)("totalRecords",e.totalRecords),r(2),Ve(" En totale il ",(e.items&&e.totalRecords==1,"y a")," ",e.items?e.totalRecords:0," ",e.items?e.totalRecords==1?"transaction":"transactions":0,". ")}}function sl(o,S){o&1&&f(0,"app-transaction-create-admin")}function pl(o,S){o&1&&f(0,"app-transaction-edit-admin")}function dl(o,S){o&1&&f(0,"app-transaction-view-admin")}function cl(o,S){if(o&1){let e=T();a(0,"div",3)(1,"div",4),f(2,"p-toast"),a(3,"div",5)(4,"p-toolbar",6),M(5,Zo,3,7,"ng-template",7)(6,$o,3,5,"ng-template",8),n(),M(7,el,56,68,"div",9),a(8,"p-table",10,0),s(10,"translate"),C("selectionChange",function(t){_(e);let l=m();return b(l.selections,t)||(l.selections=t),v(t)}),M(11,tl,9,6,"ng-template",11)(12,il,48,21,"ng-template",12)(13,ol,22,18,"ng-template",13)(14,ll,3,5,"ng-template",14),n()(),M(15,sl,1,0,"app-transaction-create-admin",15)(16,pl,1,0,"app-transaction-edit-admin",15)(17,dl,1,0,"app-transaction-view-admin",15),f(18,"p-confirmDialog"),n()()}if(o&2){let e=m();r(7),c("ngIf",e.findByCriteriaShow),r(),g("currentPageReportTemplate",p(10,16,"les \xE9l\xE9ments de {first} \xE0 {last} sur {totalRecords} ")),c("value",e.items)("columns",e.cols)("rows",8)("paginator",!1)("globalFilterFields",E(18,Yo)),x("selection",e.selections),c("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",E(19,Ko)),r(7),c("ngIf",e.createDialog&&e.createActionIsValid),r(),c("ngIf",e.editDialog&&e.editActionIsValid),r(),c("ngIf",e.viewDialog&&e.viewActionIsValid),r(),U(E(20,Qo))}}function ml(o,S){o&1&&(a(0,"p-card",78)(1,"p",79),d(2," You don't have permission to access ! "),n()())}var Ki=(()=>{class o{constructor(e,i,t,l,h){this.service=e,this.typePaiementService=i,this.compteService=t,this.modePaiementService=l,this.platformId=h,this.fileName="Transaction",this.findByCriteriaShow=!1,this.cols=[],this.exportData=[],this.criteriaData=[],this._totalRecords=0,this.enableSecurity=!1,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.authService=y.injector.get(He),this.exportService=y.injector.get(Ie)}ngOnInit(){this.findPaginatedByCriteria(),this.initExport(),this.initCol(),this.loadModePaiement(),this.loadTypePaiement(),this.loadCompteSource(),this.loadCompteDestination()}onExcelFileSelected(e){let i=e.target;i.files&&i.files.length>0&&(this.excelFile=i.files[0])}importExcel(){this.excelFile&&this.service.importExcel(this.excelFile).subscribe(e=>{this.items=e,this.messageService.add({severity:"success",summary:"Success",detail:"File uploaded successfully!",life:3e3})},e=>{this.messageService.add({severity:"error",summary:"Error",detail:"File uploaded with Error!",life:3e3})})}findPaginatedByCriteria(){this.service.findPaginatedByCriteria(this.criteria).subscribe(e=>{this.items=e.list,this.totalRecords=e.dataSize,this.selections=new Array},e=>console.log(e))}onPage(e){this.criteria.page=e.page,this.criteria.maxResults=e.rows,this.findPaginatedByCriteria()}edit(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,console.log(i),this.editDialog=!0})})}view(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,this.viewDialog=!0})})}openCreate(){return A(this,null,function*(){this.item=new at,this.createDialog=!0})}deleteMultiple(){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer ces \xE9l\xE9ments ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.deleteMultiple().subscribe(()=>{for(let e of this.selections){let i=this.items.findIndex(t=>t.id===e.id);this.items.splice(i,1)}this.selections=new Array,this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Les \xE9l\xE9ments s\xE9lectionn\xE9s ont \xE9t\xE9 supprim\xE9s",life:3e3})},e=>console.log(e))}})})}isSelectionDisabled(){return this.selections==null||this.selections.length==0}delete(e){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer cet \xE9l\xE9ment ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.delete(e).subscribe(i=>{if(i>0){let t=this.items.indexOf(e);t>-1&&this.items.splice(t,1),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Element Supprim\xE9",life:3e3})}},i=>console.log(i))}})})}duplicate(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.initDuplicate(i),this.item=i,this.item.id=null,this.createDialog=!0})})}initExport(){this.excelPdfButons=[{label:"CSV",icon:"pi pi-file",command:()=>{this.prepareColumnExport(),this.exportService.exporterCSV(this.criteriaData,this.exportData,this.fileName)}},{label:"XLS",icon:"pi pi-file-excel",command:()=>{this.prepareColumnExport(),this.exportService.exporterExcel(this.criteriaData,this.exportData,this.fileName)}},{label:"PDF",icon:"pi pi-file-pdf",command:()=>{this.prepareColumnExport(),this.exportService.exporterPdf(this.criteriaData,this.exportData,this.fileName)}}]}exportPdf(e){this.service.exportPdf(e).subscribe(i=>{let t=new Blob([i],{type:"application/pdf"}),l=window.URL.createObjectURL(t),h=document.createElement("a");h.href=l,h.download=this.pdfName,h.setAttribute("target","_blank"),h.click(),window.URL.revokeObjectURL(l)},i=>{console.error(i)})}showSearch(){this.findByCriteriaShow=!this.findByCriteriaShow}update(){this.service.edit().subscribe(e=>{let i=this.items.findIndex(t=>t.id===this.item.id);this.items[i]=e,this.editDialog=!1,this.item=new at},e=>{console.log(e)})}save(){this.service.save().subscribe(e=>{e!=null?(this.items.push(le({},e)),this.createDialog=!1,this.item=new at):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},e=>{console.log(e)})}initCol(){this.cols=[{field:"date",header:"Date"},{field:"montant",header:"Montant"},{field:"description",header:"Description"},{field:"modePaiement?.label",header:"Mode paiement"},{field:"typePaiement?.label",header:"Type paiement"},{field:"compteSource?.id",header:"Compte source"},{field:"compteDestination?.id",header:"Compte destination"}]}loadModePaiement(){return A(this,null,function*(){this.modePaiementService.findAllOptimized().subscribe(e=>this.modePaiements=e,e=>console.log(e))})}loadTypePaiement(){return A(this,null,function*(){this.typePaiementService.findAllOptimized().subscribe(e=>this.typePaiements=e,e=>console.log(e))})}loadCompteSource(){return A(this,null,function*(){this.compteService.findAll().subscribe(e=>this.compteSources=e,e=>console.log(e))})}loadCompteDestination(){return A(this,null,function*(){this.compteService.findAll().subscribe(e=>this.compteDestinations=e,e=>console.log(e))})}initDuplicate(e){}prepareColumnExport(){this.service.findByCriteria(this.criteria).subscribe(e=>{this.exportData=e.map(i=>({Date:this.datePipe.transform(i.date,"dd/MM/yyyy hh:mm"),Montant:i.montant,Description:i.description,"Mode paiement":i.modePaiement?.label,"Type paiement":i.typePaiement?.label,"Compte source":i.compteSource?.id,"Compte destination":i.compteDestination?.id})),this.criteriaData=[{"Date Min":this.criteria.dateFrom?this.datePipe.transform(this.criteria.dateFrom,this.dateFormat):L.emptyForExport,"Date Max":this.criteria.dateTo?this.datePipe.transform(this.criteria.dateTo,this.dateFormat):L.emptyForExport,"Montant Min":this.criteria.montantMin?this.criteria.montantMin:L.emptyForExport,"Montant Max":this.criteria.montantMax?this.criteria.montantMax:L.emptyForExport,Description:this.criteria.description?this.criteria.description:L.emptyForExport}]})}get items(){return this.service.items}set items(e){this.service.items=e}get selections(){return this.service.selections}set selections(e){this.service.selections=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatList}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e}get pdfName(){return this._pdfName}set pdfName(e){this._pdfName=e}get createActionIsValid(){return this.service.createActionIsValid}set createActionIsValid(e){this.service.createActionIsValid=e}get editActionIsValid(){return this.service.editActionIsValid}set editActionIsValid(e){this.service.editActionIsValid=e}get listActionIsValid(){return this.service.listActionIsValid}set listActionIsValid(e){this.service.listActionIsValid=e}get deleteActionIsValid(){return this.service.deleteActionIsValid}set deleteActionIsValid(e){this.service.deleteActionIsValid=e}get viewActionIsValid(){return this.service.viewActionIsValid}set viewActionIsValid(e){this.service.viewActionIsValid=e}get duplicateActionIsValid(){return this.service.duplicateActionIsValid}set duplicateActionIsValid(e){this.service.duplicateActionIsValid=e}get createAction(){return this.service.createAction}set createAction(e){this.service.createAction=e}get listAction(){return this.service.listAction}set listAction(e){this.service.listAction=e}get editAction(){return this.service.editAction}set editAction(e){this.service.editAction=e}get deleteAction(){return this.service.deleteAction}set deleteAction(e){this.service.deleteAction=e}get viewAction(){return this.service.viewAction}set viewAction(e){this.service.viewAction=e}get duplicateAction(){return this.service.duplicateAction}set duplicateAction(e){this.service.duplicateAction=e}get entityName(){return this.service.entityName}set entityName(e){this.service.entityName=e}static{this.\u0275fac=function(i){return new(i||o)(w(Xe),w(_e),w(xe),w(qe),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-transaction-list-admin"]],standalone:!1,decls:2,vars:2,consts:[["dt",""],["class","grid",4,"ngIf"],["header","Permission not allowed",4,"ngIf"],[1,"grid"],[1,"col-12"],[1,"card"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 border border-surface rounded-lg",4,"ngIf"],["dataKey","id","styleClass","p-datatable-customers","selectionMode","multiple",3,"selectionChange","value","columns","rows","paginator","globalFilterFields","selection","rowHover","currentPageReportTemplate","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[4,"ngIf"],["pButton","","pRipple","","icon","pi pi-plus","class","p-button-info mr-2 mb-2",3,"label","click",4,"ngIf"],["pButton","","pRipple","",1,"p-button-secondary","mr-2","mb-2",3,"click","label","icon"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mr-2","mb-2",3,"click","label"],[1,"flex"],["icon","pi pi-download","styleClass","p-button-secondary",3,"label","model"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","p-4","border","border-surface","rounded-lg"],[1,"flex","flex-col","gap-2"],["for","1-1",1,"text-sm","font-semibold"],["id","1-1","dateFormat","dd-MM-yy",1,"p-fluid",3,"ngModelChange","ngModel","showIcon"],["for","1-2",1,"text-sm","font-semibold"],["id","1-2","dateFormat","dd-MM-yy",1,"p-fluid",3,"ngModelChange","ngModel","showIcon"],["for","2-1",1,"text-sm","font-semibold"],["mode","decimal","id","2-1",3,"ngModelChange","ngModel"],["for","2-2",1,"text-sm","font-semibold"],["mode","decimal","id","2-2",3,"ngModelChange","ngModel"],["for","3",1,"text-sm","font-semibold"],["pInputText","","id","3","type","text",3,"ngModelChange","ngModel"],["for","4-2",1,"text-sm","font-semibold"],["id","4","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","5-2",1,"text-sm","font-semibold"],["id","5","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","6-2",1,"text-sm","font-semibold"],["id","6","optionLabel","id",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","7-2",1,"text-sm","font-semibold"],["id","7","optionLabel","id",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],[1,"col-span-full","flex","justify-end","mt-4"],["pButton","","pRipple","",1,"px-4","py-2","rounded-md",3,"click","label"],[1,"pi","pi-sort-amount-down"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","p-2","gap-4"],[1,"text-center","md:text-left"],[1,"relative","w-full","md:w-auto"],["iconPosition","left",1,"w-full","md:w-auto"],[1,"pi","pi-search"],["pInputText","","type","text",1,"w-full","md:w-72","border","border-gray-300","rounded-md","p-2","focus:ring","focus:ring-blue-300",3,"input","placeholder"],[2,"width","3rem"],["pSortableColumn","date"],[1,"p-d-flex","p-jc-between","p-ai-center"],[1,"mr-2"],["field","date"],["pSortableColumn","montant"],["field","montant"],["pSortableColumn","description"],["field","description"],["type","text","field","element.description","display","menu",1,"ml-auto"],["pSortableColumn","modePaiement"],["field","modePaiement"],["pSortableColumn","typePaiement"],["field","typePaiement"],["pSortableColumn","compteSource"],["field","compteSource"],["pSortableColumn","compteDestination"],["field","compteDestination"],[3,"value"],[3,"severity","value","rounded"],["pButton","","pRipple","","icon","pi pi-pencil","class","p-button-rounded p-button-info mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-list","class","p-button-rounded p-button-secondary mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-trash","class","p-button-rounded p-button-danger mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-list",1,"p-button-rounded","p-button-secondary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","mr-2",3,"click"],[3,"onPageChange","rows","totalRecords"],[1,"p-d-flex","p-ai-center","p-jc-between"],["header","Permission not allowed"],[1,"m-0"]],template:function(i,t){i&1&&M(0,cl,19,21,"div",1)(1,ml,3,0,"p-card",2),i&2&&(c("ngIf",t.listActionIsValid),r(),c("ngIf",!t.listActionIsValid))},dependencies:[J,ue,z,Fe,fe,je,Re,Ne,Oe,nt,ze,O,Se,V,B,W,we,re,ee,q,ke,Ue,$e,Be,We,Ce,Gi,Xi,Yi,P,R],encapsulation:2})}}return o})();var ul=()=>({width:"70vw"}),mi=o=>({"ng-invalid ng-dirty":o});function gl(o,S){o&1&&(a(0,"small",9),d(1,"Code is obligatory."),n())}function hl(o,S){o&1&&(a(0,"small",9),d(1,"Label is obligatory."),n())}function _l(o,S){o&1&&(a(0,"small",9),d(1,"Style is obligatory."),n())}function vl(o,S){if(o&1){let e=T();a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),a(8,"p-inputNumber",7),s(9,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.indexation,t)||(l.item.indexation=t),v(t)}),n()(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),a(14,"span",9),d(15,"*"),n()(),a(16,"input",10),s(17,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.code,t)||(l.item.code=t),v(t)}),n(),M(18,gl,2,0,"small",11),n(),a(19,"div",5)(20,"label",12),d(21),s(22,"translate"),a(23,"span",9),d(24,"*"),n()(),a(25,"input",13),s(26,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.label,t)||(l.item.label=t),v(t)}),n(),M(27,hl,2,0,"small",11),n(),a(28,"div",5)(29,"label",14),d(30),s(31,"translate"),a(32,"span",9),d(33,"*"),n()(),a(34,"input",15),s(35,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.style,t)||(l.item.style=t),v(t)}),n(),M(36,_l,2,0,"small",11),n(),a(37,"div",5)(38,"label",16),d(39),s(40,"translate"),n(),a(41,"input",17),s(42,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.color,t)||(l.item.color=t),v(t)}),n()()()()()}if(o&2){let e=m();r(),g("header",p(2,22,"typePaiement.tabPan")),r(5),u(p(7,24,"typePaiement.indexation")),r(2),g("placeholder",p(9,26,"typePaiement.indexation")),x("ngModel",e.item.indexation),r(4),u(p(13,28,"typePaiement.code")),r(4),g("placeholder",p(17,30,"typePaiement.code")),x("ngModel",e.item.code),c("ngClass",$(44,mi,!e.validTypePaiementCode)),r(2),c("ngIf",!e.validTypePaiementCode),r(3),u(p(22,32,"typePaiement.label")),r(4),g("placeholder",p(26,34,"typePaiement.label")),x("ngModel",e.item.label),c("ngClass",$(46,mi,!e.validTypePaiementLabel)),r(2),c("ngIf",!e.validTypePaiementLabel),r(3),u(p(31,36,"typePaiement.style")),r(4),g("placeholder",p(35,38,"typePaiement.style")),x("ngModel",e.item.style),c("ngClass",$(48,mi,!e.validTypePaiementStyle)),r(2),c("ngIf",!e.validTypePaiementStyle),r(3),u(p(40,40,"typePaiement.color")),r(2),g("placeholder",p(42,42,"typePaiement.color")),x("ngModel",e.item.color)}}function fl(o,S){if(o&1){let e=T();a(0,"div",18)(1,"button",19),s(2,"translate"),I("click",function(){_(e);let t=m();return v(t.save())}),f(3,"i",20),d(4),s(5,"translate"),n(),a(6,"button",21),I("click",function(){_(e);let t=m();return v(t.hideCreateDialog())}),f(7,"i",22),d(8),s(9,"translate"),n()()}o&2&&(r(),g("label",p(2,3,"validate")),r(3),H(" ",p(5,5,"validate")," "),r(4),H(" ",p(9,7,"cancel")," "))}var Qi=(()=>{class o{constructor(e,i){this.service=e,this.platformId=i,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validTypePaiementCode=!0,this._validTypePaiementLabel=!0,this._validTypePaiementStyle=!0,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){}save(){this.submitted=!0,this.validateForm(),this.errorMessages.length===0?this.saveWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}saveWithShowOption(e){this.service.save().subscribe(i=>{i!=null?(this.items.push(le({},i)),this.createDialog=!1,this.submitted=!1,this.item=new Me):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},i=>{console.log(i)})}hideCreateDialog(){this.createDialog=!1,this.setValidation(!0)}setValidation(e){this.validTypePaiementCode=e,this.validTypePaiementLabel=e,this.validTypePaiementStyle=e}validateForm(){this.errorMessages=new Array,this.validateTypePaiementCode(),this.validateTypePaiementLabel(),this.validateTypePaiementStyle()}validateTypePaiementCode(){this.stringUtilService.isEmpty(this.item.code)?(this.errorMessages.push("Code non valide"),this.validTypePaiementCode=!1):this.validTypePaiementCode=!0}validateTypePaiementLabel(){this.stringUtilService.isEmpty(this.item.label)?(this.errorMessages.push("Label non valide"),this.validTypePaiementLabel=!1):this.validTypePaiementLabel=!0}validateTypePaiementStyle(){this.stringUtilService.isEmpty(this.item.style)?(this.errorMessages.push("Style non valide"),this.validTypePaiementStyle=!1):this.validTypePaiementStyle=!0}get validTypePaiementCode(){return this._validTypePaiementCode}set validTypePaiementCode(e){this._validTypePaiementCode=e}get validTypePaiementLabel(){return this._validTypePaiementLabel}set validTypePaiementLabel(e){this._validTypePaiementLabel=e}get validTypePaiementStyle(){return this._validTypePaiementStyle}set validTypePaiementStyle(e){this._validTypePaiementStyle=e}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}static{this.\u0275fac=function(i){return new(i||o)(w(_e),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-type-paiement-create-admin"]],standalone:!1,decls:4,vars:11,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal","maximizable","draggable","resizable"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["id","1",3,"ngModelChange","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],[1,"text-red-500"],["type","text","pInputText","","id","2",3,"ngModelChange","placeholder","ngModel","ngClass"],["class","text-red-500",4,"ngIf"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","id","3",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","id","4",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","5",1,"text-sm","font-semibold"],["type","text","pInputText","","id","5",3,"ngModelChange","placeholder","ngModel"],[1,"flex","justify-end","space-x-3","p-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-primary",3,"click","label"],[1,"pi","pi-check"],[1,"border","border-gray-400","text-gray-600","hover:bg-gray-200","px-4","py-2","rounded-md",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.createDialog,h)||(t.createDialog=h),h}),M(2,vl,43,50,"ng-template",1)(3,fl,10,9,"ng-template",2),n()),i&2&&(U(E(10,ul)),g("header",p(1,8,"typePaiement.tabPan")),x("visible",t.createDialog),c("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1))},dependencies:[ge,J,z,Q,O,V,B,W,Y,X,q,R],encapsulation:2})}}return o})();var xl=()=>({width:"70vw"});function bl(o,S){if(o&1&&(a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),f(8,"p-inputNumber",7),s(9,"translate"),n(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),n(),f(14,"input",9),s(15,"translate"),n(),a(16,"div",5)(17,"label",10),d(18),s(19,"translate"),n(),f(20,"input",11),s(21,"translate"),n(),a(22,"div",5)(23,"label",12),d(24),s(25,"translate"),n(),f(26,"input",13),s(27,"translate"),n(),a(28,"div",5)(29,"label",14),d(30),s(31,"translate"),n(),f(32,"input",15),s(33,"translate"),n()()()()),o&2){let e=m();r(),g("header",p(2,21,"typePaiement.tabPan")),r(5),u(p(7,23,"typePaiement.indexation")),r(2),g("placeholder",p(9,25,"typePaiement.indexation")),c("disabled",!0)("ngModel",e.item.indexation),r(4),u(p(13,27,"typePaiement.code")),r(2),g("placeholder",p(15,29,"typePaiement.code")),c("disabled",!0)("ngModel",e.item.code),r(4),u(p(19,31,"typePaiement.label")),r(2),g("placeholder",p(21,33,"typePaiement.label")),c("disabled",!0)("ngModel",e.item.label),r(4),u(p(25,35,"typePaiement.style")),r(2),g("placeholder",p(27,37,"typePaiement.style")),c("disabled",!0)("ngModel",e.item.style),r(4),u(p(31,39,"typePaiement.color")),r(2),g("placeholder",p(33,41,"typePaiement.color")),c("disabled",!0)("ngModel",e.item.color)}}function Cl(o,S){if(o&1){let e=T();a(0,"div",16)(1,"div")(2,"button",17),I("click",function(){_(e);let t=m();return v(t.hideViewDialog())}),f(3,"i",18),d(4," Annuler "),n()()()}}var Ji=(()=>{class o{constructor(e){this.service=e,this._submitted=!1,this._errorMessages=new Array,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){}hideViewDialog(){this.viewDialog=!1}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatView}get dateFormatColumn(){return L.dateFormatList}static{this.\u0275fac=function(i){return new(i||o)(w(_e))}}static{this.\u0275cmp=D({type:o,selectors:[["app-type-paiement-view-admin"]],standalone:!1,decls:4,vars:8,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["id","1",3,"disabled","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","2",3,"disabled","placeholder","ngModel"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","3",3,"disabled","placeholder","ngModel"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","4",3,"disabled","placeholder","ngModel"],["for","5",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","5",3,"disabled","placeholder","ngModel"],[1,"flex","justify-end","p-4"],[1,"border","border-gray-400","font-semibold","py-2","px-4","rounded","shadow",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.viewDialog,h)||(t.viewDialog=h),h}),M(2,bl,34,43,"ng-template",1)(3,Cl,5,0,"ng-template",2),n()),i&2&&(U(E(7,xl)),g("header",p(1,5,"typePaiement.tabPan")),x("visible",t.viewDialog),c("modal",!0))},dependencies:[z,Q,O,V,B,W,Y,X,q,R],encapsulation:2})}}return o})();var wl=()=>({width:"70vw"}),ui=o=>({"ng-invalid ng-dirty":o});function Ll(o,S){o&1&&(a(0,"small",9),d(1,"Code is obligatory."),n())}function Il(o,S){o&1&&(a(0,"small",9),d(1,"Label is obligatory."),n())}function Ml(o,S){o&1&&(a(0,"small",9),d(1,"Style is obligatory."),n())}function Tl(o,S){if(o&1){let e=T();a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),a(8,"p-inputNumber",7),s(9,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.indexation,t)||(l.item.indexation=t),v(t)}),n()(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),a(14,"span",9),d(15,"*"),n()(),a(16,"input",10),s(17,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.code,t)||(l.item.code=t),v(t)}),n(),M(18,Ll,2,0,"small",11),n(),a(19,"div",5)(20,"label",12),d(21),s(22,"translate"),a(23,"span",9),d(24,"*"),n()(),a(25,"input",13),s(26,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.label,t)||(l.item.label=t),v(t)}),n(),M(27,Il,2,0,"small",11),n(),a(28,"div",5)(29,"label",14),d(30),s(31,"translate"),a(32,"span",9),d(33,"*"),n()(),a(34,"input",15),s(35,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.style,t)||(l.item.style=t),v(t)}),n(),M(36,Ml,2,0,"small",11),n(),a(37,"div",5)(38,"label",16),d(39),s(40,"translate"),n(),a(41,"input",17),s(42,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.color,t)||(l.item.color=t),v(t)}),n()()()()()}if(o&2){let e=m();r(),g("header",p(2,22,"typePaiement.tabPan")),r(5),u(p(7,24,"typePaiement.indexation")),r(2),g("placeholder",p(9,26,"typePaiement.indexation")),x("ngModel",e.item.indexation),r(4),u(p(13,28,"typePaiement.code")),r(4),g("placeholder",p(17,30,"typePaiement.code")),x("ngModel",e.item.code),c("ngClass",$(44,ui,!e.validTypePaiementCode)),r(2),c("ngIf",!e.validTypePaiementCode),r(3),u(p(22,32,"typePaiement.label")),r(4),g("placeholder",p(26,34,"typePaiement.label")),x("ngModel",e.item.label),c("ngClass",$(46,ui,!e.validTypePaiementLabel)),r(2),c("ngIf",!e.validTypePaiementLabel),r(3),u(p(31,36,"typePaiement.style")),r(4),g("placeholder",p(35,38,"typePaiement.style")),x("ngModel",e.item.style),c("ngClass",$(48,ui,!e.validTypePaiementStyle)),r(2),c("ngIf",!e.validTypePaiementStyle),r(3),u(p(40,40,"typePaiement.color")),r(2),g("placeholder",p(42,42,"typePaiement.color")),x("ngModel",e.item.color)}}function Al(o,S){if(o&1){let e=T();a(0,"div",18)(1,"button",19),s(2,"translate"),I("click",function(){_(e);let t=m();return v(t.edit())}),f(3,"i",20),d(4),s(5,"translate"),n(),a(6,"button",21),I("click",function(){_(e);let t=m();return v(t.hideEditDialog())}),f(7,"i",22),d(8),s(9,"translate"),n()()}o&2&&(r(),g("label",p(2,3,"validate")),r(3),H(" ",p(5,5,"validate")," "),r(4),H(" ",p(9,7,"cancel")," "))}var Zi=(()=>{class o{constructor(e,i){this.service=e,this.platformId=i,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validTypePaiementCode=!0,this._validTypePaiementLabel=!0,this._validTypePaiementStyle=!0,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){}prepareEdit(){}edit(){this.submitted=!0,this.prepareEdit(),this.validateForm(),this.errorMessages.length===0?this.editWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}editWithShowOption(e){this.service.edit().subscribe(i=>{let t=this.items.findIndex(l=>l.id===this.item.id);this.items[t]=i,this.editDialog=!1,this.submitted=!1,this.item=new Me},i=>{console.log(i)})}hideEditDialog(){this.editDialog=!1,this.setValidation(!0)}setValidation(e){this.validTypePaiementCode=e,this.validTypePaiementLabel=e,this.validTypePaiementStyle=e}validateForm(){this.errorMessages=new Array,this.validateTypePaiementCode(),this.validateTypePaiementLabel(),this.validateTypePaiementStyle()}validateTypePaiementCode(){this.stringUtilService.isEmpty(this.item.code)?(this.errorMessages.push("Code non valide"),this.validTypePaiementCode=!1):this.validTypePaiementCode=!0}validateTypePaiementLabel(){this.stringUtilService.isEmpty(this.item.label)?(this.errorMessages.push("Label non valide"),this.validTypePaiementLabel=!1):this.validTypePaiementLabel=!0}validateTypePaiementStyle(){this.stringUtilService.isEmpty(this.item.style)?(this.errorMessages.push("Style non valide"),this.validTypePaiementStyle=!1):this.validTypePaiementStyle=!0}get validTypePaiementCode(){return this._validTypePaiementCode}set validTypePaiementCode(e){this._validTypePaiementCode=e}get validTypePaiementLabel(){return this._validTypePaiementLabel}set validTypePaiementLabel(e){this._validTypePaiementLabel=e}get validTypePaiementStyle(){return this._validTypePaiementStyle}set validTypePaiementStyle(e){this._validTypePaiementStyle=e}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}static{this.\u0275fac=function(i){return new(i||o)(w(_e),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-type-paiement-edit-admin"]],standalone:!1,decls:4,vars:11,consts:[["styleClass","p-fluid",3,"visibleChange","visible","header","modal","maximizable","draggable","resizable"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["id","1",3,"ngModelChange","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],[1,"text-red-500"],["type","text","pInputText","","id","2",3,"ngModelChange","placeholder","ngModel","ngClass"],["class","text-red-500",4,"ngIf"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","id","3",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","id","4",3,"ngModelChange","placeholder","ngModel","ngClass"],["for","5",1,"text-sm","font-semibold"],["type","text","pInputText","","id","5",3,"ngModelChange","placeholder","ngModel"],[1,"flex","justify-end","space-x-3","p-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-primary",3,"click","label"],[1,"pi","pi-check"],[1,"border","border-gray-400","text-gray-600","hover:bg-gray-200","px-4","py-2","rounded-md",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.editDialog,h)||(t.editDialog=h),h}),M(2,Tl,43,50,"ng-template",1)(3,Al,10,9,"ng-template",2),n()),i&2&&(U(E(10,wl)),g("header",p(1,8,"typePaiement.tabPan")),x("visible",t.editDialog),c("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1))},dependencies:[ge,J,z,Q,O,V,B,W,Y,X,q,R],encapsulation:2})}}return o})();var El=()=>["indexation","code","label","style","color"],Dl=()=>[10,25,50],Vl=()=>({width:"450px"});function Bl(o,S){if(o&1){let e=T();a(0,"button",18),s(1,"translate"),I("click",function(){_(e);let t=m(3);return v(t.openCreate())}),n()}o&2&&Z("label"," ",p(1,2,"new"),"")}function Wl(o,S){if(o&1){let e=T();M(0,Bl,2,4,"button",16),a(1,"button",17),s(2,"translate"),I("click",function(){_(e);let t=m(2);return v(t.showSearch())}),n()}if(o&2){let e=m(2);c("ngIf",e.createActionIsValid),r(),Z("label"," ",p(2,5,"search"),""),Z("icon","pi pi-",e.findByCriteriaShow?"angle-down":"angle-right","")}}function Fl(o,S){if(o&1&&(a(0,"div",19),f(1,"p-splitButton",20),s(2,"translate"),n()),o&2){let e=m(2);r(),Z("label"," ",p(2,3,"export"),""),c("model",e.excelPdfButons)}}function kl(o,S){if(o&1){let e=T();a(0,"div",21)(1,"div",22)(2,"label",23),d(3),s(4,"translate"),n(),a(5,"p-inputNumber",24),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.indexationMin,t)||(l.criteria.indexationMin=t),v(t)}),n()(),a(6,"div",22)(7,"label",25),d(8),s(9,"translate"),n(),a(10,"p-inputNumber",26),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.indexationMax,t)||(l.criteria.indexationMax=t),v(t)}),n()(),a(11,"div",22)(12,"label",27),d(13),s(14,"translate"),n(),a(15,"input",28),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.codeLike,t)||(l.criteria.codeLike=t),v(t)}),n()(),a(16,"div",22)(17,"label",29),d(18),s(19,"translate"),n(),a(20,"input",30),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.labelLike,t)||(l.criteria.labelLike=t),v(t)}),n()(),a(21,"div",22)(22,"label",31),d(23),s(24,"translate"),n(),a(25,"input",32),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.styleLike,t)||(l.criteria.styleLike=t),v(t)}),n()(),a(26,"div",22)(27,"label",33),d(28),s(29,"translate"),n(),a(30,"input",34),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.colorLike,t)||(l.criteria.colorLike=t),v(t)}),n()(),a(31,"div",35)(32,"button",36),s(33,"translate"),I("click",function(){_(e);let t=m(2);return v(t.findPaginatedByCriteria())}),f(34,"i",37),d(35),s(36,"translate"),n()()()}if(o&2){let e=m(2);r(3),u(p(4,14,"typePaiement.indexationMin")),r(2),x("ngModel",e.criteria.indexationMin),r(3),u(p(9,16,"typePaiement.indexationMax")),r(2),x("ngModel",e.criteria.indexationMax),r(3),u(p(14,18,"typePaiement.code")),r(2),x("ngModel",e.criteria.codeLike),r(3),u(p(19,20,"typePaiement.label")),r(2),x("ngModel",e.criteria.labelLike),r(3),u(p(24,22,"typePaiement.style")),r(2),x("ngModel",e.criteria.styleLike),r(3),u(p(29,24,"typePaiement.color")),r(2),x("ngModel",e.criteria.colorLike),r(2),g("label",p(33,26,"validate")),r(3),H(" ",p(36,28,"validate")," ")}}function jl(o,S){if(o&1){let e=T();a(0,"div",38)(1,"h5",39),d(2),s(3,"translate"),n(),a(4,"span",40)(5,"p-iconfield",41),f(6,"p-inputicon",42),a(7,"input",43),s(8,"translate"),I("input",function(t){_(e),m();let l=De(9);return v(l.filterGlobal(t.target.value,"contains"))}),n()()()()}o&2&&(r(2),u(p(3,2,"typePaiement.header")),r(5),g("placeholder",p(8,4,"searchInput")))}function Rl(o,S){o&1&&(a(0,"tr")(1,"th",44),f(2,"p-tableHeaderCheckbox"),n(),a(3,"th",45)(4,"div",46)(5,"span",47),d(6),s(7,"translate"),n(),f(8,"p-sortIcon",48),n()(),a(9,"th",49)(10,"div",46)(11,"span",47),d(12),s(13,"translate"),n(),f(14,"p-sortIcon",50)(15,"p-columnFilter",51),n()(),a(16,"th",52)(17,"div",46)(18,"span",47),d(19),s(20,"translate"),n(),f(21,"p-sortIcon",53)(22,"p-columnFilter",54),n()(),a(23,"th",55)(24,"div",46)(25,"span",47),d(26),s(27,"translate"),n(),f(28,"p-sortIcon",56)(29,"p-columnFilter",57),n()(),a(30,"th",58)(31,"div",46)(32,"span",47),d(33),s(34,"translate"),n(),f(35,"p-sortIcon",59)(36,"p-columnFilter",60),n()(),a(37,"th"),d(38,"Actions"),n()()),o&2&&(r(6),u(p(7,5,"typePaiement.indexation")),r(6),u(p(13,7,"typePaiement.code")),r(7),u(p(20,9,"typePaiement.label")),r(7),u(p(27,11,"typePaiement.style")),r(7),u(p(34,13,"typePaiement.color")))}function Nl(o,S){if(o&1){let e=T();a(0,"button",66),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.edit(t))}),n()}}function Ol(o,S){if(o&1){let e=T();a(0,"button",67),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.view(t))}),n()}}function Ul(o,S){if(o&1){let e=T();a(0,"button",68),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.delete(t))}),n()}}function zl(o,S){if(o&1&&(a(0,"tr")(1,"td"),f(2,"p-tableCheckbox",61),n(),a(3,"td"),d(4),n(),a(5,"td"),d(6),n(),a(7,"td"),f(8,"p-tag",62),n(),a(9,"td"),d(10),n(),a(11,"td"),d(12),n(),a(13,"td"),M(14,Nl,1,0,"button",63)(15,Ol,1,0,"button",64)(16,Ul,1,0,"button",65),n()()),o&2){let e=S.$implicit,i=m(2);r(2),c("value",e),r(2),u(e.indexation),r(2),u(e.code),r(2),g("severity",e.style),g("value",e.label),c("rounded",!0),r(2),u(e.style),r(2),u(e.color),r(2),c("ngIf",i.editActionIsValid),r(),c("ngIf",i.viewActionIsValid),r(),c("ngIf",i.deleteActionIsValid)}}function Hl(o,S){if(o&1){let e=T();a(0,"p-paginator",69),I("onPageChange",function(t){_(e);let l=m(2);return v(l.onPage(t))}),n(),a(1,"div",70),d(2),n()}if(o&2){let e=m(2);c("rows",10)("totalRecords",e.totalRecords),r(2),Ve(" En totale il ",(e.items&&e.totalRecords==1,"y a")," ",e.items?e.totalRecords:0," ",e.items?e.totalRecords==1?"type paiement":"type paiements":0,". ")}}function ql(o,S){o&1&&f(0,"app-type-paiement-create-admin")}function Gl(o,S){o&1&&f(0,"app-type-paiement-edit-admin")}function Xl(o,S){o&1&&f(0,"app-type-paiement-view-admin")}function Yl(o,S){if(o&1){let e=T();a(0,"div",3)(1,"div",4),f(2,"p-toast"),a(3,"div",5)(4,"p-toolbar",6),M(5,Wl,3,7,"ng-template",7)(6,Fl,3,5,"ng-template",8),n(),M(7,kl,37,30,"div",9),a(8,"p-table",10,0),s(10,"translate"),C("selectionChange",function(t){_(e);let l=m();return b(l.selections,t)||(l.selections=t),v(t)}),M(11,jl,9,6,"ng-template",11)(12,Rl,39,15,"ng-template",12)(13,zl,17,11,"ng-template",13)(14,Hl,3,5,"ng-template",14),n()(),M(15,ql,1,0,"app-type-paiement-create-admin",15)(16,Gl,1,0,"app-type-paiement-edit-admin",15)(17,Xl,1,0,"app-type-paiement-view-admin",15),f(18,"p-confirmDialog"),n()()}if(o&2){let e=m();r(7),c("ngIf",e.findByCriteriaShow),r(),g("currentPageReportTemplate",p(10,16,"les \xE9l\xE9ments de {first} \xE0 {last} sur {totalRecords} ")),c("value",e.items)("columns",e.cols)("rows",8)("paginator",!1)("globalFilterFields",E(18,El)),x("selection",e.selections),c("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",E(19,Dl)),r(7),c("ngIf",e.createDialog&&e.createActionIsValid),r(),c("ngIf",e.editDialog&&e.editActionIsValid),r(),c("ngIf",e.viewDialog&&e.viewActionIsValid),r(),U(E(20,Vl))}}function Kl(o,S){o&1&&(a(0,"p-card",71)(1,"p",72),d(2," You don't have permission to access ! "),n()())}var $i=(()=>{class o{constructor(e,i){this.service=e,this.platformId=i,this.fileName="TypePaiement",this.findByCriteriaShow=!1,this.cols=[],this.exportData=[],this.criteriaData=[],this._totalRecords=0,this.enableSecurity=!1,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.authService=y.injector.get(He),this.exportService=y.injector.get(Ie)}ngOnInit(){this.findPaginatedByCriteria(),this.initExport(),this.initCol()}onExcelFileSelected(e){let i=e.target;i.files&&i.files.length>0&&(this.excelFile=i.files[0])}importExcel(){this.excelFile&&this.service.importExcel(this.excelFile).subscribe(e=>{this.items=e,this.messageService.add({severity:"success",summary:"Success",detail:"File uploaded successfully!",life:3e3})},e=>{this.messageService.add({severity:"error",summary:"Error",detail:"File uploaded with Error!",life:3e3})})}findPaginatedByCriteria(){this.service.findPaginatedByCriteria(this.criteria).subscribe(e=>{this.items=e.list,this.totalRecords=e.dataSize,this.selections=new Array},e=>console.log(e))}onPage(e){this.criteria.page=e.page,this.criteria.maxResults=e.rows,this.findPaginatedByCriteria()}edit(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,console.log(i),this.editDialog=!0})})}view(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,this.viewDialog=!0})})}openCreate(){return A(this,null,function*(){this.item=new Me,this.createDialog=!0})}deleteMultiple(){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer ces \xE9l\xE9ments ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.deleteMultiple().subscribe(()=>{for(let e of this.selections){let i=this.items.findIndex(t=>t.id===e.id);this.items.splice(i,1)}this.selections=new Array,this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Les \xE9l\xE9ments s\xE9lectionn\xE9s ont \xE9t\xE9 supprim\xE9s",life:3e3})},e=>console.log(e))}})})}isSelectionDisabled(){return this.selections==null||this.selections.length==0}delete(e){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer cet \xE9l\xE9ment ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.delete(e).subscribe(i=>{if(i>0){let t=this.items.indexOf(e);t>-1&&this.items.splice(t,1),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Element Supprim\xE9",life:3e3})}},i=>console.log(i))}})})}duplicate(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.initDuplicate(i),this.item=i,this.item.id=null,this.createDialog=!0})})}initExport(){this.excelPdfButons=[{label:"CSV",icon:"pi pi-file",command:()=>{this.prepareColumnExport(),this.exportService.exporterCSV(this.criteriaData,this.exportData,this.fileName)}},{label:"XLS",icon:"pi pi-file-excel",command:()=>{this.prepareColumnExport(),this.exportService.exporterExcel(this.criteriaData,this.exportData,this.fileName)}},{label:"PDF",icon:"pi pi-file-pdf",command:()=>{this.prepareColumnExport(),this.exportService.exporterPdf(this.criteriaData,this.exportData,this.fileName)}}]}exportPdf(e){this.service.exportPdf(e).subscribe(i=>{let t=new Blob([i],{type:"application/pdf"}),l=window.URL.createObjectURL(t),h=document.createElement("a");h.href=l,h.download=this.pdfName,h.setAttribute("target","_blank"),h.click(),window.URL.revokeObjectURL(l)},i=>{console.error(i)})}showSearch(){this.findByCriteriaShow=!this.findByCriteriaShow}update(){this.service.edit().subscribe(e=>{let i=this.items.findIndex(t=>t.id===this.item.id);this.items[i]=e,this.editDialog=!1,this.item=new Me},e=>{console.log(e)})}save(){this.service.save().subscribe(e=>{e!=null?(this.items.push(le({},e)),this.createDialog=!1,this.item=new Me):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},e=>{console.log(e)})}initCol(){this.cols=[{field:"indexation",header:"Indexation"},{field:"code",header:"Code"},{field:"label",header:"Label"},{field:"style",header:"Style"},{field:"color",header:"Color"}]}initDuplicate(e){}prepareColumnExport(){this.service.findByCriteria(this.criteria).subscribe(e=>{this.exportData=e.map(i=>({Indexation:i.indexation,Code:i.code,Label:i.label,Style:i.style,Color:i.color})),this.criteriaData=[{"Indexation Min":this.criteria.indexationMin?this.criteria.indexationMin:L.emptyForExport,"Indexation Max":this.criteria.indexationMax?this.criteria.indexationMax:L.emptyForExport,Code:this.criteria.code?this.criteria.code:L.emptyForExport,Label:this.criteria.label?this.criteria.label:L.emptyForExport,Style:this.criteria.style?this.criteria.style:L.emptyForExport,Color:this.criteria.color?this.criteria.color:L.emptyForExport}]})}get items(){return this.service.items}set items(e){this.service.items=e}get selections(){return this.service.selections}set selections(e){this.service.selections=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatList}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e}get pdfName(){return this._pdfName}set pdfName(e){this._pdfName=e}get createActionIsValid(){return this.service.createActionIsValid}set createActionIsValid(e){this.service.createActionIsValid=e}get editActionIsValid(){return this.service.editActionIsValid}set editActionIsValid(e){this.service.editActionIsValid=e}get listActionIsValid(){return this.service.listActionIsValid}set listActionIsValid(e){this.service.listActionIsValid=e}get deleteActionIsValid(){return this.service.deleteActionIsValid}set deleteActionIsValid(e){this.service.deleteActionIsValid=e}get viewActionIsValid(){return this.service.viewActionIsValid}set viewActionIsValid(e){this.service.viewActionIsValid=e}get duplicateActionIsValid(){return this.service.duplicateActionIsValid}set duplicateActionIsValid(e){this.service.duplicateActionIsValid=e}get createAction(){return this.service.createAction}set createAction(e){this.service.createAction=e}get listAction(){return this.service.listAction}set listAction(e){this.service.listAction=e}get editAction(){return this.service.editAction}set editAction(e){this.service.editAction=e}get deleteAction(){return this.service.deleteAction}set deleteAction(e){this.service.deleteAction=e}get viewAction(){return this.service.viewAction}set viewAction(e){this.service.viewAction=e}get duplicateAction(){return this.service.duplicateAction}set duplicateAction(e){this.service.duplicateAction=e}get entityName(){return this.service.entityName}set entityName(e){this.service.entityName=e}static{this.\u0275fac=function(i){return new(i||o)(w(_e),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-type-paiement-list-admin"]],standalone:!1,decls:2,vars:2,consts:[["dt",""],["class","grid",4,"ngIf"],["header","Permission not allowed",4,"ngIf"],[1,"grid"],[1,"col-12"],[1,"card"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 border border-surface rounded-lg",4,"ngIf"],["dataKey","id","styleClass","p-datatable-customers","selectionMode","multiple",3,"selectionChange","value","columns","rows","paginator","globalFilterFields","selection","rowHover","currentPageReportTemplate","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[4,"ngIf"],["pButton","","pRipple","","icon","pi pi-plus","class","p-button-info mr-2 mb-2",3,"label","click",4,"ngIf"],["pButton","","pRipple","",1,"p-button-secondary","mr-2","mb-2",3,"click","label","icon"],["pButton","","pRipple","","icon","pi pi-plus",1,"p-button-info","mr-2","mb-2",3,"click","label"],[1,"flex"],["icon","pi pi-download","styleClass","p-button-secondary",3,"label","model"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","p-4","border","border-surface","rounded-lg"],[1,"flex","flex-col","gap-2"],["for","1-1",1,"text-sm","font-semibold"],["mode","decimal","id","1-1",3,"ngModelChange","ngModel"],["for","1-2",1,"text-sm","font-semibold"],["mode","decimal","id","1-2",3,"ngModelChange","ngModel"],["for","2",1,"text-sm","font-semibold"],["pInputText","","id","2","type","text",3,"ngModelChange","ngModel"],["for","3",1,"text-sm","font-semibold"],["pInputText","","id","3","type","text",3,"ngModelChange","ngModel"],["for","4",1,"text-sm","font-semibold"],["pInputText","","id","4","type","text",3,"ngModelChange","ngModel"],["for","5",1,"text-sm","font-semibold"],["pInputText","","id","5","type","text",3,"ngModelChange","ngModel"],[1,"col-span-full","flex","justify-end","mt-4"],["pButton","","pRipple","",1,"px-4","py-2","rounded-md",3,"click","label"],[1,"pi","pi-sort-amount-down"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","p-2","gap-4"],[1,"text-center","md:text-left"],[1,"relative","w-full","md:w-auto"],["iconPosition","left",1,"w-full","md:w-auto"],[1,"pi","pi-search"],["pInputText","","type","text",1,"w-full","md:w-72","border","border-gray-300","rounded-md","p-2","focus:ring","focus:ring-blue-300",3,"input","placeholder"],[2,"width","3rem"],["pSortableColumn","indexation"],[1,"p-d-flex","p-jc-between","p-ai-center"],[1,"mr-2"],["field","indexation"],["pSortableColumn","code"],["field","code"],["type","text","field","element.code","display","menu",1,"ml-auto"],["pSortableColumn","label"],["field","label"],["type","text","field","element.label","display","menu",1,"ml-auto"],["pSortableColumn","style"],["field","style"],["type","text","field","element.style","display","menu",1,"ml-auto"],["pSortableColumn","color"],["field","color"],["type","text","field","element.color","display","menu",1,"ml-auto"],[3,"value"],[3,"severity","value","rounded"],["pButton","","pRipple","","icon","pi pi-pencil","class","p-button-rounded p-button-info mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-list","class","p-button-rounded p-button-secondary mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-trash","class","p-button-rounded p-button-danger mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-info","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-list",1,"p-button-rounded","p-button-secondary","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","mr-2",3,"click"],[3,"onPageChange","rows","totalRecords"],[1,"p-d-flex","p-ai-center","p-jc-between"],["header","Permission not allowed"],[1,"m-0"]],template:function(i,t){i&1&&M(0,Yl,19,21,"div",1)(1,Kl,3,0,"p-card",2),i&2&&(c("ngIf",t.listActionIsValid),r(),c("ngIf",!t.listActionIsValid))},dependencies:[J,ue,z,Fe,fe,je,Re,Ne,Oe,nt,ze,O,Se,V,B,W,we,q,ke,Ue,$e,Be,We,Ce,Qi,Ji,Zi,R],encapsulation:2})}}return o})();var Ke=class extends Bt{constructor(){super(),this.code="",this.modePaiement=new Ye,this.location=new se,this.compteSource="",this.montant=null,this.date=null,this.motif="",this.locataire=new ce,this.banque=new Ot,this.caisse=new Nt}};var en=Zt(ti());var Gt=class extends Wt{};var Mt=(()=>{class o{constructor(e){this.http=e,this._API="",this._validate=!1,this._createActionIsValid=!0,this._editActionIsValid=!0,this._listActionIsValid=!0,this._deleteActionIsValid=!0,this._viewActionIsValid=!0,this._duplicateActionIsValid=!0,this._createAction="create",this._listAction="list",this._editAction="edit",this._deleteAction="delete",this._viewAction="view",this._duplicateAction="duplicate",this.API_PERMISSION=L.apiUrl+"modelPermissionUser/"}findAll(){return this.http.get(this.API)}findAllOptimized(){return this.http.get(this.API+"optimized")}findPaginatedByCriteria(e){return this.http.post(this.API+"find-paginated-by-criteria",e)}save(){return this.http.post(this.API,this.item)}delete(e){return this.http.delete(this.API+"id/"+e.id)}edit(){return this.http.put(this.API,this.item)}findByCriteria(e){return this.http.post(this.API+"find-by-criteria",e)}findByIdWithAssociatedList(e){return this.http.get(this.API+"id/"+e.id)}deleteMultiple(){return this.http.post(this.API+"multiple",this.selections)}exportPdf(e){return this.http.post(this.API+"exportPdf/",e,{responseType:"arraybuffer"})}hasActionPermission(e,i){return this.http.get(this.API_PERMISSION+"user/"+e+"/model/"+this.entityName+"/action/"+i)}importExcel(e){let i=new FormData;return i.append("file",e,e.name),this.http.post(this.API+"import-excel",i)}format(e){if(e!=null){let i=new Date(e),t=(0,en.default)(i).format(L.dateFormatEdit);console.log(t),e=new Date(t)}return e}get API(){return L.apiUrlRentalmanagementms1+"admin/avoir/"}get items(){return this._items==null&&(this._items=new Array),this._items}set items(e){this._items=e}get item(){return this._item==null&&(this._item=new Ke),this._item}set item(e){this._item=e}get selections(){return this._selections==null&&(this._selections=new Array),this._selections}set selections(e){this._selections=e}get createDialog(){return this._createDialog}set createDialog(e){this._createDialog=e}get editDialog(){return this._editDialog}set editDialog(e){this._editDialog=e}get viewDialog(){return this._viewDialog}set viewDialog(e){this._viewDialog=e}get criteria(){return this._criteria==null&&(this._criteria=new Gt),this._criteria}set criteria(e){this._criteria=e}setApi(e){this._API=e}set validate(e){this._validate=e}get createAction(){return this._createAction}set createAction(e){this._createAction=e}get listAction(){return this._listAction}set listAction(e){this._listAction=e}get editAction(){return this._editAction}set editAction(e){this._editAction=e}get deleteAction(){return this._deleteAction}set deleteAction(e){this._deleteAction=e}get createActionIsValid(){return this._createActionIsValid}set createActionIsValid(e){this._createActionIsValid=e}get editActionIsValid(){return this._editActionIsValid}set editActionIsValid(e){this._editActionIsValid=e}get listActionIsValid(){return this._listActionIsValid}set listActionIsValid(e){this._listActionIsValid=e}get deleteActionIsValid(){return this._deleteActionIsValid}set deleteActionIsValid(e){this._deleteActionIsValid=e}get viewAction(){return this._viewAction}set viewAction(e){this._viewAction=e}get duplicateAction(){return this._duplicateAction}set duplicateAction(e){this._duplicateAction=e}get viewActionIsValid(){return this._viewActionIsValid}set viewActionIsValid(e){this._viewActionIsValid=e}get duplicateActionIsValid(){return this._duplicateActionIsValid}set duplicateActionIsValid(e){this._duplicateActionIsValid=e}get entityName(){return this._entityName}set entityName(e){this._entityName=e}static{this.\u0275fac=function(i){return new(i||o)(Et(Dt))}}static{this.\u0275prov=Pt({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var tn=Zt(ti());var Ae=class extends Bt{constructor(){super(),this.code="",this.montant=null,this.date=null,this.motif="",this.compteSource=new Je,this.compteDestination=new Je,this.location=new se,this.banque=new Ot,this.caisse=new Nt,this.modePaiement=new Ye}};var Yt=class extends Wt{};var lt=(()=>{class o{constructor(e){this.http=e,this._API="",this._validate=!1,this._createActionIsValid=!0,this._editActionIsValid=!0,this._listActionIsValid=!0,this._deleteActionIsValid=!0,this._viewActionIsValid=!0,this._duplicateActionIsValid=!0,this._createAction="create",this._listAction="list",this._editAction="edit",this._deleteAction="delete",this._viewAction="view",this._duplicateAction="duplicate",this.API_PERMISSION=L.apiUrl+"modelPermissionUser/"}findAll(){return this.http.get(this.API)}findAllOptimized(){return this.http.get(this.API+"optimized")}findPaginatedByCriteria(e){return this.http.post(this.API+"find-paginated-by-criteria",e)}save(){return this.http.post(this.API,this.item)}delete(e){return this.http.delete(this.API+"id/"+e.id)}edit(){return this.http.put(this.API,this.item)}findByCriteria(e){return this.http.post(this.API+"find-by-criteria",e)}findByIdWithAssociatedList(e){return this.http.get(this.API+"id/"+e.id)}deleteMultiple(){return this.http.post(this.API+"multiple",this.selections)}exportPdf(e){return this.http.post(this.API+"exportPdf/",e,{responseType:"arraybuffer"})}hasActionPermission(e,i){return this.http.get(this.API_PERMISSION+"user/"+e+"/model/"+this.entityName+"/action/"+i)}importExcel(e){let i=new FormData;return i.append("file",e,e.name),this.http.post(this.API+"import-excel",i)}format(e){if(e!=null){let i=new Date(e),t=(0,tn.default)(i).format(L.dateFormatEdit);console.log(t),e=new Date(t)}return e}get API(){return L.apiUrlRentalmanagementms1+"admin/reglement/"}get items(){return this._items==null&&(this._items=new Array),this._items}set items(e){this._items=e}get item(){return this._item==null&&(this._item=new Ae),this._item}set item(e){this._item=e}get selections(){return this._selections==null&&(this._selections=new Array),this._selections}set selections(e){this._selections=e}get createDialog(){return this._createDialog}set createDialog(e){this._createDialog=e}get editDialog(){return this._editDialog}set editDialog(e){this._editDialog=e}get viewDialog(){return this._viewDialog}set viewDialog(e){this._viewDialog=e}get criteria(){return this._criteria==null&&(this._criteria=new Yt),this._criteria}set criteria(e){this._criteria=e}setApi(e){this._API=e}set validate(e){this._validate=e}get createAction(){return this._createAction}set createAction(e){this._createAction=e}get listAction(){return this._listAction}set listAction(e){this._listAction=e}get editAction(){return this._editAction}set editAction(e){this._editAction=e}get deleteAction(){return this._deleteAction}set deleteAction(e){this._deleteAction=e}get createActionIsValid(){return this._createActionIsValid}set createActionIsValid(e){this._createActionIsValid=e}get editActionIsValid(){return this._editActionIsValid}set editActionIsValid(e){this._editActionIsValid=e}get listActionIsValid(){return this._listActionIsValid}set listActionIsValid(e){this._listActionIsValid=e}get deleteActionIsValid(){return this._deleteActionIsValid}set deleteActionIsValid(e){this._deleteActionIsValid=e}get viewAction(){return this._viewAction}set viewAction(e){this._viewAction=e}get duplicateAction(){return this._duplicateAction}set duplicateAction(e){this._duplicateAction=e}get viewActionIsValid(){return this._viewActionIsValid}set viewActionIsValid(e){this._viewActionIsValid=e}get duplicateActionIsValid(){return this._duplicateActionIsValid}set duplicateActionIsValid(e){this._duplicateActionIsValid=e}get entityName(){return this._entityName}set entityName(e){this._entityName=e}static{this.\u0275fac=function(i){return new(i||o)(Et(Dt))}}static{this.\u0275prov=Pt({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var Kt=(()=>{class o{constructor(e,i,t,l,h,Pe,Ee,et,Tt){this.compteService=e,this.localService=i,this.locataireService=t,this.reglementService=l,this.caisseService=h,this.modePaiementService=Pe,this.service=Ee,this.locationService=et,this.platformId=Tt,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this.locationsFiltres=[],this.locatairesFiltres=[],this.compte=new Je,this._validLocationCode=!0,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){this.compteService.findPaginatedByCriteria(this.compteService.criteria).subscribe(e=>{this.comptes=e.list.filter(i=>i.code!=="CHARGE")}),this.locationService.findPaginatedByCriteria(this.locationService.criteria).subscribe(e=>{this.locations=e.list,this.locationService.items=e.list}),this.modePaiementService.findPaginatedByCriteria(this.modePaiementService.criteria).subscribe(e=>{this.modePaiementService.items=e.list}),this.localService.findPaginatedByCriteria(this.localService.criteria).subscribe(e=>this.localService.items=e.list),this.locataireService.findPaginatedByCriteria(this.locataireService.criteria).subscribe(e=>this.locataireService.items=e.list),this.reglementService.findPaginatedByCriteria(this.reglementService.criteria).subscribe(e=>this.reglementService.items=e.list)}initCode(){this.item.code=`AVOIR-${Math.random().toFixed(6).toString()}`}save(){if(this.submitted=!0,this.initCode(),this.validateForm(),this.item.banque=this.compte.banque,this.item.caisse=this.compte.caisse,this.item.compteSource=this.compte.code,this.locataire!=null&&this.local!=null){this.item.locataire=this.locataire;let e=this.locationService.items?.find(i=>i&&i.local&&i.locataire&&i.local.code===this.local?.code&&i.locataire.code===this.locataire?.code);if(e)this.item.location=e;else{this.messageService.add({severity:"error",summary:"Erreur",detail:"Aucune location trouv\xE9e pour ce local et ce locataire"});return}}console.log(this.compte),this.errorMessages.length===0?this.saveWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}saveWithShowOption(e){this.service.save().subscribe(i=>{i!=null?(this.messageService.add({severity:"success",summary:"",detail:"Avoir cr\xE9\xE9 avec Success"}),this.findPaginatedByCriteria(),this.createDialog=!1,this.submitted=!1,this.item=new Ke,this.item.caisse=null,this.item.banque=null,this.local=new mt,this.locataire=new ce,this.location=new se,this.compte=new Je):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},i=>{this.messageService.add({severity:"error",summary:"Erreurs",detail:"Erreur lors de la cr\xE9ation de l'avoir"})})}onLocalChange(e){if(!e.value){this.locationsFiltres=[],this.locatairesFiltres=[];return}let i=e.value.id;this.locationsFiltres=this.locations.filter(t=>t.local.id===i),this.locatairesFiltres=this.locataires.filter(t=>this.locations.some(l=>l.local.id===i))}findPaginatedByCriteria(){this.service.findPaginatedByCriteria(this.criteria).subscribe(e=>{this.items=e.list},e=>console.log(e))}hideCreateDialog(){this.createDialog=!1,this.setValidation(!0)}setValidation(e){}validateForm(){this.errorMessages=new Array}openCreateLocation(e){return A(this,null,function*(){(yield this.roleService.isPermitted("Location","add"))?(this.location=new se,this.createLocationDialog=!0):this.messageService.add({severity:"error",summary:"erreur",detail:"probl\xE8me de permission"})})}get location(){return this.locationService.item}set location(e){this.locationService.item=e}get locations(){return this.locationService.items}set locations(e){this.locationService.items=e}get createLocationDialog(){return this.locationService.createDialog}set createLocationDialog(e){this.locationService.createDialog=e}get validLocationCode(){return this._validLocationCode}set validLocationCode(e){this._validLocationCode=e}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}get comptes(){return this.compteService.items}set comptes(e){this.compteService.items=e}get locals(){return this.localService.items}set locals(e){this.localService.items=e}get locataires(){return this.locataireService.items}set locataires(e){this.locataireService.items=e}get modePaiements(){return this.modePaiementService.items}set modePaiements(e){this.modePaiementService.items=e}cancel(){this.item=new Ke,this.item.caisse=null,this.item.banque=null,this.local=new mt,this.locataire=new ce,this.location=new se,this.compte=new Je,this.navigateToList()}navigateToList(){this.router.navigate(["/app/admin/locataire/avoir/list"])}static{this.\u0275fac=function(i){return new(i||o)(w(xe),w(vt),w(ye),w(lt),w(Ft),w(kt),w(Mt),w(de),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-avoir-create-admin"]],standalone:!1,decls:61,vars:82,consts:[[1,"container","mx-auto","p-4"],[1,"bg-white","shadow-md","rounded-lg"],[1,"border-b","p-4","flex","justify-between","items-center","bg-blue-200","text-white"],[1,"text-xl","font-semibold"],[1,"text-white","hover:bg-blue-600","p-2","rounded-md",3,"click"],[1,"pi","pi-times"],[1,"p-4"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["mode","decimal","locale","fr-FR","currency","MAD","id","1",3,"ngModelChange","minFractionDigits","maxFractionDigits","prefix","suffix","min","step","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],["appendTo","body","id","2",1,"w-full",3,"ngModelChange","showTime","showSeconds","placeholder","ngModel","dateFormat"],["for","4",1,"text-sm","font-semibold"],["appendTo","body","id","4","filterMatchMode","contains","optionLabel","label",1,"w-full",3,"onChange","ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","5",1,"text-sm","font-semibold"],["appendTo","body","id","5","filterMatchMode","contains","optionLabel","fullName",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["appendTo","body","id","4","filterMatchMode","contains","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","source",1,"text-sm","font-semibold"],["appendTo","body","id","source","filterMatchMode","contains","optionLabel","code",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],[1,"field","flex","flex-col","gap-2"],["for","7",1,"text-sm","font-semibold"],["id","7","pTextarea","","rows","5","cols","30",3,"ngModelChange","placeholder","ngModel"],[1,"flex","justify-end","space-x-3","p-4","border-t"],["icon","pi pi-check","styleClass","p-button-primary",3,"click","label"],["icon","pi pi-times","styleClass","p-button-secondary",3,"click","label"]],template:function(i,t){i&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),d(4),s(5,"translate"),n(),a(6,"button",4),I("click",function(){return t.cancel()}),f(7,"i",5),n()(),f(8,"p-toast"),a(9,"div",6)(10,"p-tabView")(11,"p-tabPanel",7),s(12,"translate"),a(13,"div",8)(14,"div",9)(15,"label",10),d(16),s(17,"translate"),n(),a(18,"p-inputNumber",11),s(19,"translate"),C("ngModelChange",function(h){return b(t.item.montant,h)||(t.item.montant=h),h}),n()(),a(20,"div",9)(21,"label",12),d(22),s(23,"translate"),n(),a(24,"p-calendar",13),s(25,"translate"),C("ngModelChange",function(h){return b(t.item.date,h)||(t.item.date=h),h}),n()(),a(26,"div",9)(27,"label",14),d(28),s(29,"translate"),n(),a(30,"p-dropdown",15),s(31,"translate"),I("onChange",function(h){return t.onLocalChange(h)}),C("ngModelChange",function(h){return b(t.local,h)||(t.local=h),h}),n()(),a(32,"div",9)(33,"label",16),d(34),s(35,"translate"),n(),a(36,"p-dropdown",17),s(37,"translate"),C("ngModelChange",function(h){return b(t.locataire,h)||(t.locataire=h),h}),n()(),a(38,"div",9)(39,"label",14),d(40),s(41,"translate"),n(),a(42,"p-dropdown",18),s(43,"translate"),C("ngModelChange",function(h){return b(t.item.modePaiement,h)||(t.item.modePaiement=h),h}),n()(),a(44,"div",9)(45,"label",19),d(46),s(47,"translate"),n(),a(48,"p-dropdown",20),s(49,"translate"),C("ngModelChange",function(h){return b(t.compte,h)||(t.compte=h),h}),n()(),a(50,"div",21)(51,"label",22),d(52),s(53,"translate"),n(),a(54,"textarea",23),s(55,"translate"),C("ngModelChange",function(h){return b(t.item.motif,h)||(t.item.motif=h),h}),n()()()()()(),a(56,"div",24)(57,"p-button",25),s(58,"translate"),I("click",function(){return t.save()}),n(),a(59,"p-button",26),s(60,"translate"),I("click",function(){return t.cancel()}),n()()()()),i&2&&(r(4),u(p(5,46,"avoir.tabPan")),r(7),g("header",p(12,48,"avoir.tabPan")),r(5),u(p(17,50,"avoir.montant")),r(2),g("placeholder",p(19,52,"avoir.montant")),c("minFractionDigits",2)("maxFractionDigits",4)("prefix","")("suffix"," MAD")("min",0)("step",.01),x("ngModel",t.item.montant),r(4),u(p(23,54,"avoir.date")),r(2),g("placeholder",p(25,56,"avoir.date")),g("dateFormat",t.dateFormat),c("showTime",!0)("showSeconds",!1),x("ngModel",t.item.date),r(4),u(p(29,58,"avoir.local")),r(2),g("placeholder",p(31,60,"avoir.local")),c("options",t.locals),x("ngModel",t.local),c("filter",!0)("showClear",!0),r(4),u(p(35,62,"avoir.locataire")),r(2),g("placeholder",p(37,64,"avoir.locataire")),c("options",t.locatairesFiltres),x("ngModel",t.locataire),c("filter",!0)("showClear",!0),r(4),u(p(41,66,"reglement.modepaiement")),r(2),g("placeholder",p(43,68,"reglement.modepaiement")),c("options",t.modePaiements),x("ngModel",t.item.modePaiement),c("filter",!0)("showClear",!0),r(4),u(p(47,70,"Compte Source")),r(2),g("placeholder",p(49,72,"Compte Source")),c("options",t.comptes),x("ngModel",t.compte),c("filter",!0)("showClear",!0),r(4),u(p(53,74,"local.description")),r(2),g("placeholder",p(55,76,"local.description")),x("ngModel",t.item.motif),r(3),g("label",p(58,78,"validate")),r(2),g("label",p(60,80,"cancel")))},dependencies:[ue,ht,V,B,W,re,Y,X,Vt,ee,q,R],encapsulation:2})}}return o})();var Jl=()=>({width:"70vw"});function Zl(o,S){if(o&1){let e=T();a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),a(8,"p-inputNumber",7),s(9,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.montant,t)||(l.item.montant=t),v(t)}),n()(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),n(),a(14,"p-calendar",9),s(15,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.date,t)||(l.item.date=t),v(t)}),n()(),a(16,"div",5)(17,"label",10),d(18),s(19,"translate"),n(),a(20,"input",11),s(21,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.motif,t)||(l.item.motif=t),v(t)}),n()(),a(22,"div",5)(23,"label",12),d(24),s(25,"translate"),n(),a(26,"p-dropdown",13),s(27,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.location,t)||(l.item.location=t),v(t)}),n()()()()()}if(o&2){let e=m();r(),g("header",p(2,19,"avoir.tabPan")),r(5),u(p(7,21,"avoir.montant")),r(2),g("placeholder",p(9,23,"avoir.montant")),x("ngModel",e.item.montant),r(4),u(p(13,25,"avoir.date")),r(2),g("placeholder",p(15,27,"avoir.date")),g("dateFormat",e.dateFormat),c("showTime",!0)("showSeconds",!1),x("ngModel",e.item.date),r(4),u(p(19,29,"avoir.motif")),r(2),g("placeholder",p(21,31,"avoir.motif")),x("ngModel",e.item.motif),r(4),u(p(25,33,"avoir.location")),r(2),g("placeholder",p(27,35,"avoir.location")),c("options",e.locations),x("ngModel",e.item.location),c("filter",!0)("showClear",!0)}}function $l(o,S){if(o&1){let e=T();a(0,"div",14)(1,"button",15),s(2,"translate"),I("click",function(){_(e);let t=m();return v(t.edit())}),f(3,"i",16),d(4),s(5,"translate"),n(),a(6,"button",17),I("click",function(){_(e);let t=m();return v(t.hideEditDialog())}),f(7,"i",18),d(8),s(9,"translate"),n()()}o&2&&(r(),g("label",p(2,3,"validate")),r(3),H(" ",p(5,5,"validate")," "),r(4),H(" ",p(9,7,"cancel")," "))}var on=(()=>{class o{constructor(e,i,t){this.service=e,this.locationService=i,this.platformId=t,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validLocationCode=!0,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){this.locationService.findAll().subscribe(e=>this.locations=e)}prepareEdit(){this.item.date=this.service.format(this.item.date)}edit(){this.submitted=!0,this.prepareEdit(),this.validateForm(),this.errorMessages.length===0?this.editWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}editWithShowOption(e){this.service.edit().subscribe(i=>{let t=this.items.findIndex(l=>l.id===this.item.id);this.items[t]=i,this.editDialog=!1,this.submitted=!1,this.item=new Ke},i=>{console.log(i)})}hideEditDialog(){this.item=new Ke,this.editDialog=!1,this.setValidation(!0)}setValidation(e){}validateForm(){this.errorMessages=new Array}openCreateLocation(e){return A(this,null,function*(){(yield this.roleService.isPermitted("Location","edit"))?(this.location=new se,this.createLocationDialog=!0):this.messageService.add({severity:"error",summary:"erreur",detail:"probl\xE8me de permission"})})}get location(){return this.locationService.item}set location(e){this.locationService.item=e}get locations(){return this.locationService.items}set locations(e){this.locationService.items=e}get createLocationDialog(){return this.locationService.createDialog}set createLocationDialog(e){this.locationService.createDialog=e}get validLocationCode(){return this._validLocationCode}set validLocationCode(e){this._validLocationCode=e}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}static{this.\u0275fac=function(i){return new(i||o)(w(Mt),w(de),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-avoir-edit-admin"]],standalone:!1,decls:4,vars:11,consts:[["closable","false","styleClass","p-fluid",3,"visibleChange","visible","header","modal","maximizable","draggable","resizable"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["id","1",3,"ngModelChange","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],["appendTo","body","id","2",1,"w-full",3,"ngModelChange","showTime","showSeconds","placeholder","ngModel","dateFormat"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","id","3",3,"ngModelChange","placeholder","ngModel"],["for","4",1,"text-sm","font-semibold"],["appendTo","body","id","4","filterMatchMode","contains","optionLabel","code",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],[1,"flex","justify-end","space-x-3","p-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-primary",3,"click","label"],[1,"pi","pi-check"],[1,"border","border-gray-400","text-gray-600","hover:bg-gray-200","px-4","py-2","rounded-md",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.editDialog,h)||(t.editDialog=h),h}),M(2,Zl,28,37,"ng-template",1)(3,$l,10,9,"ng-template",2),n()),i&2&&(U(E(10,Jl)),g("header",p(1,8,"avoir.tabPan")),x("visible",t.editDialog),c("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1))},dependencies:[z,Q,O,V,B,W,re,Y,X,ee,q,R],encapsulation:2})}}return o})();var ts=()=>({width:"70vw"});function is(o,S){o&1&&(a(0,"tr")(1,"th"),d(2,"Code"),n(),a(3,"th"),d(4,"Label"),n(),a(5,"th"),d(6,"Montant"),n(),a(7,"th"),d(8,"Date"),n(),a(9,"th"),d(10,"Type charge"),n(),a(11,"th"),d(12,"Local"),n(),a(13,"th"),d(14,"Is paid"),n(),a(15,"th"),d(16,"Description"),n()())}function ns(o,S){o&1&&f(0,"i",20)}function as(o,S){o&1&&f(0,"i",21)}function rs(o,S){if(o&1&&(a(0,"tr")(1,"td"),d(2),n(),a(3,"td"),d(4),n(),a(5,"td"),d(6),n(),a(7,"td"),d(8),s(9,"date"),n(),a(10,"td"),d(11),n(),a(12,"td"),d(13),n(),a(14,"td"),M(15,ns,1,0,"i",18)(16,as,1,0,"i",19),n(),a(17,"td"),d(18),n()()),o&2){let e=S.$implicit,i=m(2);r(2),u(e.code),r(2),u(e.label),r(2),u(e.montant),r(2),u(Qe(9,9,e.date,i.dateFormatColumn)),r(3),u(e.typeCharge==null?null:e.typeCharge.label),r(2),u(e.local==null?null:e.local.code),r(2),c("ngIf",e.isPaid),r(),c("ngIf",!e.isPaid),r(2),u(e.description)}}function os(o,S){if(o&1&&(a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),f(8,"input",7),s(9,"translate"),n(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),n(),f(14,"input",9),s(15,"translate"),n(),a(16,"div",5)(17,"label",10),d(18),s(19,"translate"),n(),f(20,"input",11),s(21,"translate"),n(),a(22,"div",5)(23,"label",12),d(24),s(25,"translate"),n(),f(26,"p-inputNumber",13),s(27,"translate"),n()()(),a(28,"p-tabPanel",3),s(29,"translate"),a(30,"div",14)(31,"p-table",15),M(32,is,17,0,"ng-template",16)(33,rs,19,12,"ng-template",17),n()()()()),o&2){let e=m();r(),g("header",p(2,20,"compteCharge.tabPan")),r(5),u(p(7,22,"compteCharge.code")),r(2),g("placeholder",p(9,24,"compteCharge.code")),c("disabled",!0)("ngModel",e.item.code),r(4),u(p(13,26,"compteCharge.label")),r(2),g("placeholder",p(15,28,"compteCharge.label")),c("disabled",!0)("ngModel",e.item.label),r(4),u(p(19,30,"compteCharge.nom")),r(2),g("placeholder",p(21,32,"compteCharge.nom")),c("disabled",!0)("ngModel",e.item.nom),r(4),u(p(25,34,"compteCharge.solde")),r(2),g("placeholder",p(27,36,"compteCharge.solde")),c("disabled",!0)("ngModel",e.item.solde),r(2),g("header",p(29,38,"compteCharge.charges")),r(3),c("value",e.item.charges)("scrollable",!0)}}function ls(o,S){if(o&1){let e=T();a(0,"div",22)(1,"div")(2,"button",23),I("click",function(){_(e);let t=m();return v(t.hideViewDialog())}),f(3,"i",24),d(4," Annuler "),n()()()}}var ln=(()=>{class o{constructor(e,i){this.service=e,this.locationService=i,this._submitted=!1,this._errorMessages=new Array,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){}get location(){return this.locationService.item}set location(e){this.locationService.item=e}get locations(){return this.locationService.items}set locations(e){this.locationService.items=e}hideViewDialog(){this.item=new Ke,this.viewDialog=!1}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatView}get dateFormatColumn(){return L.dateFormatList}static{this.\u0275fac=function(i){return new(i||o)(w(Mt),w(de))}}static{this.\u0275cmp=D({type:o,selectors:[["app-avoir-view-admin"]],standalone:!1,decls:4,vars:8,consts:[["closable","false","styleClass","p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"field","flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","1",3,"disabled","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","2",3,"disabled","placeholder","ngModel"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","3",3,"disabled","placeholder","ngModel"],["for","5",1,"text-sm","font-semibold"],["id","5",3,"disabled","placeholder","ngModel"],[1,"card","p-4"],["scrollHeight","200px",3,"value","scrollable"],["pTemplate","header"],["pTemplate","body"],["class","pi pi-check checked-toogle",4,"ngIf"],["class","pi pi-times unchecked-toogle",4,"ngIf"],[1,"pi","pi-check","checked-toogle"],[1,"pi","pi-times","unchecked-toogle"],[1,"flex","justify-end","p-4"],[1,"border","border-gray-400","font-semibold","py-2","px-4","rounded","shadow",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.viewDialog,h)||(t.viewDialog=h),h}),M(2,os,34,40,"ng-template",1)(3,ls,5,0,"ng-template",2),n()),i&2&&(U(E(7,ts)),g("header",p(1,5,"compteCharge.tabPan")),x("visible",t.viewDialog),c("modal",!0))},dependencies:[J,z,fe,Q,O,V,B,W,Y,X,q,P,R],encapsulation:2})}}return o})();var ps=()=>["montant","date","motif","locationcode"],ds=()=>[10,25,50],cs=()=>({width:"450px"});function ms(o,S){if(o&1){let e=T();a(0,"button",16),s(1,"translate"),I("click",function(){_(e);let t=m(2);return v(t.showSearch())}),n()}if(o&2){let e=m(2);Z("label"," ",p(1,4,"search"),""),Z("icon","pi pi-",e.findByCriteriaShow?"angle-down":"angle-right","")}}function us(o,S){if(o&1&&(a(0,"div",17),f(1,"p-splitButton",18),s(2,"translate"),n()),o&2){let e=m(2);r(),Z("label"," ",p(2,3,"export"),""),c("model",e.excelPdfButons)}}function gs(o,S){if(o&1){let e=T();a(0,"div",19)(1,"div",20)(2,"label",21),d(3),s(4,"translate"),n(),a(5,"p-inputNumber",22),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.montantMin,t)||(l.criteria.montantMin=t),v(t)}),n()(),a(6,"div",20)(7,"label",23),d(8),s(9,"translate"),n(),a(10,"p-inputNumber",24),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.montantMax,t)||(l.criteria.montantMax=t),v(t)}),n()(),a(11,"div",20)(12,"label",25),d(13),s(14,"translate"),n(),a(15,"p-calendar",26),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.dateFrom,t)||(l.criteria.dateFrom=t),v(t)}),n()(),a(16,"div",20)(17,"label",27),d(18),s(19,"translate"),n(),a(20,"p-calendar",28),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.dateTo,t)||(l.criteria.dateTo=t),v(t)}),n()(),a(21,"div",20)(22,"label",29),d(23),s(24,"translate"),n(),a(25,"input",30),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.motifLike,t)||(l.criteria.motifLike=t),v(t)}),n()(),a(26,"div",20)(27,"label",31),d(28),s(29,"translate"),n(),a(30,"p-dropdown",32),s(31,"translate"),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.location,t)||(l.criteria.location=t),v(t)}),n()(),a(32,"div",33)(33,"button",34),s(34,"translate"),I("click",function(){_(e);let t=m(2);return v(t.findPaginatedByCriteria())}),f(35,"i",35),d(36),s(37,"translate"),n()()()}if(o&2){let e=m(2);r(3),u(p(4,20,"avoir.montantMin")),r(2),x("ngModel",e.criteria.montantMin),r(3),u(p(9,22,"avoir.montantMax")),r(2),x("ngModel",e.criteria.montantMax),r(3),u(p(14,24,"avoir.dateMin")),r(2),x("ngModel",e.criteria.dateFrom),c("showIcon",!0),r(3),u(p(19,26,"avoir.dateMax")),r(2),x("ngModel",e.criteria.dateTo),c("showIcon",!0),r(3),u(p(24,28,"avoir.motif")),r(2),x("ngModel",e.criteria.motifLike),r(3),u(p(29,30,"avoir.location")),r(2),g("placeholder",p(31,32,"avoir.location")),c("options",e.locations),x("ngModel",e.criteria.location),c("filter",!0)("showClear",!0),r(3),g("label",p(34,34,"validate")),r(3),H(" ",p(37,36,"validate")," ")}}function hs(o,S){if(o&1){let e=T();a(0,"div",36)(1,"h5",37),d(2),s(3,"translate"),n(),a(4,"span",38)(5,"p-iconfield",39),f(6,"p-inputicon",40),a(7,"input",41),s(8,"translate"),I("input",function(t){_(e),m();let l=De(9);return v(l.filterGlobal(t.target.value,"contains"))}),n()()()()}o&2&&(r(2),u(p(3,2,"avoir.header")),r(5),g("placeholder",p(8,4,"searchInput")))}function _s(o,S){o&1&&(a(0,"tr")(1,"th",42),f(2,"p-tableHeaderCheckbox"),n(),a(3,"th",43)(4,"div",44)(5,"span",45),d(6),s(7,"translate"),n(),f(8,"p-sortIcon",46),n()(),a(9,"th",47)(10,"div",44)(11,"span",45),d(12),s(13,"translate"),n(),f(14,"p-sortIcon",48),n()(),a(15,"th",49)(16,"div",44)(17,"span",45),d(18),s(19,"translate"),n()()(),a(20,"th",50)(21,"div",44)(22,"span",45),d(23),s(24,"translate"),n()()(),a(25,"th",50)(26,"div",44)(27,"span",45),d(28),s(29,"translate"),n()()(),a(30,"th"),d(31,"Actions"),n()()),o&2&&(r(6),u(p(7,5,"avoir.montant")),r(6),u(p(13,7,"avoir.date")),r(6),u(p(19,9,"avoir.motif")),r(5),u(p(24,11,"location.locataire")),r(5),u(p(29,13,"location.local")))}function vs(o,S){if(o&1){let e=T();a(0,"button",53),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.delete(t))}),n()}}function fs(o,S){if(o&1&&(a(0,"tr")(1,"td"),f(2,"p-tableCheckbox",51),n(),a(3,"td"),d(4),n(),a(5,"td"),d(6),s(7,"date"),n(),a(8,"td"),d(9),n(),a(10,"td"),d(11),n(),a(12,"td"),d(13),n(),a(14,"td"),M(15,vs,1,0,"button",52),n()()),o&2){let e=S.$implicit,i=m(2);r(2),c("value",e),r(2),u(e.montant),r(2),u(Qe(7,7,e.date,"dd/MM/yyyy HH:mm")),r(3),u(e.motif),r(2),u(e.locataire==null?null:e.locataire.fullName),r(2),u(e.location==null||e.location.local==null?null:e.location.local.label),r(2),c("ngIf",i.deleteActionIsValid)}}function ys(o,S){if(o&1){let e=T();a(0,"p-paginator",54),I("onPageChange",function(t){_(e);let l=m(2);return v(l.onPage(t))}),n(),a(1,"div",55),d(2),n()}if(o&2){let e=m(2);c("rows",10)("totalRecords",e.totalRecords),r(2),Ve(" En totale il ",(e.items&&e.totalRecords==1,"y a")," ",e.items?e.totalRecords:0," ",e.items?e.totalRecords==1?"avoir":"avoirs":0,". ")}}function xs(o,S){o&1&&f(0,"app-avoir-create-admin")}function bs(o,S){o&1&&f(0,"app-avoir-edit-admin")}function Cs(o,S){o&1&&f(0,"app-avoir-view-admin")}function Ss(o,S){if(o&1){let e=T();a(0,"div",3)(1,"div",4),f(2,"p-toast"),a(3,"div",5)(4,"p-toolbar",6),M(5,ms,2,6,"ng-template",7)(6,us,3,5,"ng-template",8),n(),M(7,gs,38,38,"div",9),a(8,"p-table",10,0),s(10,"translate"),C("selectionChange",function(t){_(e);let l=m();return b(l.selections,t)||(l.selections=t),v(t)}),M(11,hs,9,6,"ng-template",11)(12,_s,32,15,"ng-template",12)(13,fs,16,10,"ng-template",13)(14,ys,3,5,"ng-template",14),n()(),M(15,xs,1,0,"app-avoir-create-admin",15)(16,bs,1,0,"app-avoir-edit-admin",15)(17,Cs,1,0,"app-avoir-view-admin",15),f(18,"p-confirmDialog"),n()()}if(o&2){let e=m();r(7),c("ngIf",e.findByCriteriaShow),r(),g("currentPageReportTemplate",p(10,16,"les \xE9l\xE9ments de {first} \xE0 {last} sur {totalRecords} ")),c("value",e.items)("columns",e.cols)("rows",8)("paginator",!1)("globalFilterFields",E(18,ps)),x("selection",e.selections),c("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",E(19,ds)),r(7),c("ngIf",e.createDialog&&e.createActionIsValid),r(),c("ngIf",e.editDialog&&e.editActionIsValid),r(),c("ngIf",e.viewDialog&&e.viewActionIsValid),r(),U(E(20,cs))}}function ws(o,S){o&1&&(a(0,"p-card",56)(1,"p",57),d(2," You don't have permission to access ! "),n()())}var sn=(()=>{class o{constructor(e,i,t){this.service=e,this.locationService=i,this.platformId=t,this.fileName="Avoir",this.findByCriteriaShow=!1,this.cols=[],this.exportData=[],this.criteriaData=[],this._totalRecords=0,this.enableSecurity=!1,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.authService=y.injector.get(He),this.exportService=y.injector.get(Ie)}ngOnInit(){this.findPaginatedByCriteria(),this.initExport(),this.initCol(),this.loadLocation()}onExcelFileSelected(e){let i=e.target;i.files&&i.files.length>0&&(this.excelFile=i.files[0])}importExcel(){this.excelFile&&this.service.importExcel(this.excelFile).subscribe(e=>{this.items=e,this.messageService.add({severity:"success",summary:"Success",detail:"File uploaded successfully!",life:3e3})},e=>{this.messageService.add({severity:"error",summary:"Error",detail:"File uploaded with Error!",life:3e3})})}findPaginatedByCriteria(){this.service.findPaginatedByCriteria(this.criteria).subscribe(e=>{this.items=e.list,this.totalRecords=e.dataSize,this.selections=new Array},e=>console.log(e))}onPage(e){this.criteria.page=e.page,this.criteria.maxResults=e.rows,this.findPaginatedByCriteria()}edit(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,console.log(i),this.editDialog=!0})})}view(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,this.viewDialog=!0})})}openCreate(){return A(this,null,function*(){this.item=new Ke,this.createDialog=!0})}deleteMultiple(){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer ces \xE9l\xE9ments ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.deleteMultiple().subscribe(()=>{for(let e of this.selections){let i=this.items.findIndex(t=>t.id===e.id);this.items.splice(i,1)}this.selections=new Array,this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Les \xE9l\xE9ments s\xE9lectionn\xE9s ont \xE9t\xE9 supprim\xE9s",life:3e3})},e=>console.log(e))}})})}isSelectionDisabled(){return this.selections==null||this.selections.length==0}delete(e){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer cet \xE9l\xE9ment ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.delete(e).subscribe(i=>{if(i>0){let t=this.items.indexOf(e);t>-1&&this.items.splice(t,1),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Element Supprim\xE9",life:3e3})}},i=>console.log(i))}})})}duplicate(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.initDuplicate(i),this.item=i,this.item.id=null,this.createDialog=!0})})}initExport(){this.excelPdfButons=[{label:"CSV",icon:"pi pi-file",command:()=>{this.prepareColumnExport(),this.exportService.exporterCSV(this.criteriaData,this.exportData,this.fileName)}},{label:"XLS",icon:"pi pi-file-excel",command:()=>{this.prepareColumnExport(),this.exportService.exporterExcel(this.criteriaData,this.exportData,this.fileName)}},{label:"PDF",icon:"pi pi-file-pdf",command:()=>{this.prepareColumnExport(),this.exportService.exporterPdf(this.criteriaData,this.exportData,this.fileName)}}]}exportPdf(e){this.service.exportPdf(e).subscribe(i=>{let t=new Blob([i],{type:"application/pdf"}),l=window.URL.createObjectURL(t),h=document.createElement("a");h.href=l,h.download=this.pdfName,h.setAttribute("target","_blank"),h.click(),window.URL.revokeObjectURL(l)},i=>{console.error(i)})}showSearch(){this.findByCriteriaShow=!this.findByCriteriaShow}update(){this.service.edit().subscribe(e=>{let i=this.items.findIndex(t=>t.id===this.item.id);this.items[i]=e,this.editDialog=!1,this.item=new Ke},e=>{console.log(e)})}save(){this.service.save().subscribe(e=>{e!=null?(this.items.push(le({},e)),this.createDialog=!1,this.item=new Ke):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},e=>{console.log(e)})}initCol(){this.cols=[{field:"montant",header:"Montant"},{field:"date",header:"Date"},{field:"motif",header:"Motif"},{field:"location?.code",header:"Location"}]}loadLocation(){return A(this,null,function*(){this.locationService.findAllOptimized().subscribe(e=>this.locations=e,e=>console.log(e))})}initDuplicate(e){}prepareColumnExport(){this.service.findByCriteria(this.criteria).subscribe(e=>{this.exportData=e.map(i=>({Montant:i.montant,Date:this.datePipe.transform(i.date,"dd/MM/yyyy hh:mm"),Motif:i.motif,Location:i.location?.code})),this.criteriaData=[{"Montant Min":this.criteria.montantMin?this.criteria.montantMin:L.emptyForExport,"Montant Max":this.criteria.montantMax?this.criteria.montantMax:L.emptyForExport,"Date Min":this.criteria.dateFrom?this.datePipe.transform(this.criteria.dateFrom,this.dateFormat):L.emptyForExport,"Date Max":this.criteria.dateTo?this.datePipe.transform(this.criteria.dateTo,this.dateFormat):L.emptyForExport,Motif:this.criteria.motif?this.criteria.motif:L.emptyForExport}]})}get items(){return this.service.items}set items(e){this.service.items=e}get selections(){return this.service.selections}set selections(e){this.service.selections=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatList}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e}get pdfName(){return this._pdfName}set pdfName(e){this._pdfName=e}get createActionIsValid(){return this.service.createActionIsValid}set createActionIsValid(e){this.service.createActionIsValid=e}get editActionIsValid(){return this.service.editActionIsValid}set editActionIsValid(e){this.service.editActionIsValid=e}get listActionIsValid(){return this.service.listActionIsValid}set listActionIsValid(e){this.service.listActionIsValid=e}get deleteActionIsValid(){return this.service.deleteActionIsValid}set deleteActionIsValid(e){this.service.deleteActionIsValid=e}get viewActionIsValid(){return this.service.viewActionIsValid}set viewActionIsValid(e){this.service.viewActionIsValid=e}get duplicateActionIsValid(){return this.service.duplicateActionIsValid}set duplicateActionIsValid(e){this.service.duplicateActionIsValid=e}get createAction(){return this.service.createAction}set createAction(e){this.service.createAction=e}get listAction(){return this.service.listAction}set listAction(e){this.service.listAction=e}get editAction(){return this.service.editAction}set editAction(e){this.service.editAction=e}get deleteAction(){return this.service.deleteAction}set deleteAction(e){this.service.deleteAction=e}get viewAction(){return this.service.viewAction}set viewAction(e){this.service.viewAction=e}get duplicateAction(){return this.service.duplicateAction}set duplicateAction(e){this.service.duplicateAction=e}get entityName(){return this.service.entityName}set entityName(e){this.service.entityName=e}static{this.\u0275fac=function(i){return new(i||o)(w(Mt),w(de),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-avoir-list-admin"]],standalone:!1,decls:2,vars:2,consts:[["dt",""],["class","grid",4,"ngIf"],["header","Permission not allowed",4,"ngIf"],[1,"grid"],[1,"col-12"],[1,"card"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 border border-surface rounded-lg",4,"ngIf"],["dataKey","id","styleClass","p-datatable-customers","selectionMode","multiple",3,"selectionChange","value","columns","rows","paginator","globalFilterFields","selection","rowHover","currentPageReportTemplate","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[4,"ngIf"],["pButton","","pRipple","",1,"p-button-secondary","mr-2","mb-2",3,"click","label","icon"],[1,"flex"],["icon","pi pi-download","styleClass","p-button-secondary",3,"label","model"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","p-4","border","border-surface","rounded-lg"],[1,"flex","flex-col","gap-2"],["for","1-1",1,"text-sm","font-semibold"],["mode","decimal","id","1-1",3,"ngModelChange","ngModel"],["for","1-2",1,"text-sm","font-semibold"],["mode","decimal","id","1-2",3,"ngModelChange","ngModel"],["for","2-1",1,"text-sm","font-semibold"],["id","2-1","dateFormat","dd-MM-yy",1,"p-fluid",3,"ngModelChange","ngModel","showIcon"],["for","2-2",1,"text-sm","font-semibold"],["id","2-2","dateFormat","dd-MM-yy",1,"p-fluid",3,"ngModelChange","ngModel","showIcon"],["for","3",1,"text-sm","font-semibold"],["pInputText","","id","3","type","text",3,"ngModelChange","ngModel"],["for","4-2",1,"text-sm","font-semibold"],["id","4","optionLabel","code",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],[1,"col-span-full","flex","justify-end","mt-4"],["pButton","","pRipple","",1,"px-4","py-2","rounded-md",3,"click","label"],[1,"pi","pi-sort-amount-down"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","p-2","gap-4"],[1,"text-center","md:text-left"],[1,"relative","w-full","md:w-auto"],["iconPosition","left",1,"w-full","md:w-auto"],[1,"pi","pi-search"],["pInputText","","type","text",1,"w-full","md:w-72","border","border-gray-300","rounded-md","p-2","focus:ring","focus:ring-blue-300",3,"input","placeholder"],[2,"width","3rem"],["pSortableColumn","montant"],[1,"p-d-flex","p-jc-between","p-ai-center"],[1,"mr-2"],["field","montant"],["pSortableColumn","date"],["field","date"],["pSortableColumn","motif"],["pSortableColumn","location"],[3,"value"],["pButton","","pRipple","","icon","pi pi-trash","class","p-button-rounded p-button-danger mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","mr-2",3,"click"],[3,"onPageChange","rows","totalRecords"],[1,"p-d-flex","p-ai-center","p-jc-between"],["header","Permission not allowed"],[1,"m-0"]],template:function(i,t){i&1&&M(0,Ss,19,21,"div",1)(1,ws,3,0,"p-card",2),i&2&&(c("ngIf",t.listActionIsValid),r(),c("ngIf",!t.listActionIsValid))},dependencies:[J,ue,z,Fe,fe,je,Re,Ne,Oe,ze,O,Se,V,B,W,we,re,ee,q,ke,Ue,Be,We,Ce,Kt,on,ln,P,R],encapsulation:2})}}return o})();var Qt=(()=>{class o{constructor(e,i,t,l,h,Pe,Ee,et,Tt,Jt){this.compteService=e,this.CompteLocataireService=i,this.service=t,this.banqueService=l,this.modePaiementService=h,this.localService=Pe,this.locataireService=Ee,this.caisseService=et,this.locationService=Tt,this.platformId=Jt,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validLocationCode=!0,this.locationsFiltres=[],this.locatairesFiltres=[],this.compte=new Je,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){this.compteService.findAll().subscribe(e=>{this.comptes=e.filter(i=>i.code!=="CHARGE")}),this.locationService.findPaginatedByCriteria(this.locationService.criteria).subscribe(e=>{this.locations=e.list,this.locationService.items=e.list}),this.localService.findPaginatedByCriteria(this.localService.criteria).subscribe(e=>this.localService.items=e.list),this.locataireService.findPaginatedByCriteria(this.locataireService.criteria).subscribe(e=>this.locataireService.items=e.list),this.banqueService.findPaginatedByCriteria(this.banqueService.criteria).subscribe(e=>{this.banqueService.items=e.list}),this.modePaiementService.findPaginatedByCriteria(this.modePaiementService.criteria).subscribe(e=>{this.modePaiementService.items=e.list}),this.caisseService.findPaginatedByCriteria(this.caisseService.criteria).subscribe(e=>{this.caisseService.items=e.list})}initCode(){this.item.code=`Reglement${Math.random().toFixed(6).toString()}`}onLocalChange(e){if(!e.value){this.locationsFiltres=[],this.locatairesFiltres=[];return}let i=e.value.id;this.locationsFiltres=this.locations.filter(t=>t.local.id===i),this.locatairesFiltres=this.locataires.filter(t=>this.locations.some(l=>l.local.id===i)),console.log(this.locatairesFiltres)}save(){this.submitted=!0,this.initCode(),this.item.compteSource=null,this.item.caisse=this.item.compteDestination.caisse,this.item.banque=this.item.compteDestination.banque,this.locataire!=null&&this.local!=null&&(this.item.location=this.locationService.items.find(e=>e.local.code===this.local?.code&&e.locataire.code===this.locataire?.code)),this.validateForm(),this.errorMessages.length===0?this.saveWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}saveWithShowOption(e){this.service.save().subscribe(i=>{i!=null?(this.messageService.add({severity:"success",summary:"",detail:"Reglement cr\xE9\xE9 avec Success"}),this.findPaginatedByCriteria(),this.createDialog=!1,this.submitted=!1,this.item=new Ae,this.item.caisse=null,this.item.banque=null,this.local=new mt,this.locataire=new ce,this.location=new se,this.compte=new Je):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},i=>{this.messageService.add({severity:"error",summary:"Erreurs",detail:"Erreur lors de la cr\xE9ation de la reglement"})})}hideCreateDialog(){this.createDialog=!1,this.setValidation(!0)}setValidation(e){}validateForm(){this.errorMessages=new Array}get location(){return this.locationService.item}set location(e){this.locationService.item=e}get locations(){return this.locationService.items}set locations(e){this.locationService.items=e}get createLocationDialog(){return this.locationService.createDialog}set createLocationDialog(e){this.locationService.createDialog=e}get validLocationCode(){return this._validLocationCode}set validLocationCode(e){this._validLocationCode=e}get items(){return this.service.items}set items(e){this.service.items=e}get locals(){return this.localService.items}set locals(e){this.localService.items=e}get locataires(){return this.locataireService.items}set locataires(e){this.locataireService.items=e}get caisses(){return this.caisseService.items}set caisses(e){this.caisseService.items=e}get banques(){return this.banqueService.items}set banques(e){this.banqueService.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}findPaginatedByCriteria(){this.service.findPaginatedByCriteria(this.criteria).subscribe(e=>{this.items=e.list},e=>console.log(e))}get comptes(){return this.compteService.items}set comptes(e){this.compteService.items=e}get modePaiements(){return this.modePaiementService.items}set modePaiements(e){this.modePaiementService.items=e}get CompteLocataires(){return this.CompteLocataireService.items}set CompteLocataires(e){this.CompteLocataireService.items=e}cancel(){this.item=new Ae,this.item.caisse=null,this.item.banque=null,this.local=new mt,this.locataire=new ce,this.location=new se,this.compte=new Je,this.navigateToList()}navigateToList(){this.router.navigate(["/app/admin/locataire/reglement/list"])}static{this.\u0275fac=function(i){return new(i||o)(w(xe),w(zt),w(lt),w(Ut),w(kt),w(vt),w(ye),w(Ft),w(de),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-reglement-create-admin"]],standalone:!1,decls:61,vars:82,consts:[[1,"container","mx-auto","p-4"],[1,"bg-white","shadow-md","rounded-lg"],[1,"border-b","p-4","flex","justify-between","items-center","bg-blue-200","text-white"],[1,"text-xl","font-semibold"],[1,"text-white","hover:bg-blue-600","p-2","rounded-md",3,"click"],[1,"pi","pi-times"],[1,"p-4"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["mode","decimal","locale","fr-FR","currency","MAD","id","1",3,"ngModelChange","minFractionDigits","maxFractionDigits","prefix","suffix","min","step","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],["appendTo","body","id","2",1,"w-full",3,"ngModelChange","showTime","showSeconds","placeholder","ngModel","dateFormat"],["for","4",1,"text-sm","font-semibold"],["appendTo","body","id","4","filterMatchMode","contains","optionLabel","label",1,"w-full",3,"ngModelChange","onChange","options","ngModel","filter","showClear","placeholder"],["appendTo","body","id","4","filterMatchMode","contains","optionLabel","fullName",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","source",1,"text-sm","font-semibold"],["appendTo","body","filterMatchMode","contains","optionLabel","code",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["appendTo","body","id","4","filterMatchMode","contains","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],[1,"field","flex","flex-col","gap-2"],["for","7",1,"text-sm","font-semibold"],["id","7","pTextarea","","rows","5","cols","30",3,"ngModelChange","placeholder","ngModel"],[1,"flex","justify-end","space-x-3","p-4","border-t"],["icon","pi pi-check","styleClass","p-button-primary",3,"click","label"],["icon","pi pi-times","styleClass","p-button-secondary",3,"click","label"]],template:function(i,t){i&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),d(4),s(5,"translate"),n(),a(6,"button",4),I("click",function(){return t.cancel()}),f(7,"i",5),n()(),f(8,"p-toast"),a(9,"div",6)(10,"p-tabView")(11,"p-tabPanel",7),s(12,"translate"),a(13,"div",8)(14,"div",9)(15,"label",10),d(16),s(17,"translate"),n(),a(18,"p-inputNumber",11),s(19,"translate"),C("ngModelChange",function(h){return b(t.item.montant,h)||(t.item.montant=h),h}),n()(),a(20,"div",9)(21,"label",12),d(22),s(23,"translate"),n(),a(24,"p-calendar",13),s(25,"translate"),C("ngModelChange",function(h){return b(t.item.date,h)||(t.item.date=h),h}),n()(),a(26,"div",9)(27,"label",14),d(28),s(29,"translate"),n(),a(30,"p-dropdown",15),s(31,"translate"),C("ngModelChange",function(h){return b(t.local,h)||(t.local=h),h}),I("onChange",function(h){return t.onLocalChange(h)}),n()(),a(32,"div",9)(33,"label",14),d(34),s(35,"translate"),n(),a(36,"p-dropdown",16),s(37,"translate"),C("ngModelChange",function(h){return b(t.locataire,h)||(t.locataire=h),h}),n()(),a(38,"div",9)(39,"label",17),d(40),s(41,"translate"),n(),a(42,"p-dropdown",18),s(43,"translate"),C("ngModelChange",function(h){return b(t.item.compteDestination,h)||(t.item.compteDestination=h),h}),n()(),a(44,"div",9)(45,"label",14),d(46),s(47,"translate"),n(),a(48,"p-dropdown",19),s(49,"translate"),C("ngModelChange",function(h){return b(t.item.modePaiement,h)||(t.item.modePaiement=h),h}),n()(),a(50,"div",20)(51,"label",21),d(52),s(53,"translate"),n(),a(54,"textarea",22),s(55,"translate"),C("ngModelChange",function(h){return b(t.item.motif,h)||(t.item.motif=h),h}),n()()()()()()(),a(56,"div",23)(57,"p-button",24),s(58,"translate"),I("click",function(){return t.save()}),n(),a(59,"p-button",25),s(60,"translate"),I("click",function(){return t.cancel()}),n()()()),i&2&&(r(4),u(p(5,46,"Reglement Compte Locataire")),r(7),g("header",p(12,48,"reglement.tabPan")),r(5),u(p(17,50,"reglement.montant")),r(2),g("placeholder",p(19,52,"reglement.montant")),c("minFractionDigits",2)("maxFractionDigits",4)("prefix","")("suffix"," MAD")("min",0)("step",.01),x("ngModel",t.item.montant),r(4),u(p(23,54,"reglement.date")),r(2),g("placeholder",p(25,56,"reglement.date")),g("dateFormat",t.dateFormat),c("showTime",!0)("showSeconds",!1),x("ngModel",t.item.date),r(4),u(p(29,58,"reglement.local")),r(2),g("placeholder",p(31,60,"reglement.local")),c("options",t.locals),x("ngModel",t.local),c("filter",!0)("showClear",!0),r(4),u(p(35,62,"reglement.locataire")),r(2),g("placeholder",p(37,64,"reglement.locataire")),c("options",t.locatairesFiltres),x("ngModel",t.locataire),c("filter",!0)("showClear",!0),r(4),u(p(41,66,"Compte Destination")),r(2),g("placeholder",p(43,68,"Compte Destination")),c("options",t.comptes),x("ngModel",t.item.compteDestination),c("filter",!0)("showClear",!0),r(4),u(p(47,70,"reglement.modepaiement")),r(2),g("placeholder",p(49,72,"reglement.modepaiement")),c("options",t.modePaiements),x("ngModel",t.item.modePaiement),c("filter",!0)("showClear",!0),r(4),u(p(53,74,"local.description")),r(2),g("placeholder",p(55,76,"local.description")),x("ngModel",t.item.motif),r(3),g("label",p(58,78,"validate")),r(2),g("label",p(60,80,"cancel")))},dependencies:[ue,ht,V,B,W,re,Y,X,Vt,ee,q,R],encapsulation:2})}}return o})();var Ts=()=>({width:"70vw"});function As(o,S){if(o&1){let e=T();a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),a(8,"p-inputNumber",7),s(9,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.montant,t)||(l.item.montant=t),v(t)}),n()(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),n(),a(14,"p-calendar",9),s(15,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.date,t)||(l.item.date=t),v(t)}),n()(),a(16,"div",5)(17,"label",10),d(18),s(19,"translate"),n(),a(20,"input",11),s(21,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.motif,t)||(l.item.motif=t),v(t)}),n()(),a(22,"div",5)(23,"label",12),d(24),s(25,"translate"),n(),a(26,"p-dropdown",13),s(27,"translate"),C("ngModelChange",function(t){_(e);let l=m();return b(l.item.location,t)||(l.item.location=t),v(t)}),n()()()()()}if(o&2){let e=m();r(),g("header",p(2,19,"reglement.tabPan")),r(5),u(p(7,21,"reglement.montant")),r(2),g("placeholder",p(9,23,"reglement.montant")),x("ngModel",e.item.montant),r(4),u(p(13,25,"reglement.date")),r(2),g("placeholder",p(15,27,"reglement.date")),g("dateFormat",e.dateFormat),c("showTime",!0)("showSeconds",!1),x("ngModel",e.item.date),r(4),u(p(19,29,"reglement.motif")),r(2),g("placeholder",p(21,31,"reglement.motif")),x("ngModel",e.item.motif),r(4),u(p(25,33,"reglement.location")),r(2),g("placeholder",p(27,35,"reglement.location")),c("options",e.locations),x("ngModel",e.item.location),c("filter",!0)("showClear",!0)}}function Ps(o,S){if(o&1){let e=T();a(0,"div",14)(1,"button",15),s(2,"translate"),I("click",function(){_(e);let t=m();return v(t.edit())}),f(3,"i",16),d(4),s(5,"translate"),n(),a(6,"button",17),I("click",function(){_(e);let t=m();return v(t.hideEditDialog())}),f(7,"i",18),d(8),s(9,"translate"),n()()}o&2&&(r(),g("label",p(2,3,"validate")),r(3),H(" ",p(5,5,"validate")," "),r(4),H(" ",p(9,7,"cancel")," "))}var pn=(()=>{class o{constructor(e,i,t){this.service=e,this.locationService=i,this.platformId=t,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validLocationCode=!0,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){this.locationService.findAll().subscribe(e=>this.locations=e)}prepareEdit(){this.item.date=this.service.format(this.item.date)}edit(){this.submitted=!0,this.prepareEdit(),this.validateForm(),this.errorMessages.length===0?this.editWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}editWithShowOption(e){this.service.edit().subscribe(i=>{let t=this.items.findIndex(l=>l.id===this.item.id);this.items[t]=i,this.editDialog=!1,this.submitted=!1,this.item=new Ae},i=>{console.log(i)})}hideEditDialog(){this.item=new Ae,this.editDialog=!1,this.setValidation(!0)}setValidation(e){}validateForm(){this.errorMessages=new Array}openCreateLocation(e){return A(this,null,function*(){(yield this.roleService.isPermitted("Location","edit"))?(this.location=new se,this.createLocationDialog=!0):this.messageService.add({severity:"error",summary:"erreur",detail:"probl\xE8me de permission"})})}get location(){return this.locationService.item}set location(e){this.locationService.item=e}get locations(){return this.locationService.items}set locations(e){this.locationService.items=e}get createLocationDialog(){return this.locationService.createDialog}set createLocationDialog(e){this.locationService.createDialog=e}get validLocationCode(){return this._validLocationCode}set validLocationCode(e){this._validLocationCode=e}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}static{this.\u0275fac=function(i){return new(i||o)(w(lt),w(de),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-reglement-edit-admin"]],standalone:!1,decls:4,vars:11,consts:[["closable","false","styleClass","p-fluid",3,"visibleChange","visible","header","modal","maximizable","draggable","resizable"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["id","1",3,"ngModelChange","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],["appendTo","body","id","2",1,"w-full",3,"ngModelChange","showTime","showSeconds","placeholder","ngModel","dateFormat"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","id","3",3,"ngModelChange","placeholder","ngModel"],["for","4",1,"text-sm","font-semibold"],["appendTo","body","id","4","filterMatchMode","contains","optionLabel","code",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],[1,"flex","justify-end","space-x-3","p-4"],[1,"bg-blue-500","text-white","px-4","py-2","rounded-md","hover:bg-primary",3,"click","label"],[1,"pi","pi-check"],[1,"border","border-gray-400","text-gray-600","hover:bg-gray-200","px-4","py-2","rounded-md",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),s(1,"translate"),C("visibleChange",function(h){return b(t.editDialog,h)||(t.editDialog=h),h}),M(2,As,28,37,"ng-template",1)(3,Ps,10,9,"ng-template",2),n()),i&2&&(U(E(10,Ts)),g("header",p(1,8,"reglement.tabPan")),x("visible",t.editDialog),c("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1))},dependencies:[z,Q,O,V,B,W,re,Y,X,ee,q,R],encapsulation:2})}}return o})();var Ds=()=>({width:"85vw",maxWidth:"1200px"});function Vs(o,S){if(o&1&&(a(0,"p-tabView")(1,"p-tabPanel",3),s(2,"translate"),a(3,"div",4)(4,"div",5)(5,"label",6),d(6),s(7,"translate"),n(),f(8,"p-inputNumber",7),s(9,"translate"),n(),a(10,"div",5)(11,"label",8),d(12),s(13,"translate"),n(),f(14,"p-calendar",9),s(15,"translate"),n(),a(16,"div",5)(17,"label",10),d(18),s(19,"translate"),n(),f(20,"input",11),s(21,"translate"),n(),a(22,"div",5)(23,"label",12),d(24),s(25,"translate"),n(),f(26,"input",13),s(27,"translate"),n()()()()),o&2){let e=m();r(),g("header",p(2,20,"reglement.tabPan")),r(5),u(p(7,22,"reglement.montant")),r(2),g("placeholder",p(9,24,"reglement.montant")),c("disabled",!0)("ngModel",e.item.montant),r(4),u(p(13,26,"reglement.date")),r(2),g("placeholder",p(15,28,"reglement.date")),g("dateFormat",e.dateFormat),c("disabled",!0)("showTime",!0)("showSeconds",!1)("ngModel",e.item.date),r(4),u(p(19,30,"reglement.motif")),r(2),g("placeholder",p(21,32,"reglement.motif")),c("disabled",!0)("ngModel",e.item.motif),r(4),u(p(25,34,"reglement.location")),r(2),g("placeholder",p(27,36,"reglement.location")),c("disabled",!0)("ngModel",e.item.location==null?null:e.item.location.code)}}function Bs(o,S){if(o&1){let e=T();a(0,"div",14)(1,"div")(2,"button",15),I("click",function(){_(e);let t=m();return v(t.hideViewDialog())}),f(3,"i",16),d(4," Annuler "),n()()()}}var dn=(()=>{class o{constructor(e,i){this.service=e,this.locationService=i,this._submitted=!1,this._errorMessages=new Array,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){}get location(){return this.locationService.item}set location(e){this.locationService.item=e}get locations(){return this.locationService.items}set locations(e){this.locationService.items=e}hideViewDialog(){this.item=new Ae,this.viewDialog=!1}get items(){return this.service.items}set items(e){this.service.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatView}get dateFormatColumn(){return L.dateFormatList}static{this.\u0275fac=function(i){return new(i||o)(w(lt),w(de))}}static{this.\u0275cmp=D({type:o,selectors:[["app-reglement-view-admin"]],standalone:!1,decls:3,vars:5,consts:[["closable","false","styleClass","p-fluid reglement-view-dialog",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["id","1",3,"disabled","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],["id","2",1,"w-full",3,"disabled","showTime","showSeconds","placeholder","ngModel","dateFormat"],["for","3",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","3",3,"disabled","placeholder","ngModel"],["for","4",1,"text-sm","font-semibold"],["type","text","pInputText","","autofocus","","id","4",3,"disabled","placeholder","ngModel"],[1,"flex","justify-end","p-4"],[1,"border","border-gray-400","font-semibold","py-2","px-4","rounded","shadow",3,"click"],[1,"pi","pi-times"]],template:function(i,t){i&1&&(a(0,"p-dialog",0),C("visibleChange",function(h){return b(t.viewDialog,h)||(t.viewDialog=h),h}),M(1,Vs,28,38,"ng-template",1)(2,Bs,5,0,"ng-template",2),n()),i&2&&(U(E(4,Ds)),x("visible",t.viewDialog),c("modal",!0))},dependencies:[z,Q,O,V,B,W,Y,X,ee,q,R],encapsulation:2})}}return o})();var Fs=()=>["montant","date","motif","locationcode"],ks=()=>[10,25,50],js=()=>({width:"450px"});function Rs(o,S){if(o&1){let e=T();a(0,"button",16),s(1,"translate"),I("click",function(){_(e);let t=m(2);return v(t.showSearch())}),n()}if(o&2){let e=m(2);Z("label"," ",p(1,4,"search"),""),Z("icon","pi pi-",e.findByCriteriaShow?"angle-down":"angle-right","")}}function Ns(o,S){if(o&1&&(a(0,"div",17),f(1,"p-splitButton",18),s(2,"translate"),n()),o&2){let e=m(2);r(),Z("label"," ",p(2,3,"export"),""),c("model",e.excelPdfButons)}}function Os(o,S){if(o&1){let e=T();a(0,"div",19)(1,"div",20)(2,"label",21),d(3),s(4,"translate"),n(),a(5,"p-inputNumber",22),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.montantMin,t)||(l.criteria.montantMin=t),v(t)}),n()(),a(6,"div",20)(7,"label",23),d(8),s(9,"translate"),n(),a(10,"p-inputNumber",24),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.montantMax,t)||(l.criteria.montantMax=t),v(t)}),n()(),a(11,"div",20)(12,"label",25),d(13),s(14,"translate"),n(),a(15,"p-calendar",26),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.dateFrom,t)||(l.criteria.dateFrom=t),v(t)}),n()(),a(16,"div",20)(17,"label",27),d(18),s(19,"translate"),n(),a(20,"p-calendar",28),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.dateTo,t)||(l.criteria.dateTo=t),v(t)}),n()(),a(21,"div",20)(22,"label",29),d(23),s(24,"translate"),n(),a(25,"input",30),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.motifLike,t)||(l.criteria.motifLike=t),v(t)}),n()(),a(26,"div",20)(27,"label",31),d(28),s(29,"translate"),n(),a(30,"p-dropdown",32),s(31,"translate"),C("ngModelChange",function(t){_(e);let l=m(2);return b(l.criteria.location,t)||(l.criteria.location=t),v(t)}),n()(),a(32,"div",33)(33,"button",34),s(34,"translate"),I("click",function(){_(e);let t=m(2);return v(t.findPaginatedByCriteria())}),f(35,"i",35),d(36),s(37,"translate"),n()()()}if(o&2){let e=m(2);r(3),u(p(4,20,"reglement.montantMin")),r(2),x("ngModel",e.criteria.montantMin),r(3),u(p(9,22,"reglement.montantMax")),r(2),x("ngModel",e.criteria.montantMax),r(3),u(p(14,24,"reglement.dateMin")),r(2),x("ngModel",e.criteria.dateFrom),c("showIcon",!0),r(3),u(p(19,26,"reglement.dateMax")),r(2),x("ngModel",e.criteria.dateTo),c("showIcon",!0),r(3),u(p(24,28,"reglement.motif")),r(2),x("ngModel",e.criteria.motifLike),r(3),u(p(29,30,"reglement.location")),r(2),g("placeholder",p(31,32,"reglement.location")),c("options",e.locations),x("ngModel",e.criteria.location),c("filter",!0)("showClear",!0),r(3),g("label",p(34,34,"validate")),r(3),H(" ",p(37,36,"validate")," ")}}function Us(o,S){if(o&1){let e=T();a(0,"div",36)(1,"h5",37),d(2),s(3,"translate"),n(),a(4,"span",38)(5,"p-iconfield",39),f(6,"p-inputicon",40),a(7,"input",41),s(8,"translate"),I("input",function(t){_(e),m();let l=De(9);return v(l.filterGlobal(t.target.value,"contains"))}),n()()()()}o&2&&(r(2),u(p(3,2,"reglement.header")),r(5),g("placeholder",p(8,4,"searchInput")))}function zs(o,S){o&1&&(a(0,"tr")(1,"th",42),f(2,"p-tableHeaderCheckbox"),n(),a(3,"th",43)(4,"div",44)(5,"span",45),d(6),s(7,"translate"),n(),f(8,"p-sortIcon",46),n()(),a(9,"th",47)(10,"div",44)(11,"span",45),d(12),s(13,"translate"),n(),f(14,"p-sortIcon",48),n()(),a(15,"th",49)(16,"div",44)(17,"span",45),d(18),s(19,"translate"),n()()(),a(20,"th",49)(21,"div",44)(22,"span",45),d(23),s(24,"translate"),n()()(),a(25,"th"),d(26,"Actions"),n()()),o&2&&(r(6),u(p(7,4,"reglement.montant")),r(6),u(p(13,6,"reglement.date")),r(6),u(p(19,8,"reglement.local")),r(5),u(p(24,10,"reglement.locataire")))}function Hs(o,S){if(o&1){let e=T();a(0,"button",52),I("click",function(){_(e);let t=m().$implicit,l=m(2);return v(l.delete(t))}),n()}}function qs(o,S){if(o&1&&(a(0,"tr")(1,"td"),f(2,"p-tableCheckbox",50),n(),a(3,"td"),d(4),n(),a(5,"td"),d(6),s(7,"date"),n(),a(8,"td"),d(9),n(),a(10,"td"),d(11),n(),a(12,"td"),M(13,Hs,1,0,"button",51),n()()),o&2){let e=S.$implicit,i=m(2);r(2),c("value",e),r(2),u(e.montant),r(2),u(Qe(7,6,e.date,"dd/MM/yyyy HH:mm")),r(3),u(e.location==null||e.location.local==null?null:e.location.local.label),r(2),u(e.location==null||e.location.locataire==null?null:e.location.locataire.fullName),r(2),c("ngIf",i.deleteActionIsValid)}}function Gs(o,S){if(o&1){let e=T();a(0,"p-paginator",53),I("onPageChange",function(t){_(e);let l=m(2);return v(l.onPage(t))}),n(),a(1,"div",54),d(2),n()}if(o&2){let e=m(2);c("rows",10)("totalRecords",e.totalRecords),r(2),Ve(" En totale il ",(e.items&&e.totalRecords==1,"y a")," ",e.items?e.totalRecords:0," ",e.items?e.totalRecords==1?"reglement":"reglements":0,". ")}}function Xs(o,S){o&1&&f(0,"app-reglement-create-admin")}function Ys(o,S){o&1&&f(0,"app-reglement-edit-admin")}function Ks(o,S){o&1&&f(0,"app-reglement-view-admin")}function Qs(o,S){if(o&1){let e=T();a(0,"div",3)(1,"div",4),f(2,"p-toast"),a(3,"div",5)(4,"p-toolbar",6),M(5,Rs,2,6,"ng-template",7)(6,Ns,3,5,"ng-template",8),n(),M(7,Os,38,38,"div",9),a(8,"p-table",10,0),s(10,"translate"),C("selectionChange",function(t){_(e);let l=m();return b(l.selections,t)||(l.selections=t),v(t)}),M(11,Us,9,6,"ng-template",11)(12,zs,27,12,"ng-template",12)(13,qs,14,9,"ng-template",13)(14,Gs,3,5,"ng-template",14),n()(),M(15,Xs,1,0,"app-reglement-create-admin",15)(16,Ys,1,0,"app-reglement-edit-admin",15)(17,Ks,1,0,"app-reglement-view-admin",15),f(18,"p-confirmDialog"),n()()}if(o&2){let e=m();r(7),c("ngIf",e.findByCriteriaShow),r(),g("currentPageReportTemplate",p(10,16,"les \xE9l\xE9ments de {first} \xE0 {last} sur {totalRecords} ")),c("value",e.items)("columns",e.cols)("rows",8)("paginator",!1)("globalFilterFields",E(18,Fs)),x("selection",e.selections),c("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",E(19,ks)),r(7),c("ngIf",e.createDialog&&e.createActionIsValid),r(),c("ngIf",e.editDialog&&e.editActionIsValid),r(),c("ngIf",e.viewDialog&&e.viewActionIsValid),r(),U(E(20,js))}}function Js(o,S){o&1&&(a(0,"p-card",55)(1,"p",56),d(2," You don't have permission to access ! "),n()())}var cn=(()=>{class o{constructor(e,i,t){this.service=e,this.locationService=i,this.platformId=t,this.fileName="Reglement",this.findByCriteriaShow=!1,this.cols=[],this.exportData=[],this.criteriaData=[],this._totalRecords=0,this.enableSecurity=!1,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.authService=y.injector.get(He),this.exportService=y.injector.get(Ie)}ngOnInit(){this.findPaginatedByCriteria(),this.initExport(),this.initCol(),this.loadLocation()}onExcelFileSelected(e){let i=e.target;i.files&&i.files.length>0&&(this.excelFile=i.files[0])}importExcel(){this.excelFile&&this.service.importExcel(this.excelFile).subscribe(e=>{this.items=e,this.messageService.add({severity:"success",summary:"Success",detail:"File uploaded successfully!",life:3e3})},e=>{this.messageService.add({severity:"error",summary:"Error",detail:"File uploaded with Error!",life:3e3})})}findPaginatedByCriteria(){this.service.findPaginatedByCriteria(this.criteria).subscribe(e=>{this.items=e.list,this.totalRecords=e.dataSize,this.selections=new Array},e=>console.log(e))}onPage(e){this.criteria.page=e.page,this.criteria.maxResults=e.rows,this.findPaginatedByCriteria()}edit(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,console.log(i),this.editDialog=!0})})}view(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.item=i,this.viewDialog=!0})})}openCreate(){return A(this,null,function*(){this.item=new Ae,this.createDialog=!0})}deleteMultiple(){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer ces \xE9l\xE9ments ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.deleteMultiple().subscribe(()=>{for(let e of this.selections){let i=this.items.findIndex(t=>t.id===e.id);this.items.splice(i,1)}this.selections=new Array,this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Les \xE9l\xE9ments s\xE9lectionn\xE9s ont \xE9t\xE9 supprim\xE9s",life:3e3})},e=>console.log(e))}})})}isSelectionDisabled(){return this.selections==null||this.selections.length==0}delete(e){return A(this,null,function*(){this.confirmationService.confirm({message:"Voulez-vous supprimer cet \xE9l\xE9ment ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",rejectButtonProps:{label:"Cancel",severity:"secondary",outlined:!0},acceptButtonProps:{label:"Ok"},accept:()=>{this.service.delete(e).subscribe(i=>{if(i>0){let t=this.items.indexOf(e);t>-1&&this.items.splice(t,1),this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"Element Supprim\xE9",life:3e3})}},i=>console.log(i))}})})}duplicate(e){return A(this,null,function*(){this.service.findByIdWithAssociatedList(e).subscribe(i=>{this.initDuplicate(i),this.item=i,this.item.id=null,this.createDialog=!0})})}initExport(){this.excelPdfButons=[{label:"CSV",icon:"pi pi-file",command:()=>{this.prepareColumnExport(),this.exportService.exporterCSV(this.criteriaData,this.exportData,this.fileName)}},{label:"XLS",icon:"pi pi-file-excel",command:()=>{this.prepareColumnExport(),this.exportService.exporterExcel(this.criteriaData,this.exportData,this.fileName)}},{label:"PDF",icon:"pi pi-file-pdf",command:()=>{this.prepareColumnExport(),this.exportService.exporterPdf(this.criteriaData,this.exportData,this.fileName)}}]}exportPdf(e){this.service.exportPdf(e).subscribe(i=>{let t=new Blob([i],{type:"application/pdf"}),l=window.URL.createObjectURL(t),h=document.createElement("a");h.href=l,h.download=this.pdfName,h.setAttribute("target","_blank"),h.click(),window.URL.revokeObjectURL(l)},i=>{console.error(i)})}showSearch(){this.findByCriteriaShow=!this.findByCriteriaShow}update(){this.service.edit().subscribe(e=>{let i=this.items.findIndex(t=>t.id===this.item.id);this.items[i]=e,this.editDialog=!1,this.item=new Ae},e=>{console.log(e)})}save(){this.service.save().subscribe(e=>{e!=null?(this.items.push(le({},e)),this.createDialog=!1,this.item=new Ae):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},e=>{console.log(e)})}initCol(){this.cols=[{field:"montant",header:"Montant"},{field:"date",header:"Date"},{field:"motif",header:"Motif"},{field:"location?.code",header:"Location"}]}loadLocation(){return A(this,null,function*(){this.locationService.findAllOptimized().subscribe(e=>this.locations=e,e=>console.log(e))})}initDuplicate(e){}prepareColumnExport(){this.service.findByCriteria(this.criteria).subscribe(e=>{this.exportData=e.map(i=>({Montant:i.montant,Date:this.datePipe.transform(i.date,"dd/MM/yyyy hh:mm"),Motif:i.motif,Location:i.location?.code})),this.criteriaData=[{"Montant Min":this.criteria.montantMin?this.criteria.montantMin:L.emptyForExport,"Montant Max":this.criteria.montantMax?this.criteria.montantMax:L.emptyForExport,"Date Min":this.criteria.dateFrom?this.datePipe.transform(this.criteria.dateFrom,this.dateFormat):L.emptyForExport,"Date Max":this.criteria.dateTo?this.datePipe.transform(this.criteria.dateTo,this.dateFormat):L.emptyForExport,Motif:this.criteria.motif?this.criteria.motif:L.emptyForExport}]})}get items(){return this.service.items}set items(e){this.service.items=e}get selections(){return this.service.selections}set selections(e){this.service.selections=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get editDialog(){return this.service.editDialog}set editDialog(e){this.service.editDialog=e}get viewDialog(){return this.service.viewDialog}set viewDialog(e){this.service.viewDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatList}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e}get pdfName(){return this._pdfName}set pdfName(e){this._pdfName=e}get createActionIsValid(){return this.service.createActionIsValid}set createActionIsValid(e){this.service.createActionIsValid=e}get editActionIsValid(){return this.service.editActionIsValid}set editActionIsValid(e){this.service.editActionIsValid=e}get listActionIsValid(){return this.service.listActionIsValid}set listActionIsValid(e){this.service.listActionIsValid=e}get deleteActionIsValid(){return this.service.deleteActionIsValid}set deleteActionIsValid(e){this.service.deleteActionIsValid=e}get viewActionIsValid(){return this.service.viewActionIsValid}set viewActionIsValid(e){this.service.viewActionIsValid=e}get duplicateActionIsValid(){return this.service.duplicateActionIsValid}set duplicateActionIsValid(e){this.service.duplicateActionIsValid=e}get createAction(){return this.service.createAction}set createAction(e){this.service.createAction=e}get listAction(){return this.service.listAction}set listAction(e){this.service.listAction=e}get editAction(){return this.service.editAction}set editAction(e){this.service.editAction=e}get deleteAction(){return this.service.deleteAction}set deleteAction(e){this.service.deleteAction=e}get viewAction(){return this.service.viewAction}set viewAction(e){this.service.viewAction=e}get duplicateAction(){return this.service.duplicateAction}set duplicateAction(e){this.service.duplicateAction=e}get entityName(){return this.service.entityName}set entityName(e){this.service.entityName=e}static{this.\u0275fac=function(i){return new(i||o)(w(lt),w(de),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-reglement-list-admin"]],standalone:!1,decls:2,vars:2,consts:[["dt",""],["class","grid",4,"ngIf"],["header","Permission not allowed",4,"ngIf"],[1,"grid"],[1,"col-12"],[1,"card"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4 border border-surface rounded-lg",4,"ngIf"],["dataKey","id","styleClass","p-datatable-customers","selectionMode","multiple",3,"selectionChange","value","columns","rows","paginator","globalFilterFields","selection","rowHover","currentPageReportTemplate","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],[4,"ngIf"],["pButton","","pRipple","",1,"p-button-secondary","mr-2","mb-2",3,"click","label","icon"],[1,"flex"],["icon","pi pi-download","styleClass","p-button-secondary",3,"label","model"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-4","p-4","border","border-surface","rounded-lg"],[1,"flex","flex-col","gap-2"],["for","1-1",1,"text-sm","font-semibold"],["mode","decimal","id","1-1",3,"ngModelChange","ngModel"],["for","1-2",1,"text-sm","font-semibold"],["mode","decimal","id","1-2",3,"ngModelChange","ngModel"],["for","2-1",1,"text-sm","font-semibold"],["id","2-1","dateFormat","dd-MM-yy",1,"p-fluid",3,"ngModelChange","ngModel","showIcon"],["for","2-2",1,"text-sm","font-semibold"],["id","2-2","dateFormat","dd-MM-yy",1,"p-fluid",3,"ngModelChange","ngModel","showIcon"],["for","3",1,"text-sm","font-semibold"],["pInputText","","id","3","type","text",3,"ngModelChange","ngModel"],["for","4-2",1,"text-sm","font-semibold"],["id","4","optionLabel","code",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],[1,"col-span-full","flex","justify-end","mt-4"],["pButton","","pRipple","",1,"px-4","py-2","rounded-md",3,"click","label"],[1,"pi","pi-sort-amount-down"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","p-2","gap-4"],[1,"text-center","md:text-left"],[1,"relative","w-full","md:w-auto"],["iconPosition","left",1,"w-full","md:w-auto"],[1,"pi","pi-search"],["pInputText","","type","text",1,"w-full","md:w-72","border","border-gray-300","rounded-md","p-2","focus:ring","focus:ring-blue-300",3,"input","placeholder"],[2,"width","3rem"],["pSortableColumn","montant"],[1,"p-d-flex","p-jc-between","p-ai-center"],[1,"mr-2"],["field","montant"],["pSortableColumn","date"],["field","date"],["pSortableColumn","location"],[3,"value"],["pButton","","pRipple","","icon","pi pi-trash","class","p-button-rounded p-button-danger mr-2",3,"click",4,"ngIf"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-danger","mr-2",3,"click"],[3,"onPageChange","rows","totalRecords"],[1,"p-d-flex","p-ai-center","p-jc-between"],["header","Permission not allowed"],[1,"m-0"]],template:function(i,t){i&1&&M(0,Qs,19,21,"div",1)(1,Js,3,0,"p-card",2),i&2&&(c("ngIf",t.listActionIsValid),r(),c("ngIf",!t.listActionIsValid))},dependencies:[J,ue,z,Fe,fe,je,Re,Ne,Oe,ze,O,Se,V,B,W,we,re,ee,q,ke,Ue,Be,We,Ce,Qt,pn,dn,P,R],encapsulation:2})}}return o})();var mn=(()=>{class o{constructor(e,i,t,l,h,Pe,Ee,et,Tt,Jt){this.compteService=e,this.CompteLocataireService=i,this.service=t,this.banqueService=l,this.modePaiementService=h,this.localService=Pe,this.locataireService=Ee,this.caisseService=et,this.locationService=Tt,this.platformId=Jt,this._submitted=!1,this._errorMessages=new Array,this._activeTab=0,this._validLocationCode=!0,this.locationsFiltres=[],this.locatairesFiltres=[],this.compte=new Je,this.datePipe=y.injector.get(P),this.messageService=y.injector.get(k),this.confirmationService=y.injector.get(F),this.roleService=y.injector.get(N),this.router=y.injector.get(j),this.stringUtilService=y.injector.get(K)}ngOnInit(){this.compteService.findAll().subscribe(e=>{this.comptes=e.filter(i=>i.code!=="CHARGE")}),this.locationService.findPaginatedByCriteria(this.locationService.criteria).subscribe(e=>{this.locations=e.list,this.locationService.items=e.list}),this.localService.findPaginatedByCriteria(this.localService.criteria).subscribe(e=>this.localService.items=e.list),this.locataireService.findPaginatedByCriteria(this.locataireService.criteria).subscribe(e=>this.locataireService.items=e.list),this.banqueService.findPaginatedByCriteria(this.banqueService.criteria).subscribe(e=>{this.banqueService.items=e.list}),this.modePaiementService.findPaginatedByCriteria(this.modePaiementService.criteria).subscribe(e=>{this.modePaiementService.items=e.list}),this.caisseService.findPaginatedByCriteria(this.caisseService.criteria).subscribe(e=>{this.caisseService.items=e.list})}initCode(){this.item.code=`Reglement${Math.random().toFixed(6).toString()}`}save(){this.submitted=!0,this.initCode(),this.item.caisse=null,this.item.banque=null,this.location=new se,this.validateForm(),this.errorMessages.length===0?this.saveWithShowOption(!1):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Merci de corrig\xE9 les erreurs sur le formulaire"})}saveWithShowOption(e){this.service.save().subscribe(i=>{i!=null?(this.messageService.add({severity:"success",summary:"",detail:"Reglement cr\xE9\xE9 avec Success"}),this.findPaginatedByCriteria(),this.createDialog=!1,this.submitted=!1,this.item=new Ae,this.local=new mt,this.item.caisse=null,this.item.banque=null,this.locataire=new ce,this.location=new se,this.compte=new Je):this.messageService.add({severity:"error",summary:"Erreurs",detail:"Element existant"})},i=>{this.messageService.add({severity:"error",summary:"Erreurs",detail:"Erreur lors de la cr\xE9ation de la reglement"})})}hideCreateDialog(){this.createDialog=!1,this.setValidation(!0)}setValidation(e){}validateForm(){this.errorMessages=new Array}get location(){return this.locationService.item}set location(e){this.locationService.item=e}get locations(){return this.locationService.items}set locations(e){this.locationService.items=e}get createLocationDialog(){return this.locationService.createDialog}set createLocationDialog(e){this.locationService.createDialog=e}get validLocationCode(){return this._validLocationCode}set validLocationCode(e){this._validLocationCode=e}get items(){return this.service.items}set items(e){this.service.items=e}get locals(){return this.localService.items}set locals(e){this.localService.items=e}get locataires(){return this.locataireService.items}set locataires(e){this.locataireService.items=e}get caisses(){return this.caisseService.items}set caisses(e){this.caisseService.items=e}get banques(){return this.banqueService.items}set banques(e){this.banqueService.items=e}get item(){return this.service.item}set item(e){this.service.item=e}get createDialog(){return this.service.createDialog}set createDialog(e){this.service.createDialog=e}get criteria(){return this.service.criteria}set criteria(e){this.service.criteria=e}get dateFormat(){return L.dateFormatCreate}get dateFormatColumn(){return L.dateFormatCreate}get submitted(){return this._submitted}set submitted(e){this._submitted=e}get errorMessages(){return this._errorMessages==null&&(this._errorMessages=new Array),this._errorMessages}set errorMessages(e){this._errorMessages=e}get validate(){return this.service.validate}set validate(e){this.service.validate=e}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}findPaginatedByCriteria(){this.service.findPaginatedByCriteria(this.criteria).subscribe(e=>{this.items=e.list},e=>console.log(e))}get comptes(){return this.compteService.items}set comptes(e){this.compteService.items=e}get modePaiements(){return this.modePaiementService.items}set modePaiements(e){this.modePaiementService.items=e}get CompteLocataires(){return this.CompteLocataireService.items}set CompteLocataires(e){this.CompteLocataireService.items=e}cancel(){this.item=new Ae,this.item.caisse=null,this.item.banque=null,this.local=new mt,this.locataire=new ce,this.location=new se,this.compte=new Je,this.navigateToList()}navigateToList(){this.router.navigate(["/app/admin/locataire/reglement/list"])}static{this.\u0275fac=function(i){return new(i||o)(w(xe),w(zt),w(lt),w(Ut),w(kt),w(vt),w(ye),w(Ft),w(de),w(G))}}static{this.\u0275cmp=D({type:o,selectors:[["app-create-for-instantanee"]],standalone:!1,decls:55,vars:72,consts:[[1,"container","mx-auto","p-4"],[1,"bg-white","shadow-md","rounded-lg"],[1,"border-b","p-4","flex","justify-between","items-center","bg-blue-200","text-white"],[1,"text-xl","font-semibold"],[1,"text-white","hover:bg-blue-600","p-2","rounded-md",3,"click"],[1,"pi","pi-times"],[1,"p-4"],[3,"header"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"flex","flex-col","gap-2"],["for","1",1,"text-sm","font-semibold"],["mode","decimal","locale","fr-FR","currency","MAD","id","1",3,"ngModelChange","minFractionDigits","maxFractionDigits","prefix","suffix","min","step","placeholder","ngModel"],["for","2",1,"text-sm","font-semibold"],["appendTo","body","id","2",1,"w-full",3,"ngModelChange","showTime","showSeconds","placeholder","ngModel","dateFormat"],["for","source",1,"text-sm","font-semibold"],["appendTo","body","id","source","filterMatchMode","contains","optionLabel","code",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["appendTo","body","filterMatchMode","contains","optionLabel","code",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],["for","4",1,"text-sm","font-semibold"],["appendTo","body","id","4","filterMatchMode","contains","optionLabel","label",1,"w-full",3,"ngModelChange","options","ngModel","filter","showClear","placeholder"],[1,"field","flex","flex-col","gap-2"],["for","7",1,"text-sm","font-semibold"],["id","7","pTextarea","","rows","5","cols","30",3,"ngModelChange","placeholder","ngModel"],[1,"flex","justify-end","space-x-3","p-4","border-t"],["icon","pi pi-check","styleClass","p-button-primary",3,"click","label"],["icon","pi pi-times","styleClass","p-button-secondary",3,"click","label"]],template:function(i,t){i&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),d(4),s(5,"translate"),n(),a(6,"button",4),I("click",function(){return t.cancel()}),f(7,"i",5),n()(),f(8,"p-toast"),a(9,"div",6)(10,"p-tabView")(11,"p-tabPanel",7),s(12,"translate"),a(13,"div",8)(14,"div",9)(15,"label",10),d(16),s(17,"translate"),n(),a(18,"p-inputNumber",11),s(19,"translate"),C("ngModelChange",function(h){return b(t.item.montant,h)||(t.item.montant=h),h}),n()(),a(20,"div",9)(21,"label",12),d(22),s(23,"translate"),n(),a(24,"p-calendar",13),s(25,"translate"),C("ngModelChange",function(h){return b(t.item.date,h)||(t.item.date=h),h}),n()(),a(26,"div",9)(27,"label",14),d(28),s(29,"translate"),n(),a(30,"p-dropdown",15),s(31,"translate"),C("ngModelChange",function(h){return b(t.item.compteSource,h)||(t.item.compteSource=h),h}),n()(),a(32,"div",9)(33,"label",14),d(34),s(35,"translate"),n(),a(36,"p-dropdown",16),s(37,"translate"),C("ngModelChange",function(h){return b(t.item.compteDestination,h)||(t.item.compteDestination=h),h}),n()(),a(38,"div",9)(39,"label",17),d(40),s(41,"translate"),n(),a(42,"p-dropdown",18),s(43,"translate"),C("ngModelChange",function(h){return b(t.item.modePaiement,h)||(t.item.modePaiement=h),h}),n()(),a(44,"div",19)(45,"label",20),d(46),s(47,"translate"),n(),a(48,"textarea",21),s(49,"translate"),C("ngModelChange",function(h){return b(t.item.motif,h)||(t.item.motif=h),h}),n()()()()()()(),a(50,"div",22)(51,"p-button",23),s(52,"translate"),I("click",function(){return t.save()}),n(),a(53,"p-button",24),s(54,"translate"),I("click",function(){return t.cancel()}),n()()()),i&2&&(r(4),u(p(5,40,"Reglement Compte Instantan\xE9e")),r(7),g("header",p(12,42,"reglement.tabPan")),r(5),u(p(17,44,"reglement.montant")),r(2),g("placeholder",p(19,46,"reglement.montant")),c("minFractionDigits",2)("maxFractionDigits",4)("prefix","")("suffix"," MAD")("min",0)("step",.01),x("ngModel",t.item.montant),r(4),u(p(23,48,"reglement.date")),r(2),g("placeholder",p(25,50,"reglement.date")),g("dateFormat",t.dateFormat),c("showTime",!0)("showSeconds",!1),x("ngModel",t.item.date),r(4),u(p(29,52,"Compte Source")),r(2),g("placeholder",p(31,54,"Compte Source")),c("options",t.comptes),x("ngModel",t.item.compteSource),c("filter",!0)("showClear",!0),r(4),u(p(35,56,"Compte Destination")),r(2),g("placeholder",p(37,58,"Compte Destination")),c("options",t.comptes),x("ngModel",t.item.compteDestination),c("filter",!0)("showClear",!0),r(4),u(p(41,60,"reglement.modepaiement")),r(2),g("placeholder",p(43,62,"reglement.modepaiement")),c("options",t.modePaiements),x("ngModel",t.item.modePaiement),c("filter",!0)("showClear",!0),r(4),u(p(47,64,"local.description")),r(2),g("placeholder",p(49,66,"local.description")),x("ngModel",t.item.motif),r(3),g("label",p(52,68,"validate")),r(2),g("label",p(54,70,"cancel")))},dependencies:[ue,ht,V,B,W,re,Y,X,Vt,ee,q,R],encapsulation:2})}}return o})();var k_=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=hi({type:o})}static{this.\u0275inj=gi({imports:[ei.forChild([{path:"",children:[{path:"action-permission",children:[{path:"list",component:xi,canActivate:[Le]}]},{path:"model-permission-user",children:[{path:"list",component:bi,canActivate:[Le]}]},{path:"role",children:[{path:"list",component:Ci,canActivate:[Le]}]},{path:"user",children:[{path:"list",component:fi,canActivate:[Le]}]},{path:"reglement",children:[{path:"list",component:cn,canActivate:[Le]},{path:"create",component:Qt,canActivate:[Le]},{path:"create-for-instantanee",component:mn,canActivate:[Le]}]},{path:"model-permission",children:[{path:"list",component:yi,canActivate:[Le]}]},{path:"statut-local",children:[{path:"list",component:Mi,canActivate:[Le]}]},{path:"locataire",children:[{path:"list",component:oi,canActivate:[Le]},{path:"create",component:Ht,canActivate:[Le]},{path:"edit",component:oi,canActivate:[Le]}]},{path:"avoir",children:[{path:"list",component:sn,canActivate:[Le]},{path:"create",component:Kt,canActivate:[Le]}]},{path:"type-locataire",children:[{path:"list",component:Wi,canActivate:[Le]}]},{path:"location",children:[{path:"list",component:Oi,canActivate:[Le]}]},{path:"mode-paiement",children:[{path:"list",component:qi,canActivate:[Le]}]},{path:"transaction",children:[{path:"list",component:Ki,canActivate:[Le]}]},{path:"type-paiement",children:[{path:"list",component:$i,canActivate:[Le]}]}]}]),ei]})}}return o})();export{k_ as a};
